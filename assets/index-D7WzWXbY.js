(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function co(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const je={},vs=[],_t=()=>{},_a=()=>!1,yn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),uo=e=>e.startsWith("onUpdate:"),qe=Object.assign,fo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ul=Object.prototype.hasOwnProperty,Ce=(e,t)=>Ul.call(e,t),oe=Array.isArray,bs=e=>Hs(e)==="[object Map]",ks=e=>Hs(e)==="[object Set]",To=e=>Hs(e)==="[object Date]",de=e=>typeof e=="function",He=e=>typeof e=="string",$t=e=>typeof e=="symbol",Ee=e=>e!==null&&typeof e=="object",$a=e=>(Ee(e)||de(e))&&de(e.then)&&de(e.catch),Sa=Object.prototype.toString,Hs=e=>Sa.call(e),Vl=e=>Hs(e).slice(8,-1),Ca=e=>Hs(e)==="[object Object]",kn=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,As=co(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wn=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},Kl=/-\w/g,Wt=wn(e=>e.replace(Kl,t=>t.slice(1).toUpperCase())),Fl=/\B([A-Z])/g,Qt=wn(e=>e.replace(Fl,"-$1").toLowerCase()),za=wn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ln=wn(e=>e?`on${za(e)}`:""),Kt=(e,t)=>!Object.is(e,t),on=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ia=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},_n=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Wl=e=>{const t=He(e)?Number(e):NaN;return isNaN(t)?e:t};let jo;const $n=()=>jo||(jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ke(e){if(oe(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],a=He(o)?Ql(o):Ke(o);if(a)for(const l in a)t[l]=a[l]}return t}else if(He(e)||Ee(e))return e}const Hl=/;(?![^(]*\))/g,Gl=/:([^]+)/,ql=/\/\*[^]*?\*\//g;function Ql(e){const t={};return e.replace(ql,"").split(Hl).forEach(s=>{if(s){const o=s.split(Gl);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function X(e){let t="";if(He(e))t=e;else if(oe(e))for(let s=0;s<e.length;s++){const o=X(e[s]);o&&(t+=o+" ")}else if(Ee(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Jl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yl=co(Jl);function Aa(e){return!!e||e===""}function Xl(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=ds(e[o],t[o]);return s}function ds(e,t){if(e===t)return!0;let s=To(e),o=To(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=$t(e),o=$t(t),s||o)return e===t;if(s=oe(e),o=oe(t),s||o)return s&&o?Xl(e,t):!1;if(s=Ee(e),o=Ee(t),s||o){if(!s||!o)return!1;const a=Object.keys(e).length,l=Object.keys(t).length;if(a!==l)return!1;for(const i in e){const r=e.hasOwnProperty(i),d=t.hasOwnProperty(i);if(r&&!d||!r&&d||!ds(e[i],t[i]))return!1}}return String(e)===String(t)}function po(e,t){return e.findIndex(s=>ds(s,t))}const Ea=e=>!!(e&&e.__v_isRef===!0),P=e=>He(e)?e:e==null?"":oe(e)||Ee(e)&&(e.toString===Sa||!de(e.toString))?Ea(e)?P(e.value):JSON.stringify(e,Ta,2):String(e),Ta=(e,t)=>Ea(t)?Ta(e,t.value):bs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,a],l)=>(s[Rn(o,l)+" =>"]=a,s),{})}:ks(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Rn(s))}:$t(t)?Rn(t):Ee(t)&&!oe(t)&&!Ca(t)?String(t):t,Rn=(e,t="")=>{var s;return $t(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let ot;class Zl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ot,!t&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ot;try{return ot=this,t()}finally{ot=s}}}on(){++this._on===1&&(this.prevScope=ot,ot=this)}off(){this._on>0&&--this._on===0&&(ot=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function ei(){return ot}let Me;const Bn=new WeakSet;class ja{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ot&&ot.active&&ot.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bn.has(this)&&(Bn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ma(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Oo(this),Pa(this);const t=Me,s=xt;Me=this,xt=!0;try{return this.fn()}finally{Na(this),Me=t,xt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)xo(t);this.deps=this.depsTail=void 0,Oo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jn(this)&&this.run()}get dirty(){return Jn(this)}}let Oa=0,Es,Ts;function Ma(e,t=!1){if(e.flags|=8,t){e.next=Ts,Ts=e;return}e.next=Es,Es=e}function vo(){Oa++}function bo(){if(--Oa>0)return;if(Ts){let t=Ts;for(Ts=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Es;){let t=Es;for(Es=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function Pa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Na(e){let t,s=e.depsTail,o=s;for(;o;){const a=o.prevDep;o.version===-1?(o===s&&(s=a),xo(o),ti(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=a}e.deps=t,e.depsTail=s}function Jn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(La(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function La(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ls)||(e.globalVersion=Ls,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Jn(e))))return;e.flags|=2;const t=e.dep,s=Me,o=xt;Me=e,xt=!0;try{Pa(e);const a=e.fn(e._value);(t.version===0||Kt(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Me=s,xt=o,Na(e),e.flags&=-3}}function xo(e,t=!1){const{dep:s,prevSub:o,nextSub:a}=e;if(o&&(o.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)xo(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function ti(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let xt=!0;const Ra=[];function Pt(){Ra.push(xt),xt=!1}function Nt(){const e=Ra.pop();xt=e===void 0?!0:e}function Oo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Me;Me=void 0;try{t()}finally{Me=s}}}let Ls=0;class si{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class go{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Me||!xt||Me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Me)s=this.activeLink=new si(Me,this),Me.deps?(s.prevDep=Me.depsTail,Me.depsTail.nextDep=s,Me.depsTail=s):Me.deps=Me.depsTail=s,Ba(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Me.depsTail,s.nextDep=void 0,Me.depsTail.nextDep=s,Me.depsTail=s,Me.deps===s&&(Me.deps=o)}return s}trigger(t){this.version++,Ls++,this.notify(t)}notify(t){vo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{bo()}}}function Ba(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Ba(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const dn=new WeakMap,as=Symbol(""),Yn=Symbol(""),Rs=Symbol("");function Ye(e,t,s){if(xt&&Me){let o=dn.get(e);o||dn.set(e,o=new Map);let a=o.get(s);a||(o.set(s,a=new go),a.map=o,a.key=s),a.track()}}function Tt(e,t,s,o,a,l){const i=dn.get(e);if(!i){Ls++;return}const r=d=>{d&&d.trigger()};if(vo(),t==="clear")i.forEach(r);else{const d=oe(e),f=d&&kn(s);if(d&&s==="length"){const c=Number(o);i.forEach((u,h)=>{(h==="length"||h===Rs||!$t(h)&&h>=c)&&r(u)})}else switch((s!==void 0||i.has(void 0))&&r(i.get(s)),f&&r(i.get(Rs)),t){case"add":d?f&&r(i.get("length")):(r(i.get(as)),bs(e)&&r(i.get(Yn)));break;case"delete":d||(r(i.get(as)),bs(e)&&r(i.get(Yn)));break;case"set":bs(e)&&r(i.get(as));break}}bo()}function ni(e,t){const s=dn.get(e);return s&&s.get(t)}function fs(e){const t=ve(e);return t===e?t:(Ye(t,"iterate",Rs),ct(e)?t:t.map(gt))}function Sn(e){return Ye(e=ve(e),"iterate",Rs),e}function Dt(e,t){return Lt(e)?hs(ls(e)?gt(t):t):gt(t)}const oi={__proto__:null,[Symbol.iterator](){return Dn(this,Symbol.iterator,e=>Dt(this,e))},concat(...e){return fs(this).concat(...e.map(t=>oe(t)?fs(t):t))},entries(){return Dn(this,"entries",e=>(e[1]=Dt(this,e[1]),e))},every(e,t){return zt(this,"every",e,t,void 0,arguments)},filter(e,t){return zt(this,"filter",e,t,s=>s.map(o=>Dt(this,o)),arguments)},find(e,t){return zt(this,"find",e,t,s=>Dt(this,s),arguments)},findIndex(e,t){return zt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return zt(this,"findLast",e,t,s=>Dt(this,s),arguments)},findLastIndex(e,t){return zt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return zt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Un(this,"includes",e)},indexOf(...e){return Un(this,"indexOf",e)},join(e){return fs(this).join(e)},lastIndexOf(...e){return Un(this,"lastIndexOf",e)},map(e,t){return zt(this,"map",e,t,void 0,arguments)},pop(){return _s(this,"pop")},push(...e){return _s(this,"push",e)},reduce(e,...t){return Mo(this,"reduce",e,t)},reduceRight(e,...t){return Mo(this,"reduceRight",e,t)},shift(){return _s(this,"shift")},some(e,t){return zt(this,"some",e,t,void 0,arguments)},splice(...e){return _s(this,"splice",e)},toReversed(){return fs(this).toReversed()},toSorted(e){return fs(this).toSorted(e)},toSpliced(...e){return fs(this).toSpliced(...e)},unshift(...e){return _s(this,"unshift",e)},values(){return Dn(this,"values",e=>Dt(this,e))}};function Dn(e,t,s){const o=Sn(e),a=o[t]();return o!==e&&!ct(e)&&(a._next=a.next,a.next=()=>{const l=a._next();return l.done||(l.value=s(l.value)),l}),a}const ai=Array.prototype;function zt(e,t,s,o,a,l){const i=Sn(e),r=i!==e&&!ct(e),d=i[t];if(d!==ai[t]){const u=d.apply(e,l);return r?gt(u):u}let f=s;i!==e&&(r?f=function(u,h){return s.call(this,Dt(e,u),h,e)}:s.length>2&&(f=function(u,h){return s.call(this,u,h,e)}));const c=d.call(i,f,o);return r&&a?a(c):c}function Mo(e,t,s,o){const a=Sn(e);let l=s;return a!==e&&(ct(e)?s.length>3&&(l=function(i,r,d){return s.call(this,i,r,d,e)}):l=function(i,r,d){return s.call(this,i,Dt(e,r),d,e)}),a[t](l,...o)}function Un(e,t,s){const o=ve(e);Ye(o,"iterate",Rs);const a=o[t](...s);return(a===-1||a===!1)&&Cn(s[0])?(s[0]=ve(s[0]),o[t](...s)):a}function _s(e,t,s=[]){Pt(),vo();const o=ve(e)[t].apply(e,s);return bo(),Nt(),o}const li=co("__proto__,__v_isRef,__isVue"),Da=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($t));function ii(e){$t(e)||(e=String(e));const t=ve(this);return Ye(t,"has",e),t.hasOwnProperty(e)}class Ua{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const a=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return l;if(s==="__v_raw")return o===(a?l?gi:Wa:l?Fa:Ka).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const i=oe(t);if(!a){let d;if(i&&(d=oi[s]))return d;if(s==="hasOwnProperty")return ii}const r=Reflect.get(t,s,Ge(t)?t:o);if(($t(s)?Da.has(s):li(s))||(a||Ye(t,"get",s),l))return r;if(Ge(r)){const d=i&&kn(s)?r:r.value;return a&&Ee(d)?Zn(d):d}return Ee(r)?a?Zn(r):Jt(r):r}}class Va extends Ua{constructor(t=!1){super(!1,t)}set(t,s,o,a){let l=t[s];const i=oe(t)&&kn(s);if(!this._isShallow){const f=Lt(l);if(!ct(o)&&!Lt(o)&&(l=ve(l),o=ve(o)),!i&&Ge(l)&&!Ge(o))return f||(l.value=o),!0}const r=i?Number(s)<t.length:Ce(t,s),d=Reflect.set(t,s,o,Ge(t)?t:a);return t===ve(a)&&(r?Kt(o,l)&&Tt(t,"set",s,o):Tt(t,"add",s,o)),d}deleteProperty(t,s){const o=Ce(t,s);t[s];const a=Reflect.deleteProperty(t,s);return a&&o&&Tt(t,"delete",s,void 0),a}has(t,s){const o=Reflect.has(t,s);return(!$t(s)||!Da.has(s))&&Ye(t,"has",s),o}ownKeys(t){return Ye(t,"iterate",oe(t)?"length":as),Reflect.ownKeys(t)}}class ri extends Ua{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ci=new Va,di=new ri,ui=new Va(!0);const Xn=e=>e,Xs=e=>Reflect.getPrototypeOf(e);function fi(e,t,s){return function(...o){const a=this.__v_raw,l=ve(a),i=bs(l),r=e==="entries"||e===Symbol.iterator&&i,d=e==="keys"&&i,f=a[e](...o),c=s?Xn:t?hs:gt;return!t&&Ye(l,"iterate",d?Yn:as),qe(Object.create(f),{next(){const{value:u,done:h}=f.next();return h?{value:u,done:h}:{value:r?[c(u[0]),c(u[1])]:c(u),done:h}}})}}function Zs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function pi(e,t){const s={get(a){const l=this.__v_raw,i=ve(l),r=ve(a);e||(Kt(a,r)&&Ye(i,"get",a),Ye(i,"get",r));const{has:d}=Xs(i),f=t?Xn:e?hs:gt;if(d.call(i,a))return f(l.get(a));if(d.call(i,r))return f(l.get(r));l!==i&&l.get(a)},get size(){const a=this.__v_raw;return!e&&Ye(ve(a),"iterate",as),a.size},has(a){const l=this.__v_raw,i=ve(l),r=ve(a);return e||(Kt(a,r)&&Ye(i,"has",a),Ye(i,"has",r)),a===r?l.has(a):l.has(a)||l.has(r)},forEach(a,l){const i=this,r=i.__v_raw,d=ve(r),f=t?Xn:e?hs:gt;return!e&&Ye(d,"iterate",as),r.forEach((c,u)=>a.call(l,f(c),f(u),i))}};return qe(s,e?{add:Zs("add"),set:Zs("set"),delete:Zs("delete"),clear:Zs("clear")}:{add(a){!t&&!ct(a)&&!Lt(a)&&(a=ve(a));const l=ve(this);return Xs(l).has.call(l,a)||(l.add(a),Tt(l,"add",a,a)),this},set(a,l){!t&&!ct(l)&&!Lt(l)&&(l=ve(l));const i=ve(this),{has:r,get:d}=Xs(i);let f=r.call(i,a);f||(a=ve(a),f=r.call(i,a));const c=d.call(i,a);return i.set(a,l),f?Kt(l,c)&&Tt(i,"set",a,l):Tt(i,"add",a,l),this},delete(a){const l=ve(this),{has:i,get:r}=Xs(l);let d=i.call(l,a);d||(a=ve(a),d=i.call(l,a)),r&&r.call(l,a);const f=l.delete(a);return d&&Tt(l,"delete",a,void 0),f},clear(){const a=ve(this),l=a.size!==0,i=a.clear();return l&&Tt(a,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=fi(a,e,t)}),s}function mo(e,t){const s=pi(e,t);return(o,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(Ce(s,a)&&a in o?s:o,a,l)}const vi={get:mo(!1,!1)},bi={get:mo(!1,!0)},xi={get:mo(!0,!1)};const Ka=new WeakMap,Fa=new WeakMap,Wa=new WeakMap,gi=new WeakMap;function mi(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hi(e){return e.__v_skip||!Object.isExtensible(e)?0:mi(Vl(e))}function Jt(e){return Lt(e)?e:ho(e,!1,ci,vi,Ka)}function yi(e){return ho(e,!1,ui,bi,Fa)}function Zn(e){return ho(e,!0,di,xi,Wa)}function ho(e,t,s,o,a){if(!Ee(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=hi(e);if(l===0)return e;const i=a.get(e);if(i)return i;const r=new Proxy(e,l===2?o:s);return a.set(e,r),r}function ls(e){return Lt(e)?ls(e.__v_raw):!!(e&&e.__v_isReactive)}function Lt(e){return!!(e&&e.__v_isReadonly)}function ct(e){return!!(e&&e.__v_isShallow)}function Cn(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function ki(e){return!Ce(e,"__v_skip")&&Object.isExtensible(e)&&Ia(e,"__v_skip",!0),e}const gt=e=>Ee(e)?Jt(e):e,hs=e=>Ee(e)?Zn(e):e;function Ge(e){return e?e.__v_isRef===!0:!1}function B(e){return wi(e,!1)}function wi(e,t){return Ge(e)?e:new _i(e,t)}class _i{constructor(t,s){this.dep=new go,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ve(t),this._value=s?t:gt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||ct(t)||Lt(t);t=o?t:ve(t),Kt(t,s)&&(this._rawValue=t,this._value=o?t:gt(t),this.dep.trigger())}}function Ne(e){return Ge(e)?e.value:e}const $i={get:(e,t,s)=>t==="__v_raw"?e:Ne(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const a=e[t];return Ge(a)&&!Ge(s)?(a.value=s,!0):Reflect.set(e,t,s,o)}};function Ha(e){return ls(e)?e:new Proxy(e,$i)}function Si(e){const t=oe(e)?new Array(e.length):{};for(const s in e)t[s]=zi(e,s);return t}class Ci{constructor(t,s,o){this._object=t,this._key=s,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=ve(t);let a=!0,l=t;if(!oe(t)||!kn(String(s)))do a=!Cn(l)||ct(l);while(a&&(l=l.__v_raw));this._shallow=a}get value(){let t=this._object[this._key];return this._shallow&&(t=Ne(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Ge(this._raw[this._key])){const s=this._object[this._key];if(Ge(s)){s.value=t;return}}this._object[this._key]=t}get dep(){return ni(this._raw,this._key)}}function zi(e,t,s){return new Ci(e,t,s)}class Ii{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new go(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ls-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Me!==this)return Ma(this,!0),!0}get value(){const t=this.dep.track();return La(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ai(e,t,s=!1){let o,a;return de(e)?o=e:(o=e.get,a=e.set),new Ii(o,a,s)}const en={},un=new WeakMap;let ns;function Ei(e,t=!1,s=ns){if(s){let o=un.get(s);o||un.set(s,o=[]),o.push(e)}}function Ti(e,t,s=je){const{immediate:o,deep:a,once:l,scheduler:i,augmentJob:r,call:d}=s,f=Q=>a?Q:ct(Q)||a===!1||a===0?jt(Q,1):jt(Q);let c,u,h,$,T=!1,j=!1;if(Ge(e)?(u=()=>e.value,T=ct(e)):ls(e)?(u=()=>f(e),T=!0):oe(e)?(j=!0,T=e.some(Q=>ls(Q)||ct(Q)),u=()=>e.map(Q=>{if(Ge(Q))return Q.value;if(ls(Q))return f(Q);if(de(Q))return d?d(Q,2):Q()})):de(e)?t?u=d?()=>d(e,2):e:u=()=>{if(h){Pt();try{h()}finally{Nt()}}const Q=ns;ns=c;try{return d?d(e,3,[$]):e($)}finally{ns=Q}}:u=_t,t&&a){const Q=u,ae=a===!0?1/0:a;u=()=>jt(Q(),ae)}const D=ei(),b=()=>{c.stop(),D&&D.active&&fo(D.effects,c)};if(l&&t){const Q=t;t=(...ae)=>{Q(...ae),b()}}let k=j?new Array(e.length).fill(en):en;const F=Q=>{if(!(!(c.flags&1)||!c.dirty&&!Q))if(t){const ae=c.run();if(a||T||(j?ae.some((me,xe)=>Kt(me,k[xe])):Kt(ae,k))){h&&h();const me=ns;ns=c;try{const xe=[ae,k===en?void 0:j&&k[0]===en?[]:k,$];k=ae,d?d(t,3,xe):t(...xe)}finally{ns=me}}}else c.run()};return r&&r(F),c=new ja(u),c.scheduler=i?()=>i(F,!1):F,$=Q=>Ei(Q,!1,c),h=c.onStop=()=>{const Q=un.get(c);if(Q){if(d)d(Q,4);else for(const ae of Q)ae();un.delete(c)}},t?o?F(!0):k=c.run():i?i(F.bind(null,!0),!0):c.run(),b.pause=c.pause.bind(c),b.resume=c.resume.bind(c),b.stop=b,b}function jt(e,t=1/0,s){if(t<=0||!Ee(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Ge(e))jt(e.value,t,s);else if(oe(e))for(let o=0;o<e.length;o++)jt(e[o],t,s);else if(ks(e)||bs(e))e.forEach(o=>{jt(o,t,s)});else if(Ca(e)){for(const o in e)jt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&jt(e[o],t,s)}return e}function Gs(e,t,s,o){try{return o?e(...o):e()}catch(a){zn(a,t,s)}}function mt(e,t,s,o){if(de(e)){const a=Gs(e,t,s,o);return a&&$a(a)&&a.catch(l=>{zn(l,t,s)}),a}if(oe(e)){const a=[];for(let l=0;l<e.length;l++)a.push(mt(e[l],t,s,o));return a}}function zn(e,t,s,o=!0){const a=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||je;if(t){let r=t.parent;const d=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,d,f)===!1)return}r=r.parent}if(l){Pt(),Gs(l,null,10,[e,d,f]),Nt();return}}ji(e,s,a,o,i)}function ji(e,t,s,o=!0,a=!1){if(a)throw e;console.error(e)}const Ze=[];let yt=-1;const xs=[];let Ut=null,ps=0;const Ga=Promise.resolve();let fn=null;function js(e){const t=fn||Ga;return e?t.then(this?e.bind(this):e):t}function Oi(e){let t=yt+1,s=Ze.length;for(;t<s;){const o=t+s>>>1,a=Ze[o],l=Bs(a);l<e||l===e&&a.flags&2?t=o+1:s=o}return t}function yo(e){if(!(e.flags&1)){const t=Bs(e),s=Ze[Ze.length-1];!s||!(e.flags&2)&&t>=Bs(s)?Ze.push(e):Ze.splice(Oi(t),0,e),e.flags|=1,qa()}}function qa(){fn||(fn=Ga.then(Ja))}function Mi(e){oe(e)?xs.push(...e):Ut&&e.id===-1?Ut.splice(ps+1,0,e):e.flags&1||(xs.push(e),e.flags|=1),qa()}function Po(e,t,s=yt+1){for(;s<Ze.length;s++){const o=Ze[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ze.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Qa(e){if(xs.length){const t=[...new Set(xs)].sort((s,o)=>Bs(s)-Bs(o));if(xs.length=0,Ut){Ut.push(...t);return}for(Ut=t,ps=0;ps<Ut.length;ps++){const s=Ut[ps];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ut=null,ps=0}}const Bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ja(e){try{for(yt=0;yt<Ze.length;yt++){const t=Ze[yt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Gs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yt<Ze.length;yt++){const t=Ze[yt];t&&(t.flags&=-2)}yt=-1,Ze.length=0,Qa(),fn=null,(Ze.length||xs.length)&&Ja()}}let pt=null,Ya=null;function pn(e){const t=pt;return pt=e,Ya=e&&e.type.__scopeId||null,t}function Ft(e,t=pt,s){if(!t||e._n)return e;const o=(...a)=>{o._d&&xn(-1);const l=pn(t);let i;try{i=e(...a)}finally{pn(l),o._d&&xn(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function le(e,t){if(pt===null)return e;const s=jn(pt),o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[l,i,r,d=je]=t[a];l&&(de(l)&&(l={mounted:l,updated:l}),l.deep&&jt(i),o.push({dir:l,instance:s,value:i,oldValue:void 0,arg:r,modifiers:d}))}return e}function Zt(e,t,s,o){const a=e.dirs,l=t&&t.dirs;for(let i=0;i<a.length;i++){const r=a[i];l&&(r.oldValue=l[i].value);let d=r.dir[o];d&&(Pt(),mt(d,s,8,[e.el,r,e,t]),Nt())}}function Pi(e,t){if(st){let s=st.provides;const o=st.parent&&st.parent.provides;o===s&&(s=st.provides=Object.create(o)),s[e]=t}}function an(e,t,s=!1){const o=zl();if(o||gs){let a=gs?gs._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return s&&de(t)?t.call(o&&o.proxy):t}}const Ni=Symbol.for("v-scx"),Li=()=>an(Ni);function is(e,t,s){return Xa(e,t,s)}function Xa(e,t,s=je){const{immediate:o,deep:a,flush:l,once:i}=s,r=qe({},s),d=t&&o||!t&&l!=="post";let f;if(Vs){if(l==="sync"){const $=Li();f=$.__watcherHandles||($.__watcherHandles=[])}else if(!d){const $=()=>{};return $.stop=_t,$.resume=_t,$.pause=_t,$}}const c=st;r.call=($,T,j)=>mt($,c,T,j);let u=!1;l==="post"?r.scheduler=$=>{it($,c&&c.suspense)}:l!=="sync"&&(u=!0,r.scheduler=($,T)=>{T?$():yo($)}),r.augmentJob=$=>{t&&($.flags|=4),u&&($.flags|=2,c&&($.id=c.uid,$.i=c))};const h=Ti(e,t,r);return Vs&&(f?f.push(h):d&&h()),h}function Ri(e,t,s){const o=this.proxy,a=He(e)?e.includes(".")?Za(o,e):()=>o[e]:e.bind(o,o);let l;de(t)?l=t:(l=t.handler,s=t);const i=qs(this),r=Xa(a,l.bind(o),s);return i(),r}function Za(e,t){const s=t.split(".");return()=>{let o=e;for(let a=0;a<s.length&&o;a++)o=o[s[a]];return o}}const Bi=Symbol("_vte"),el=e=>e.__isTeleport,Et=Symbol("_leaveCb"),tn=Symbol("_enterCb");function Di(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dt(()=>{e.isMounted=!0}),rl(()=>{e.isUnmounting=!0}),e}const ft=[Function,Array],tl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ft,onEnter:ft,onAfterEnter:ft,onEnterCancelled:ft,onBeforeLeave:ft,onLeave:ft,onAfterLeave:ft,onLeaveCancelled:ft,onBeforeAppear:ft,onAppear:ft,onAfterAppear:ft,onAppearCancelled:ft},sl=e=>{const t=e.subTree;return t.component?sl(t.component):t},Ui={name:"BaseTransition",props:tl,setup(e,{slots:t}){const s=zl(),o=Di();return()=>{const a=t.default&&al(t.default(),!0);if(!a||!a.length)return;const l=nl(a),i=ve(e),{mode:r}=i;if(o.isLeaving)return Vn(l);const d=No(l);if(!d)return Vn(l);let f=eo(d,i,o,s,u=>f=u);d.type!==tt&&Ds(d,f);let c=s.subTree&&No(s.subTree);if(c&&c.type!==tt&&!os(c,d)&&sl(s).type!==tt){let u=eo(c,i,o,s);if(Ds(c,u),r==="out-in"&&d.type!==tt)return o.isLeaving=!0,u.afterLeave=()=>{o.isLeaving=!1,s.job.flags&8||s.update(),delete u.afterLeave,c=void 0},Vn(l);r==="in-out"&&d.type!==tt?u.delayLeave=(h,$,T)=>{const j=ol(o,c);j[String(c.key)]=c,h[Et]=()=>{$(),h[Et]=void 0,delete f.delayedLeave,c=void 0},f.delayedLeave=()=>{T(),delete f.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return l}}};function nl(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==tt){t=s;break}}return t}const Vi=Ui;function ol(e,t){const{leavingVNodes:s}=e;let o=s.get(t.type);return o||(o=Object.create(null),s.set(t.type,o)),o}function eo(e,t,s,o,a){const{appear:l,mode:i,persisted:r=!1,onBeforeEnter:d,onEnter:f,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:$,onAfterLeave:T,onLeaveCancelled:j,onBeforeAppear:D,onAppear:b,onAfterAppear:k,onAppearCancelled:F}=t,Q=String(e.key),ae=ol(s,e),me=(Y,ie)=>{Y&&mt(Y,o,9,ie)},xe=(Y,ie)=>{const be=ie[1];me(Y,ie),oe(Y)?Y.every(U=>U.length<=1)&&be():Y.length<=1&&be()},he={mode:i,persisted:r,beforeEnter(Y){let ie=d;if(!s.isMounted)if(l)ie=D||d;else return;Y[Et]&&Y[Et](!0);const be=ae[Q];be&&os(e,be)&&be.el[Et]&&be.el[Et](),me(ie,[Y])},enter(Y){let ie=f,be=c,U=u;if(!s.isMounted)if(l)ie=b||f,be=k||c,U=F||u;else return;let _=!1;const m=Y[tn]=v=>{_||(_=!0,v?me(U,[Y]):me(be,[Y]),he.delayedLeave&&he.delayedLeave(),Y[tn]=void 0)};ie?xe(ie,[Y,m]):m()},leave(Y,ie){const be=String(e.key);if(Y[tn]&&Y[tn](!0),s.isUnmounting)return ie();me(h,[Y]);let U=!1;const _=Y[Et]=m=>{U||(U=!0,ie(),m?me(j,[Y]):me(T,[Y]),Y[Et]=void 0,ae[be]===e&&delete ae[be])};ae[be]=e,$?xe($,[Y,_]):_()},clone(Y){const ie=eo(Y,t,s,o,a);return a&&a(ie),ie}};return he}function Vn(e){if(In(e))return e=Ht(e),e.children=null,e}function No(e){if(!In(e))return el(e.type)&&e.children?nl(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&de(s.default))return s.default()}}function Ds(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ds(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function al(e,t=!1,s){let o=[],a=0;for(let l=0;l<e.length;l++){let i=e[l];const r=s==null?i.key:String(s)+String(i.key!=null?i.key:l);i.type===ne?(i.patchFlag&128&&a++,o=o.concat(al(i.children,t,r))):(t||i.type!==tt)&&o.push(r!=null?Ht(i,{key:r}):i)}if(a>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}function ll(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const vn=new WeakMap;function Os(e,t,s,o,a=!1){if(oe(e)){e.forEach((T,j)=>Os(T,t&&(oe(t)?t[j]:t),s,o,a));return}if(Ms(o)&&!a){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Os(e,t,s,o.component.subTree);return}const l=o.shapeFlag&4?jn(o.component):o.el,i=a?null:l,{i:r,r:d}=e,f=t&&t.r,c=r.refs===je?r.refs={}:r.refs,u=r.setupState,h=ve(u),$=u===je?_a:T=>Ce(h,T);if(f!=null&&f!==d){if(Lo(t),He(f))c[f]=null,$(f)&&(u[f]=null);else if(Ge(f)){f.value=null;const T=t;T.k&&(c[T.k]=null)}}if(de(d))Gs(d,r,12,[i,c]);else{const T=He(d),j=Ge(d);if(T||j){const D=()=>{if(e.f){const b=T?$(d)?u[d]:c[d]:d.value;if(a)oe(b)&&fo(b,l);else if(oe(b))b.includes(l)||b.push(l);else if(T)c[d]=[l],$(d)&&(u[d]=c[d]);else{const k=[l];d.value=k,e.k&&(c[e.k]=k)}}else T?(c[d]=i,$(d)&&(u[d]=i)):j&&(d.value=i,e.k&&(c[e.k]=i))};if(i){const b=()=>{D(),vn.delete(e)};b.id=-1,vn.set(e,b),it(b,s)}else Lo(e),D()}}}function Lo(e){const t=vn.get(e);t&&(t.flags|=8,vn.delete(e))}$n().requestIdleCallback;$n().cancelIdleCallback;const Ms=e=>!!e.type.__asyncLoader,In=e=>e.type.__isKeepAlive;function Ki(e,t){il(e,"a",t)}function Fi(e,t){il(e,"da",t)}function il(e,t,s=st){const o=e.__wdc||(e.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(An(t,o,s),s){let a=s.parent;for(;a&&a.parent;)In(a.parent.vnode)&&Wi(o,t,s,a),a=a.parent}}function Wi(e,t,s,o){const a=An(t,e,o,!0);ko(()=>{fo(o[t],a)},s)}function An(e,t,s=st,o=!1){if(s){const a=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...i)=>{Pt();const r=qs(s),d=mt(t,s,e,i);return r(),Nt(),d});return o?a.unshift(l):a.push(l),l}}const Rt=e=>(t,s=st)=>{(!Vs||e==="sp")&&An(e,(...o)=>t(...o),s)},Hi=Rt("bm"),dt=Rt("m"),Gi=Rt("bu"),qi=Rt("u"),rl=Rt("bum"),ko=Rt("um"),Qi=Rt("sp"),Ji=Rt("rtg"),Yi=Rt("rtc");function Xi(e,t=st){An("ec",e,t)}const Zi=Symbol.for("v-ndc");function fe(e,t,s,o){let a;const l=s,i=oe(e);if(i||He(e)){const r=i&&ls(e);let d=!1,f=!1;r&&(d=!ct(e),f=Lt(e),e=Sn(e)),a=new Array(e.length);for(let c=0,u=e.length;c<u;c++)a[c]=t(d?f?hs(gt(e[c])):gt(e[c]):e[c],c,void 0,l)}else if(typeof e=="number"){a=new Array(e);for(let r=0;r<e;r++)a[r]=t(r+1,r,void 0,l)}else if(Ee(e))if(e[Symbol.iterator])a=Array.from(e,(r,d)=>t(r,d,void 0,l));else{const r=Object.keys(e);a=new Array(r.length);for(let d=0,f=r.length;d<f;d++){const c=r[d];a[d]=t(e[c],c,d,l)}}else a=[];return a}const to=e=>e?Il(e)?jn(e):to(e.parent):null,Ps=qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>to(e.parent),$root:e=>to(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>dl(e),$forceUpdate:e=>e.f||(e.f=()=>{yo(e.update)}),$nextTick:e=>e.n||(e.n=js.bind(e.proxy)),$watch:e=>Ri.bind(e)}),Kn=(e,t)=>e!==je&&!e.__isScriptSetup&&Ce(e,t),er={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:a,props:l,accessCache:i,type:r,appContext:d}=e;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return o[t];case 2:return a[t];case 4:return s[t];case 3:return l[t]}else{if(Kn(o,t))return i[t]=1,o[t];if(a!==je&&Ce(a,t))return i[t]=2,a[t];if(Ce(l,t))return i[t]=3,l[t];if(s!==je&&Ce(s,t))return i[t]=4,s[t];so&&(i[t]=0)}}const f=Ps[t];let c,u;if(f)return t==="$attrs"&&Ye(e.attrs,"get",""),f(e);if((c=r.__cssModules)&&(c=c[t]))return c;if(s!==je&&Ce(s,t))return i[t]=4,s[t];if(u=d.config.globalProperties,Ce(u,t))return u[t]},set({_:e},t,s){const{data:o,setupState:a,ctx:l}=e;return Kn(a,t)?(a[t]=s,!0):o!==je&&Ce(o,t)?(o[t]=s,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:a,props:l,type:i}},r){let d;return!!(s[r]||e!==je&&r[0]!=="$"&&Ce(e,r)||Kn(t,r)||Ce(l,r)||Ce(o,r)||Ce(Ps,r)||Ce(a.config.globalProperties,r)||(d=i.__cssModules)&&d[r])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ce(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ro(e){return oe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let so=!0;function tr(e){const t=dl(e),s=e.proxy,o=e.ctx;so=!1,t.beforeCreate&&Bo(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:i,watch:r,provide:d,inject:f,created:c,beforeMount:u,mounted:h,beforeUpdate:$,updated:T,activated:j,deactivated:D,beforeDestroy:b,beforeUnmount:k,destroyed:F,unmounted:Q,render:ae,renderTracked:me,renderTriggered:xe,errorCaptured:he,serverPrefetch:Y,expose:ie,inheritAttrs:be,components:U,directives:_,filters:m}=t;if(f&&sr(f,o,null),i)for(const w in i){const z=i[w];de(z)&&(o[w]=z.bind(s))}if(a){const w=a.call(s,s);Ee(w)&&(e.data=Jt(w))}if(so=!0,l)for(const w in l){const z=l[w],re=de(z)?z.bind(s,s):de(z.get)?z.get.bind(s,s):_t,W=!de(z)&&de(z.set)?z.set.bind(s):_t,A=ye({get:re,set:W});Object.defineProperty(o,w,{enumerable:!0,configurable:!0,get:()=>A.value,set:E=>A.value=E})}if(r)for(const w in r)cl(r[w],o,s,w);if(d){const w=de(d)?d.call(s):d;Reflect.ownKeys(w).forEach(z=>{Pi(z,w[z])})}c&&Bo(c,e,"c");function S(w,z){oe(z)?z.forEach(re=>w(re.bind(s))):z&&w(z.bind(s))}if(S(Hi,u),S(dt,h),S(Gi,$),S(qi,T),S(Ki,j),S(Fi,D),S(Xi,he),S(Yi,me),S(Ji,xe),S(rl,k),S(ko,Q),S(Qi,Y),oe(ie))if(ie.length){const w=e.exposed||(e.exposed={});ie.forEach(z=>{Object.defineProperty(w,z,{get:()=>s[z],set:re=>s[z]=re,enumerable:!0})})}else e.exposed||(e.exposed={});ae&&e.render===_t&&(e.render=ae),be!=null&&(e.inheritAttrs=be),U&&(e.components=U),_&&(e.directives=_),Y&&ll(e)}function sr(e,t,s=_t){oe(e)&&(e=no(e));for(const o in e){const a=e[o];let l;Ee(a)?"default"in a?l=an(a.from||o,a.default,!0):l=an(a.from||o):l=an(a),Ge(l)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:i=>l.value=i}):t[o]=l}}function Bo(e,t,s){mt(oe(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function cl(e,t,s,o){let a=o.includes(".")?Za(s,o):()=>s[o];if(He(e)){const l=t[e];de(l)&&is(a,l)}else if(de(e))is(a,e.bind(s));else if(Ee(e))if(oe(e))e.forEach(l=>cl(l,t,s,o));else{const l=de(e.handler)?e.handler.bind(s):t[e.handler];de(l)&&is(a,l,e)}}function dl(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:i}}=e.appContext,r=l.get(t);let d;return r?d=r:!a.length&&!s&&!o?d=t:(d={},a.length&&a.forEach(f=>bn(d,f,i,!0)),bn(d,t,i)),Ee(t)&&l.set(t,d),d}function bn(e,t,s,o=!1){const{mixins:a,extends:l}=t;l&&bn(e,l,s,!0),a&&a.forEach(i=>bn(e,i,s,!0));for(const i in t)if(!(o&&i==="expose")){const r=nr[i]||s&&s[i];e[i]=r?r(e[i],t[i]):t[i]}return e}const nr={data:Do,props:Uo,emits:Uo,methods:Is,computed:Is,beforeCreate:Xe,created:Xe,beforeMount:Xe,mounted:Xe,beforeUpdate:Xe,updated:Xe,beforeDestroy:Xe,beforeUnmount:Xe,destroyed:Xe,unmounted:Xe,activated:Xe,deactivated:Xe,errorCaptured:Xe,serverPrefetch:Xe,components:Is,directives:Is,watch:ar,provide:Do,inject:or};function Do(e,t){return t?e?function(){return qe(de(e)?e.call(this,this):e,de(t)?t.call(this,this):t)}:t:e}function or(e,t){return Is(no(e),no(t))}function no(e){if(oe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Xe(e,t){return e?[...new Set([].concat(e,t))]:t}function Is(e,t){return e?qe(Object.create(null),e,t):t}function Uo(e,t){return e?oe(e)&&oe(t)?[...new Set([...e,...t])]:qe(Object.create(null),Ro(e),Ro(t??{})):t}function ar(e,t){if(!e)return t;if(!t)return e;const s=qe(Object.create(null),e);for(const o in t)s[o]=Xe(e[o],t[o]);return s}function ul(){return{app:null,config:{isNativeTag:_a,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lr=0;function ir(e,t){return function(o,a=null){de(o)||(o=qe({},o)),a!=null&&!Ee(a)&&(a=null);const l=ul(),i=new WeakSet,r=[];let d=!1;const f=l.app={_uid:lr++,_component:o,_props:a,_container:null,_context:l,_instance:null,version:Br,get config(){return l.config},set config(c){},use(c,...u){return i.has(c)||(c&&de(c.install)?(i.add(c),c.install(f,...u)):de(c)&&(i.add(c),c(f,...u))),f},mixin(c){return l.mixins.includes(c)||l.mixins.push(c),f},component(c,u){return u?(l.components[c]=u,f):l.components[c]},directive(c,u){return u?(l.directives[c]=u,f):l.directives[c]},mount(c,u,h){if(!d){const $=f._ceVNode||Le(o,a);return $.appContext=l,h===!0?h="svg":h===!1&&(h=void 0),e($,c,h),d=!0,f._container=c,c.__vue_app__=f,jn($.component)}},onUnmount(c){r.push(c)},unmount(){d&&(mt(r,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(c,u){return l.provides[c]=u,f},runWithContext(c){const u=gs;gs=f;try{return c()}finally{gs=u}}};return f}}let gs=null;const rr=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Wt(t)}Modifiers`]||e[`${Qt(t)}Modifiers`];function cr(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||je;let a=s;const l=t.startsWith("update:"),i=l&&rr(o,t.slice(7));i&&(i.trim&&(a=s.map(c=>He(c)?c.trim():c)),i.number&&(a=s.map(_n)));let r,d=o[r=Ln(t)]||o[r=Ln(Wt(t))];!d&&l&&(d=o[r=Ln(Qt(t))]),d&&mt(d,e,6,a);const f=o[r+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,mt(f,e,6,a)}}const dr=new WeakMap;function fl(e,t,s=!1){const o=s?dr:t.emitsCache,a=o.get(e);if(a!==void 0)return a;const l=e.emits;let i={},r=!1;if(!de(e)){const d=f=>{const c=fl(f,t,!0);c&&(r=!0,qe(i,c))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!r?(Ee(e)&&o.set(e,null),null):(oe(l)?l.forEach(d=>i[d]=null):qe(i,l),Ee(e)&&o.set(e,i),i)}function En(e,t){return!e||!yn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,Qt(t))||Ce(e,t))}function Vo(e){const{type:t,vnode:s,proxy:o,withProxy:a,propsOptions:[l],slots:i,attrs:r,emit:d,render:f,renderCache:c,props:u,data:h,setupState:$,ctx:T,inheritAttrs:j}=e,D=pn(e);let b,k;try{if(s.shapeFlag&4){const Q=a||o,ae=Q;b=kt(f.call(ae,Q,c,u,$,h,T)),k=r}else{const Q=t;b=kt(Q.length>1?Q(u,{attrs:r,slots:i,emit:d}):Q(u,null)),k=t.props?r:ur(r)}}catch(Q){Ns.length=0,zn(Q,e,1),b=Le(tt)}let F=b;if(k&&j!==!1){const Q=Object.keys(k),{shapeFlag:ae}=F;Q.length&&ae&7&&(l&&Q.some(uo)&&(k=fr(k,l)),F=Ht(F,k,!1,!0))}return s.dirs&&(F=Ht(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(s.dirs):s.dirs),s.transition&&Ds(F,s.transition),b=F,pn(D),b}const ur=e=>{let t;for(const s in e)(s==="class"||s==="style"||yn(s))&&((t||(t={}))[s]=e[s]);return t},fr=(e,t)=>{const s={};for(const o in e)(!uo(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function pr(e,t,s){const{props:o,children:a,component:l}=e,{props:i,children:r,patchFlag:d}=t,f=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return o?Ko(o,i,f):!!i;if(d&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const h=c[u];if(i[h]!==o[h]&&!En(f,h))return!0}}}else return(a||r)&&(!r||!r.$stable)?!0:o===i?!1:o?i?Ko(o,i,f):!0:!!i;return!1}function Ko(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const l=o[a];if(t[l]!==e[l]&&!En(s,l))return!0}return!1}function vr({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const pl={},vl=()=>Object.create(pl),bl=e=>Object.getPrototypeOf(e)===pl;function br(e,t,s,o=!1){const a={},l=vl();e.propsDefaults=Object.create(null),xl(e,t,a,l);for(const i in e.propsOptions[0])i in a||(a[i]=void 0);s?e.props=o?a:yi(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function xr(e,t,s,o){const{props:a,attrs:l,vnode:{patchFlag:i}}=e,r=ve(a),[d]=e.propsOptions;let f=!1;if((o||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let u=0;u<c.length;u++){let h=c[u];if(En(e.emitsOptions,h))continue;const $=t[h];if(d)if(Ce(l,h))$!==l[h]&&(l[h]=$,f=!0);else{const T=Wt(h);a[T]=oo(d,r,T,$,e,!1)}else $!==l[h]&&(l[h]=$,f=!0)}}}else{xl(e,t,a,l)&&(f=!0);let c;for(const u in r)(!t||!Ce(t,u)&&((c=Qt(u))===u||!Ce(t,c)))&&(d?s&&(s[u]!==void 0||s[c]!==void 0)&&(a[u]=oo(d,r,u,void 0,e,!0)):delete a[u]);if(l!==r)for(const u in l)(!t||!Ce(t,u))&&(delete l[u],f=!0)}f&&Tt(e.attrs,"set","")}function xl(e,t,s,o){const[a,l]=e.propsOptions;let i=!1,r;if(t)for(let d in t){if(As(d))continue;const f=t[d];let c;a&&Ce(a,c=Wt(d))?!l||!l.includes(c)?s[c]=f:(r||(r={}))[c]=f:En(e.emitsOptions,d)||(!(d in o)||f!==o[d])&&(o[d]=f,i=!0)}if(l){const d=ve(s),f=r||je;for(let c=0;c<l.length;c++){const u=l[c];s[u]=oo(a,d,u,f[u],e,!Ce(f,u))}}return i}function oo(e,t,s,o,a,l){const i=e[s];if(i!=null){const r=Ce(i,"default");if(r&&o===void 0){const d=i.default;if(i.type!==Function&&!i.skipFactory&&de(d)){const{propsDefaults:f}=a;if(s in f)o=f[s];else{const c=qs(a);o=f[s]=d.call(null,t),c()}}else o=d;a.ce&&a.ce._setProp(s,o)}i[0]&&(l&&!r?o=!1:i[1]&&(o===""||o===Qt(s))&&(o=!0))}return o}const gr=new WeakMap;function gl(e,t,s=!1){const o=s?gr:t.propsCache,a=o.get(e);if(a)return a;const l=e.props,i={},r=[];let d=!1;if(!de(e)){const c=u=>{d=!0;const[h,$]=gl(u,t,!0);qe(i,h),$&&r.push(...$)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!l&&!d)return Ee(e)&&o.set(e,vs),vs;if(oe(l))for(let c=0;c<l.length;c++){const u=Wt(l[c]);Fo(u)&&(i[u]=je)}else if(l)for(const c in l){const u=Wt(c);if(Fo(u)){const h=l[c],$=i[u]=oe(h)||de(h)?{type:h}:qe({},h),T=$.type;let j=!1,D=!0;if(oe(T))for(let b=0;b<T.length;++b){const k=T[b],F=de(k)&&k.name;if(F==="Boolean"){j=!0;break}else F==="String"&&(D=!1)}else j=de(T)&&T.name==="Boolean";$[0]=j,$[1]=D,(j||Ce($,"default"))&&r.push(u)}}const f=[i,r];return Ee(e)&&o.set(e,f),f}function Fo(e){return e[0]!=="$"&&!As(e)}const wo=e=>e==="_"||e==="_ctx"||e==="$stable",_o=e=>oe(e)?e.map(kt):[kt(e)],mr=(e,t,s)=>{if(t._n)return t;const o=Ft((...a)=>_o(t(...a)),s);return o._c=!1,o},ml=(e,t,s)=>{const o=e._ctx;for(const a in e){if(wo(a))continue;const l=e[a];if(de(l))t[a]=mr(a,l,o);else if(l!=null){const i=_o(l);t[a]=()=>i}}},hl=(e,t)=>{const s=_o(t);e.slots.default=()=>s},yl=(e,t,s)=>{for(const o in t)(s||!wo(o))&&(e[o]=t[o])},hr=(e,t,s)=>{const o=e.slots=vl();if(e.vnode.shapeFlag&32){const a=t._;a?(yl(o,t,s),s&&Ia(o,"_",a,!0)):ml(t,o)}else t&&hl(e,t)},yr=(e,t,s)=>{const{vnode:o,slots:a}=e;let l=!0,i=je;if(o.shapeFlag&32){const r=t._;r?s&&r===1?l=!1:yl(a,t,s):(l=!t.$stable,ml(t,a)),i=t}else t&&(hl(e,t),i={default:1});if(l)for(const r in a)!wo(r)&&i[r]==null&&delete a[r]},it=Sr;function kr(e){return wr(e)}function wr(e,t){const s=$n();s.__VUE__=!0;const{insert:o,remove:a,patchProp:l,createElement:i,createText:r,createComment:d,setText:f,setElementText:c,parentNode:u,nextSibling:h,setScopeId:$=_t,insertStaticContent:T}=e,j=(g,y,C,M=null,O=null,N=null,G=void 0,H=null,K=!!y.dynamicChildren)=>{if(g===y)return;g&&!os(g,y)&&(M=Qe(g),E(g,O,N,!0),g=null),y.patchFlag===-2&&(K=!1,y.dynamicChildren=null);const{type:L,ref:te,shapeFlag:J}=y;switch(L){case Tn:D(g,y,C,M);break;case tt:b(g,y,C,M);break;case ln:g==null&&k(y,C,M,G);break;case ne:U(g,y,C,M,O,N,G,H,K);break;default:J&1?ae(g,y,C,M,O,N,G,H,K):J&6?_(g,y,C,M,O,N,G,H,K):(J&64||J&128)&&L.process(g,y,C,M,O,N,G,H,K,Fe)}te!=null&&O?Os(te,g&&g.ref,N,y||g,!y):te==null&&g&&g.ref!=null&&Os(g.ref,null,N,g,!0)},D=(g,y,C,M)=>{if(g==null)o(y.el=r(y.children),C,M);else{const O=y.el=g.el;y.children!==g.children&&f(O,y.children)}},b=(g,y,C,M)=>{g==null?o(y.el=d(y.children||""),C,M):y.el=g.el},k=(g,y,C,M)=>{[g.el,g.anchor]=T(g.children,y,C,M,g.el,g.anchor)},F=({el:g,anchor:y},C,M)=>{let O;for(;g&&g!==y;)O=h(g),o(g,C,M),g=O;o(y,C,M)},Q=({el:g,anchor:y})=>{let C;for(;g&&g!==y;)C=h(g),a(g),g=C;a(y)},ae=(g,y,C,M,O,N,G,H,K)=>{if(y.type==="svg"?G="svg":y.type==="math"&&(G="mathml"),g==null)me(y,C,M,O,N,G,H,K);else{const L=g.el&&g.el._isVueCE?g.el:null;try{L&&L._beginPatch(),Y(g,y,O,N,G,H,K)}finally{L&&L._endPatch()}}},me=(g,y,C,M,O,N,G,H)=>{let K,L;const{props:te,shapeFlag:J,transition:se,dirs:V}=g;if(K=g.el=i(g.type,N,te&&te.is,te),J&8?c(K,g.children):J&16&&he(g.children,K,null,M,O,Fn(g,N),G,H),V&&Zt(g,null,M,"created"),xe(K,g,g.scopeId,G,M),te){for(const Z in te)Z!=="value"&&!As(Z)&&l(K,Z,null,te[Z],N,M);"value"in te&&l(K,"value",null,te.value,N),(L=te.onVnodeBeforeMount)&&ht(L,M,g)}V&&Zt(g,null,M,"beforeMount");const q=_r(O,se);q&&se.beforeEnter(K),o(K,y,C),((L=te&&te.onVnodeMounted)||q||V)&&it(()=>{L&&ht(L,M,g),q&&se.enter(K),V&&Zt(g,null,M,"mounted")},O)},xe=(g,y,C,M,O)=>{if(C&&$(g,C),M)for(let N=0;N<M.length;N++)$(g,M[N]);if(O){let N=O.subTree;if(y===N||$l(N.type)&&(N.ssContent===y||N.ssFallback===y)){const G=O.vnode;xe(g,G,G.scopeId,G.slotScopeIds,O.parent)}}},he=(g,y,C,M,O,N,G,H,K=0)=>{for(let L=K;L<g.length;L++){const te=g[L]=H?Vt(g[L]):kt(g[L]);j(null,te,y,C,M,O,N,G,H)}},Y=(g,y,C,M,O,N,G)=>{const H=y.el=g.el;let{patchFlag:K,dynamicChildren:L,dirs:te}=y;K|=g.patchFlag&16;const J=g.props||je,se=y.props||je;let V;if(C&&es(C,!1),(V=se.onVnodeBeforeUpdate)&&ht(V,C,y,g),te&&Zt(y,g,C,"beforeUpdate"),C&&es(C,!0),(J.innerHTML&&se.innerHTML==null||J.textContent&&se.textContent==null)&&c(H,""),L?ie(g.dynamicChildren,L,H,C,M,Fn(y,O),N):G||z(g,y,H,null,C,M,Fn(y,O),N,!1),K>0){if(K&16)be(H,J,se,C,O);else if(K&2&&J.class!==se.class&&l(H,"class",null,se.class,O),K&4&&l(H,"style",J.style,se.style,O),K&8){const q=y.dynamicProps;for(let Z=0;Z<q.length;Z++){const ee=q[Z],pe=J[ee],Ie=se[ee];(Ie!==pe||ee==="value")&&l(H,ee,pe,Ie,O,C)}}K&1&&g.children!==y.children&&c(H,y.children)}else!G&&L==null&&be(H,J,se,C,O);((V=se.onVnodeUpdated)||te)&&it(()=>{V&&ht(V,C,y,g),te&&Zt(y,g,C,"updated")},M)},ie=(g,y,C,M,O,N,G)=>{for(let H=0;H<y.length;H++){const K=g[H],L=y[H],te=K.el&&(K.type===ne||!os(K,L)||K.shapeFlag&198)?u(K.el):C;j(K,L,te,null,M,O,N,G,!0)}},be=(g,y,C,M,O)=>{if(y!==C){if(y!==je)for(const N in y)!As(N)&&!(N in C)&&l(g,N,y[N],null,O,M);for(const N in C){if(As(N))continue;const G=C[N],H=y[N];G!==H&&N!=="value"&&l(g,N,H,G,O,M)}"value"in C&&l(g,"value",y.value,C.value,O)}},U=(g,y,C,M,O,N,G,H,K)=>{const L=y.el=g?g.el:r(""),te=y.anchor=g?g.anchor:r("");let{patchFlag:J,dynamicChildren:se,slotScopeIds:V}=y;V&&(H=H?H.concat(V):V),g==null?(o(L,C,M),o(te,C,M),he(y.children||[],C,te,O,N,G,H,K)):J>0&&J&64&&se&&g.dynamicChildren&&g.dynamicChildren.length===se.length?(ie(g.dynamicChildren,se,C,O,N,G,H),(y.key!=null||O&&y===O.subTree)&&kl(g,y,!0)):z(g,y,C,te,O,N,G,H,K)},_=(g,y,C,M,O,N,G,H,K)=>{y.slotScopeIds=H,g==null?y.shapeFlag&512?O.ctx.activate(y,C,M,G,K):m(y,C,M,O,N,G,K):v(g,y,K)},m=(g,y,C,M,O,N,G)=>{const H=g.component=jr(g,M,O);if(In(g)&&(H.ctx.renderer=Fe),Or(H,!1,G),H.asyncDep){if(O&&O.registerDep(H,S,G),!g.el){const K=H.subTree=Le(tt);b(null,K,y,C),g.placeholder=K.el}}else S(H,g,y,C,O,N,G)},v=(g,y,C)=>{const M=y.component=g.component;if(pr(g,y,C))if(M.asyncDep&&!M.asyncResolved){w(M,y,C);return}else M.next=y,M.update();else y.el=g.el,M.vnode=y},S=(g,y,C,M,O,N,G)=>{const H=()=>{if(g.isMounted){let{next:J,bu:se,u:V,parent:q,vnode:Z}=g;{const Oe=wl(g);if(Oe){J&&(J.el=Z.el,w(g,J,G)),Oe.asyncDep.then(()=>{g.isUnmounted||H()});return}}let ee=J,pe;es(g,!1),J?(J.el=Z.el,w(g,J,G)):J=Z,se&&on(se),(pe=J.props&&J.props.onVnodeBeforeUpdate)&&ht(pe,q,J,Z),es(g,!0);const Ie=Vo(g),Ae=g.subTree;g.subTree=Ie,j(Ae,Ie,u(Ae.el),Qe(Ae),g,O,N),J.el=Ie.el,ee===null&&vr(g,Ie.el),V&&it(V,O),(pe=J.props&&J.props.onVnodeUpdated)&&it(()=>ht(pe,q,J,Z),O)}else{let J;const{el:se,props:V}=y,{bm:q,m:Z,parent:ee,root:pe,type:Ie}=g,Ae=Ms(y);es(g,!1),q&&on(q),!Ae&&(J=V&&V.onVnodeBeforeMount)&&ht(J,ee,y),es(g,!0);{pe.ce&&pe.ce._def.shadowRoot!==!1&&pe.ce._injectChildStyle(Ie);const Oe=g.subTree=Vo(g);j(null,Oe,C,M,g,O,N),y.el=Oe.el}if(Z&&it(Z,O),!Ae&&(J=V&&V.onVnodeMounted)){const Oe=y;it(()=>ht(J,ee,Oe),O)}(y.shapeFlag&256||ee&&Ms(ee.vnode)&&ee.vnode.shapeFlag&256)&&g.a&&it(g.a,O),g.isMounted=!0,y=C=M=null}};g.scope.on();const K=g.effect=new ja(H);g.scope.off();const L=g.update=K.run.bind(K),te=g.job=K.runIfDirty.bind(K);te.i=g,te.id=g.uid,K.scheduler=()=>yo(te),es(g,!0),L()},w=(g,y,C)=>{y.component=g;const M=g.vnode.props;g.vnode=y,g.next=null,xr(g,y.props,M,C),yr(g,y.children,C),Pt(),Po(g),Nt()},z=(g,y,C,M,O,N,G,H,K=!1)=>{const L=g&&g.children,te=g?g.shapeFlag:0,J=y.children,{patchFlag:se,shapeFlag:V}=y;if(se>0){if(se&128){W(L,J,C,M,O,N,G,H,K);return}else if(se&256){re(L,J,C,M,O,N,G,H,K);return}}V&8?(te&16&&_e(L,O,N),J!==L&&c(C,J)):te&16?V&16?W(L,J,C,M,O,N,G,H,K):_e(L,O,N,!0):(te&8&&c(C,""),V&16&&he(J,C,M,O,N,G,H,K))},re=(g,y,C,M,O,N,G,H,K)=>{g=g||vs,y=y||vs;const L=g.length,te=y.length,J=Math.min(L,te);let se;for(se=0;se<J;se++){const V=y[se]=K?Vt(y[se]):kt(y[se]);j(g[se],V,C,null,O,N,G,H,K)}L>te?_e(g,O,N,!0,!1,J):he(y,C,M,O,N,G,H,K,J)},W=(g,y,C,M,O,N,G,H,K)=>{let L=0;const te=y.length;let J=g.length-1,se=te-1;for(;L<=J&&L<=se;){const V=g[L],q=y[L]=K?Vt(y[L]):kt(y[L]);if(os(V,q))j(V,q,C,null,O,N,G,H,K);else break;L++}for(;L<=J&&L<=se;){const V=g[J],q=y[se]=K?Vt(y[se]):kt(y[se]);if(os(V,q))j(V,q,C,null,O,N,G,H,K);else break;J--,se--}if(L>J){if(L<=se){const V=se+1,q=V<te?y[V].el:M;for(;L<=se;)j(null,y[L]=K?Vt(y[L]):kt(y[L]),C,q,O,N,G,H,K),L++}}else if(L>se)for(;L<=J;)E(g[L],O,N,!0),L++;else{const V=L,q=L,Z=new Map;for(L=q;L<=se;L++){const $e=y[L]=K?Vt(y[L]):kt(y[L]);$e.key!=null&&Z.set($e.key,L)}let ee,pe=0;const Ie=se-q+1;let Ae=!1,Oe=0;const ut=new Array(Ie);for(L=0;L<Ie;L++)ut[L]=0;for(L=V;L<=J;L++){const $e=g[L];if(pe>=Ie){E($e,O,N,!0);continue}let ze;if($e.key!=null)ze=Z.get($e.key);else for(ee=q;ee<=se;ee++)if(ut[ee-q]===0&&os($e,y[ee])){ze=ee;break}ze===void 0?E($e,O,N,!0):(ut[ze-q]=L+1,ze>=Oe?Oe=ze:Ae=!0,j($e,y[ze],C,null,O,N,G,H,K),pe++)}const St=Ae?$r(ut):vs;for(ee=St.length-1,L=Ie-1;L>=0;L--){const $e=q+L,ze=y[$e],We=y[$e+1],Je=$e+1<te?We.el||_l(We):M;ut[L]===0?j(null,ze,C,Je,O,N,G,H,K):Ae&&(ee<0||L!==St[ee]?A(ze,C,Je,2):ee--)}}},A=(g,y,C,M,O=null)=>{const{el:N,type:G,transition:H,children:K,shapeFlag:L}=g;if(L&6){A(g.component.subTree,y,C,M);return}if(L&128){g.suspense.move(y,C,M);return}if(L&64){G.move(g,y,C,Fe);return}if(G===ne){o(N,y,C);for(let J=0;J<K.length;J++)A(K[J],y,C,M);o(g.anchor,y,C);return}if(G===ln){F(g,y,C);return}if(M!==2&&L&1&&H)if(M===0)H.beforeEnter(N),o(N,y,C),it(()=>H.enter(N),O);else{const{leave:J,delayLeave:se,afterLeave:V}=H,q=()=>{g.ctx.isUnmounted?a(N):o(N,y,C)},Z=()=>{N._isLeaving&&N[Et](!0),J(N,()=>{q(),V&&V()})};se?se(N,q,Z):Z()}else o(N,y,C)},E=(g,y,C,M=!1,O=!1)=>{const{type:N,props:G,ref:H,children:K,dynamicChildren:L,shapeFlag:te,patchFlag:J,dirs:se,cacheIndex:V}=g;if(J===-2&&(O=!1),H!=null&&(Pt(),Os(H,null,C,g,!0),Nt()),V!=null&&(y.renderCache[V]=void 0),te&256){y.ctx.deactivate(g);return}const q=te&1&&se,Z=!Ms(g);let ee;if(Z&&(ee=G&&G.onVnodeBeforeUnmount)&&ht(ee,y,g),te&6)Re(g.component,C,M);else{if(te&128){g.suspense.unmount(C,M);return}q&&Zt(g,null,y,"beforeUnmount"),te&64?g.type.remove(g,y,C,Fe,M):L&&!L.hasOnce&&(N!==ne||J>0&&J&64)?_e(L,y,C,!1,!0):(N===ne&&J&384||!O&&te&16)&&_e(K,y,C),M&&ce(g)}(Z&&(ee=G&&G.onVnodeUnmounted)||q)&&it(()=>{ee&&ht(ee,y,g),q&&Zt(g,null,y,"unmounted")},C)},ce=g=>{const{type:y,el:C,anchor:M,transition:O}=g;if(y===ne){we(C,M);return}if(y===ln){Q(g);return}const N=()=>{a(C),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(g.shapeFlag&1&&O&&!O.persisted){const{leave:G,delayLeave:H}=O,K=()=>G(C,N);H?H(g.el,N,K):K()}else N()},we=(g,y)=>{let C;for(;g!==y;)C=h(g),a(g),g=C;a(y)},Re=(g,y,C)=>{const{bum:M,scope:O,job:N,subTree:G,um:H,m:K,a:L}=g;Wo(K),Wo(L),M&&on(M),O.stop(),N&&(N.flags|=8,E(G,g,y,C)),H&&it(H,y),it(()=>{g.isUnmounted=!0},y)},_e=(g,y,C,M=!1,O=!1,N=0)=>{for(let G=N;G<g.length;G++)E(g[G],y,C,M,O)},Qe=g=>{if(g.shapeFlag&6)return Qe(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const y=h(g.anchor||g.el),C=y&&y[Bi];return C?h(C):y};let Be=!1;const Pe=(g,y,C)=>{let M;g==null?y._vnode&&(E(y._vnode,null,null,!0),M=y._vnode.component):j(y._vnode||null,g,y,null,null,null,C),y._vnode=g,Be||(Be=!0,Po(M),Qa(),Be=!1)},Fe={p:j,um:E,m:A,r:ce,mt:m,mc:he,pc:z,pbc:ie,n:Qe,o:e};return{render:Pe,hydrate:void 0,createApp:ir(Pe)}}function Fn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function es({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function _r(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function kl(e,t,s=!1){const o=e.children,a=t.children;if(oe(o)&&oe(a))for(let l=0;l<o.length;l++){const i=o[l];let r=a[l];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=a[l]=Vt(a[l]),r.el=i.el),!s&&r.patchFlag!==-2&&kl(i,r)),r.type===Tn&&(r.patchFlag!==-1?r.el=i.el:r.__elIndex=l+(e.type===ne?1:0)),r.type===tt&&!r.el&&(r.el=i.el)}}function $r(e){const t=e.slice(),s=[0];let o,a,l,i,r;const d=e.length;for(o=0;o<d;o++){const f=e[o];if(f!==0){if(a=s[s.length-1],e[a]<f){t[o]=a,s.push(o);continue}for(l=0,i=s.length-1;l<i;)r=l+i>>1,e[s[r]]<f?l=r+1:i=r;f<e[s[l]]&&(l>0&&(t[o]=s[l-1]),s[l]=o)}}for(l=s.length,i=s[l-1];l-- >0;)s[l]=i,i=t[i];return s}function wl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:wl(t)}function Wo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function _l(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?_l(t.subTree):null}const $l=e=>e.__isSuspense;function Sr(e,t){t&&t.pendingBranch?oe(e)?t.effects.push(...e):t.effects.push(e):Mi(e)}const ne=Symbol.for("v-fgt"),Tn=Symbol.for("v-txt"),tt=Symbol.for("v-cmt"),ln=Symbol.for("v-stc"),Ns=[];let rt=null;function p(e=!1){Ns.push(rt=e?null:[])}function Cr(){Ns.pop(),rt=Ns[Ns.length-1]||null}let Us=1;function xn(e,t=!1){Us+=e,e<0&&rt&&t&&(rt.hasOnce=!0)}function Sl(e){return e.dynamicChildren=Us>0?rt||vs:null,Cr(),Us>0&&rt&&rt.push(e),e}function x(e,t,s,o,a,l){return Sl(n(e,t,s,o,a,l,!0))}function De(e,t,s,o,a){return Sl(Le(e,t,s,o,a,!0))}function gn(e){return e?e.__v_isVNode===!0:!1}function os(e,t){return e.type===t.type&&e.key===t.key}const Cl=({key:e})=>e??null,rn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?He(e)||Ge(e)||de(e)?{i:pt,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,o=0,a=null,l=e===ne?0:1,i=!1,r=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Cl(t),ref:t&&rn(t),scopeId:Ya,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:pt};return r?($o(d,s),l&128&&e.normalize(d)):s&&(d.shapeFlag|=He(s)?8:16),Us>0&&!i&&rt&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&rt.push(d),d}const Le=zr;function zr(e,t=null,s=null,o=0,a=null,l=!1){if((!e||e===Zi)&&(e=tt),gn(e)){const r=Ht(e,t,!0);return s&&$o(r,s),Us>0&&!l&&rt&&(r.shapeFlag&6?rt[rt.indexOf(e)]=r:rt.push(r)),r.patchFlag=-2,r}if(Lr(e)&&(e=e.__vccOpts),t){t=Ir(t);let{class:r,style:d}=t;r&&!He(r)&&(t.class=X(r)),Ee(d)&&(Cn(d)&&!oe(d)&&(d=qe({},d)),t.style=Ke(d))}const i=He(e)?1:$l(e)?128:el(e)?64:Ee(e)?4:de(e)?2:0;return n(e,t,s,o,a,i,l,!0)}function Ir(e){return e?Cn(e)||bl(e)?qe({},e):e:null}function Ht(e,t,s=!1,o=!1){const{props:a,ref:l,patchFlag:i,children:r,transition:d}=e,f=t?Ar(a||{},t):a,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Cl(f),ref:t&&t.ref?s&&l?oe(l)?l.concat(rn(t)):[l,rn(t)]:rn(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ne?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ht(e.ssContent),ssFallback:e.ssFallback&&Ht(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&o&&Ds(c,d.clone(c)),c}function Gt(e=" ",t=0){return Le(Tn,null,e,t)}function lt(e,t){const s=Le(ln,null,e);return s.staticCount=t,s}function R(e="",t=!1){return t?(p(),De(tt,null,e)):Le(tt,null,e)}function kt(e){return e==null||typeof e=="boolean"?Le(tt):oe(e)?Le(ne,null,e.slice()):gn(e)?Vt(e):Le(Tn,null,String(e))}function Vt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ht(e)}function $o(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(oe(t))s=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),$o(e,a()),a._c&&(a._d=!0));return}else{s=32;const a=t._;!a&&!bl(t)?t._ctx=pt:a===3&&pt&&(pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else de(t)?(t={default:t,_ctx:pt},s=32):(t=String(t),o&64?(s=16,t=[Gt(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ar(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=X([t.class,o.class]));else if(a==="style")t.style=Ke([t.style,o.style]);else if(yn(a)){const l=t[a],i=o[a];i&&l!==i&&!(oe(l)&&l.includes(i))&&(t[a]=l?[].concat(l,i):i)}else a!==""&&(t[a]=o[a])}return t}function ht(e,t,s,o=null){mt(e,t,7,[s,o])}const Er=ul();let Tr=0;function jr(e,t,s){const o=e.type,a=(t?t.appContext:e.appContext)||Er,l={uid:Tr++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Zl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gl(o,a),emitsOptions:fl(o,a),emit:null,emitted:null,propsDefaults:je,inheritAttrs:o.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=cr.bind(null,l),e.ce&&e.ce(l),l}let st=null;const zl=()=>st||pt;let mn,ao;{const e=$n(),t=(s,o)=>{let a;return(a=e[s])||(a=e[s]=[]),a.push(o),l=>{a.length>1?a.forEach(i=>i(l)):a[0](l)}};mn=t("__VUE_INSTANCE_SETTERS__",s=>st=s),ao=t("__VUE_SSR_SETTERS__",s=>Vs=s)}const qs=e=>{const t=st;return mn(e),e.scope.on(),()=>{e.scope.off(),mn(t)}},Ho=()=>{st&&st.scope.off(),mn(null)};function Il(e){return e.vnode.shapeFlag&4}let Vs=!1;function Or(e,t=!1,s=!1){t&&ao(t);const{props:o,children:a}=e.vnode,l=Il(e);br(e,o,l,t),hr(e,a,s||t);const i=l?Mr(e,t):void 0;return t&&ao(!1),i}function Mr(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,er);const{setup:o}=s;if(o){Pt();const a=e.setupContext=o.length>1?Nr(e):null,l=qs(e),i=Gs(o,e,0,[e.props,a]),r=$a(i);if(Nt(),l(),(r||e.sp)&&!Ms(e)&&ll(e),r){if(i.then(Ho,Ho),t)return i.then(d=>{Go(e,d)}).catch(d=>{zn(d,e,0)});e.asyncDep=i}else Go(e,i)}else Al(e)}function Go(e,t,s){de(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ee(t)&&(e.setupState=Ha(t)),Al(e)}function Al(e,t,s){const o=e.type;e.render||(e.render=o.render||_t);{const a=qs(e);Pt();try{tr(e)}finally{Nt(),a()}}}const Pr={get(e,t){return Ye(e,"get",""),e[t]}};function Nr(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Pr),slots:e.slots,emit:e.emit,expose:t}}function jn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ha(ki(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ps)return Ps[s](e)},has(t,s){return s in t||s in Ps}})):e.proxy}function Lr(e){return de(e)&&"__vccOpts"in e}const ye=(e,t)=>Ai(e,t,Vs);function Rr(e,t,s){try{xn(-1);const o=arguments.length;return o===2?Ee(t)&&!oe(t)?gn(t)?Le(e,null,[t]):Le(e,t):Le(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&gn(s)&&(s=[s]),Le(e,t,s))}finally{xn(1)}}const Br="3.5.27";let lo;const qo=typeof window<"u"&&window.trustedTypes;if(qo)try{lo=qo.createPolicy("vue",{createHTML:e=>e})}catch{}const El=lo?e=>lo.createHTML(e):e=>e,Dr="http://www.w3.org/2000/svg",Ur="http://www.w3.org/1998/Math/MathML",At=typeof document<"u"?document:null,Qo=At&&At.createElement("template"),Vr={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const a=t==="svg"?At.createElementNS(Dr,e):t==="mathml"?At.createElementNS(Ur,e):s?At.createElement(e,{is:s}):At.createElement(e);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>At.createTextNode(e),createComment:e=>At.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>At.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,a,l){const i=s?s.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),s),!(a===l||!(a=a.nextSibling)););else{Qo.innerHTML=El(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const r=Qo.content;if(o==="svg"||o==="mathml"){const d=r.firstChild;for(;d.firstChild;)r.appendChild(d.firstChild);r.removeChild(d)}t.insertBefore(r,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Bt="transition",$s="animation",Ks=Symbol("_vtc"),Tl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Kr=qe({},tl,Tl),Fr=e=>(e.displayName="Transition",e.props=Kr,e),rs=Fr((e,{slots:t})=>Rr(Vi,Wr(e),t)),ts=(e,t=[])=>{oe(e)?e.forEach(s=>s(...t)):e&&e(...t)},Jo=e=>e?oe(e)?e.some(t=>t.length>1):e.length>1:!1;function Wr(e){const t={};for(const U in e)U in Tl||(t[U]=e[U]);if(e.css===!1)return t;const{name:s="v",type:o,duration:a,enterFromClass:l=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:r=`${s}-enter-to`,appearFromClass:d=l,appearActiveClass:f=i,appearToClass:c=r,leaveFromClass:u=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:$=`${s}-leave-to`}=e,T=Hr(a),j=T&&T[0],D=T&&T[1],{onBeforeEnter:b,onEnter:k,onEnterCancelled:F,onLeave:Q,onLeaveCancelled:ae,onBeforeAppear:me=b,onAppear:xe=k,onAppearCancelled:he=F}=t,Y=(U,_,m,v)=>{U._enterCancelled=v,ss(U,_?c:r),ss(U,_?f:i),m&&m()},ie=(U,_)=>{U._isLeaving=!1,ss(U,u),ss(U,$),ss(U,h),_&&_()},be=U=>(_,m)=>{const v=U?xe:k,S=()=>Y(_,U,m);ts(v,[_,S]),Yo(()=>{ss(_,U?d:l),It(_,U?c:r),Jo(v)||Xo(_,o,j,S)})};return qe(t,{onBeforeEnter(U){ts(b,[U]),It(U,l),It(U,i)},onBeforeAppear(U){ts(me,[U]),It(U,d),It(U,f)},onEnter:be(!1),onAppear:be(!0),onLeave(U,_){U._isLeaving=!0;const m=()=>ie(U,_);It(U,u),U._enterCancelled?(It(U,h),ta(U)):(ta(U),It(U,h)),Yo(()=>{U._isLeaving&&(ss(U,u),It(U,$),Jo(Q)||Xo(U,o,D,m))}),ts(Q,[U,m])},onEnterCancelled(U){Y(U,!1,void 0,!0),ts(F,[U])},onAppearCancelled(U){Y(U,!0,void 0,!0),ts(he,[U])},onLeaveCancelled(U){ie(U),ts(ae,[U])}})}function Hr(e){if(e==null)return null;if(Ee(e))return[Wn(e.enter),Wn(e.leave)];{const t=Wn(e);return[t,t]}}function Wn(e){return Wl(e)}function It(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Ks]||(e[Ks]=new Set)).add(t)}function ss(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const s=e[Ks];s&&(s.delete(t),s.size||(e[Ks]=void 0))}function Yo(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Gr=0;function Xo(e,t,s,o){const a=e._endId=++Gr,l=()=>{a===e._endId&&o()};if(s!=null)return setTimeout(l,s);const{type:i,timeout:r,propCount:d}=qr(e,t);if(!i)return o();const f=i+"end";let c=0;const u=()=>{e.removeEventListener(f,h),l()},h=$=>{$.target===e&&++c>=d&&u()};setTimeout(()=>{c<d&&u()},r+1),e.addEventListener(f,h)}function qr(e,t){const s=window.getComputedStyle(e),o=T=>(s[T]||"").split(", "),a=o(`${Bt}Delay`),l=o(`${Bt}Duration`),i=Zo(a,l),r=o(`${$s}Delay`),d=o(`${$s}Duration`),f=Zo(r,d);let c=null,u=0,h=0;t===Bt?i>0&&(c=Bt,u=i,h=l.length):t===$s?f>0&&(c=$s,u=f,h=d.length):(u=Math.max(i,f),c=u>0?i>f?Bt:$s:null,h=c?c===Bt?l.length:d.length:0);const $=c===Bt&&/\b(?:transform|all)(?:,|$)/.test(o(`${Bt}Property`).toString());return{type:c,timeout:u,propCount:h,hasTransform:$}}function Zo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,o)=>ea(s)+ea(e[o])))}function ea(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ta(e){return(e?e.ownerDocument:document).body.offsetHeight}function Qr(e,t,s){const o=e[Ks];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const hn=Symbol("_vod"),jl=Symbol("_vsh"),Jr={name:"show",beforeMount(e,{value:t},{transition:s}){e[hn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ss(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),Ss(e,!0),o.enter(e)):o.leave(e,()=>{Ss(e,!1)}):Ss(e,t))},beforeUnmount(e,{value:t}){Ss(e,t)}};function Ss(e,t){e.style.display=t?e[hn]:"none",e[jl]=!t}const Yr=Symbol(""),Xr=/(?:^|;)\s*display\s*:/;function Zr(e,t,s){const o=e.style,a=He(s);let l=!1;if(s&&!a){if(t)if(He(t))for(const i of t.split(";")){const r=i.slice(0,i.indexOf(":")).trim();s[r]==null&&cn(o,r,"")}else for(const i in t)s[i]==null&&cn(o,i,"");for(const i in s)i==="display"&&(l=!0),cn(o,i,s[i])}else if(a){if(t!==s){const i=o[Yr];i&&(s+=";"+i),o.cssText=s,l=Xr.test(s)}}else t&&e.removeAttribute("style");hn in e&&(e[hn]=l?o.display:"",e[jl]&&(o.display="none"))}const sa=/\s*!important$/;function cn(e,t,s){if(oe(s))s.forEach(o=>cn(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=ec(e,t);sa.test(s)?e.setProperty(Qt(o),s.replace(sa,""),"important"):e[o]=s}}const na=["Webkit","Moz","ms"],Hn={};function ec(e,t){const s=Hn[t];if(s)return s;let o=Wt(t);if(o!=="filter"&&o in e)return Hn[t]=o;o=za(o);for(let a=0;a<na.length;a++){const l=na[a]+o;if(l in e)return Hn[t]=l}return t}const oa="http://www.w3.org/1999/xlink";function aa(e,t,s,o,a,l=Yl(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(oa,t.slice(6,t.length)):e.setAttributeNS(oa,t,s):s==null||l&&!Aa(s)?e.removeAttribute(t):e.setAttribute(t,l?"":$t(s)?String(s):s)}function la(e,t,s,o,a){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?El(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const r=l==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(r!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const r=typeof e[t];r==="boolean"?s=Aa(s):s==null&&r==="string"?(s="",i=!0):r==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(a||t)}function Ot(e,t,s,o){e.addEventListener(t,s,o)}function tc(e,t,s,o){e.removeEventListener(t,s,o)}const ia=Symbol("_vei");function sc(e,t,s,o,a=null){const l=e[ia]||(e[ia]={}),i=l[t];if(o&&i)i.value=o;else{const[r,d]=nc(t);if(o){const f=l[t]=lc(o,a);Ot(e,r,f,d)}else i&&(tc(e,r,i,d),l[t]=void 0)}}const ra=/(?:Once|Passive|Capture)$/;function nc(e){let t;if(ra.test(e)){t={};let o;for(;o=e.match(ra);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qt(e.slice(2)),t]}let Gn=0;const oc=Promise.resolve(),ac=()=>Gn||(oc.then(()=>Gn=0),Gn=Date.now());function lc(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;mt(ic(o,s.value),t,5,[o])};return s.value=e,s.attached=ac(),s}function ic(e,t){if(oe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const ca=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,rc=(e,t,s,o,a,l)=>{const i=a==="svg";t==="class"?Qr(e,o,i):t==="style"?Zr(e,s,o):yn(t)?uo(t)||sc(e,t,s,o,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):cc(e,t,o,i))?(la(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&aa(e,t,o,i,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!He(o))?la(e,Wt(t),o,l,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),aa(e,t,o,i))};function cc(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&ca(t)&&de(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return ca(t)&&He(s)?!1:t in e}const qt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return oe(t)?s=>on(t,s):t};function dc(e){e.target.composing=!0}function da(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vt=Symbol("_assign");function ua(e,t,s){return t&&(e=e.trim()),s&&(e=_n(e)),e}const ue={created(e,{modifiers:{lazy:t,trim:s,number:o}},a){e[vt]=qt(a);const l=o||a.props&&a.props.type==="number";Ot(e,t?"change":"input",i=>{i.target.composing||e[vt](ua(e.value,s,l))}),(s||l)&&Ot(e,"change",()=>{e.value=ua(e.value,s,l)}),t||(Ot(e,"compositionstart",dc),Ot(e,"compositionend",da),Ot(e,"change",da))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:a,number:l}},i){if(e[vt]=qt(i),e.composing)return;const r=(l||e.type==="number")&&!/^0\d/.test(e.value)?_n(e.value):e.value,d=t??"";r!==d&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||a&&e.value.trim()===d)||(e.value=d))}},Fs={deep:!0,created(e,t,s){e[vt]=qt(s),Ot(e,"change",()=>{const o=e._modelValue,a=ys(e),l=e.checked,i=e[vt];if(oe(o)){const r=po(o,a),d=r!==-1;if(l&&!d)i(o.concat(a));else if(!l&&d){const f=[...o];f.splice(r,1),i(f)}}else if(ks(o)){const r=new Set(o);l?r.add(a):r.delete(a),i(r)}else i(Ol(e,l))})},mounted:fa,beforeUpdate(e,t,s){e[vt]=qt(s),fa(e,t,s)}};function fa(e,{value:t,oldValue:s},o){e._modelValue=t;let a;if(oe(t))a=po(t,o.props.value)>-1;else if(ks(t))a=t.has(o.props.value);else{if(t===s)return;a=ds(t,Ol(e,!0))}e.checked!==a&&(e.checked=a)}const uc={created(e,{value:t},s){e.checked=ds(t,s.props.value),e[vt]=qt(s),Ot(e,"change",()=>{e[vt](ys(e))})},beforeUpdate(e,{value:t,oldValue:s},o){e[vt]=qt(o),t!==s&&(e.checked=ds(t,o.props.value))}},Qs={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const a=ks(t);Ot(e,"change",()=>{const l=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>s?_n(ys(i)):ys(i));e[vt](e.multiple?a?new Set(l):l:l[0]),e._assigning=!0,js(()=>{e._assigning=!1})}),e[vt]=qt(o)},mounted(e,{value:t}){pa(e,t)},beforeUpdate(e,t,s){e[vt]=qt(s)},updated(e,{value:t}){e._assigning||pa(e,t)}};function pa(e,t){const s=e.multiple,o=oe(t);if(!(s&&!o&&!ks(t))){for(let a=0,l=e.options.length;a<l;a++){const i=e.options[a],r=ys(i);if(s)if(o){const d=typeof r;d==="string"||d==="number"?i.selected=t.some(f=>String(f)===String(r)):i.selected=po(t,r)>-1}else i.selected=t.has(r);else if(ds(ys(i),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ys(e){return"_value"in e?e._value:e.value}function Ol(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const fc={created(e,t,s){sn(e,t,s,null,"created")},mounted(e,t,s){sn(e,t,s,null,"mounted")},beforeUpdate(e,t,s,o){sn(e,t,s,o,"beforeUpdate")},updated(e,t,s,o){sn(e,t,s,o,"updated")}};function pc(e,t){switch(e){case"SELECT":return Qs;case"TEXTAREA":return ue;default:switch(t){case"checkbox":return Fs;case"radio":return uc;default:return ue}}}function sn(e,t,s,o,a){const i=pc(e.tagName,s.props&&s.props.type)[a];i&&i(e,t,s,o)}const vc=["ctrl","shift","alt","meta"],bc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>vc.some(s=>e[`${s}Key`]&&!t.includes(s))},et=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=((a,...l)=>{for(let i=0;i<t.length;i++){const r=bc[t[i]];if(r&&r(a,t))return}return e(a,...l)}))},xc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},cs=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=(a=>{if(!("key"in a))return;const l=Qt(a.key);if(t.some(i=>i===l||xc[i]===l))return e(a)}))},gc=qe({patchProp:rc},Vr);let va;function mc(){return va||(va=kr(gc))}const hc=((...e)=>{const t=mc().createApp(...e),{mount:s}=t;return t.mount=o=>{const a=kc(o);if(!a)return;const l=t._component;!de(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const i=s(a,!1,yc(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),i},t});function yc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function kc(e){return He(e)?document.querySelector(e):e}const wc="Roche_db",_c=9,Se={PERSONAS:"personas",CONTACTS:"contacts",SETTINGS:"settings",PRESETS:"presets",CONVERSATIONS:"conversations",MESSAGES:"messages",WORLDBOOK_CATEGORIES:"worldbook_categories",WORLDBOOK_ENTRIES:"worldbook_entries",RELATIONSHIPS:"relationships",STICKER_CATEGORIES:"sticker_categories",STICKERS:"stickers"};let bt=null,Cs=null;const Yt=()=>bt?Promise.resolve():Cs||(Cs=new Promise((e,t)=>{const s=indexedDB.open(wc,_c);s.onerror=o=>{const a=o.target.error;console.error("IndexedDB error:",a),Cs=null,t(a||"Error opening database")},s.onsuccess=o=>{bt=o.target.result,e()},s.onupgradeneeded=o=>{const a=o.target.result;if(a.objectStoreNames.contains(Se.PERSONAS)||a.createObjectStore(Se.PERSONAS,{keyPath:"id"}),a.objectStoreNames.contains(Se.CONTACTS)||a.createObjectStore(Se.CONTACTS,{keyPath:"id"}),a.objectStoreNames.contains(Se.SETTINGS)||a.createObjectStore(Se.SETTINGS,{keyPath:"id"}),a.objectStoreNames.contains(Se.PRESETS)||a.createObjectStore(Se.PRESETS,{keyPath:"id"}),a.objectStoreNames.contains(Se.CONVERSATIONS)||a.createObjectStore(Se.CONVERSATIONS,{keyPath:"id"}),!a.objectStoreNames.contains(Se.MESSAGES)){const l=a.createObjectStore(Se.MESSAGES,{keyPath:"id"});l.createIndex("conversationId","conversationId",{unique:!1}),l.createIndex("timestamp","timestamp",{unique:!1})}if(a.objectStoreNames.contains(Se.WORLDBOOK_CATEGORIES)||a.createObjectStore(Se.WORLDBOOK_CATEGORIES,{keyPath:"id"}),a.objectStoreNames.contains(Se.WORLDBOOK_ENTRIES)||a.createObjectStore(Se.WORLDBOOK_ENTRIES,{keyPath:"id"}).createIndex("categoryId","categoryId",{unique:!1}),!a.objectStoreNames.contains(Se.RELATIONSHIPS)){const l=a.createObjectStore(Se.RELATIONSHIPS,{keyPath:"id"});l.createIndex("sourceId","sourceId",{unique:!1}),l.createIndex("targetId","targetId",{unique:!1}),l.createIndex("type","type",{unique:!1})}a.objectStoreNames.contains(Se.STICKER_CATEGORIES)||a.createObjectStore(Se.STICKER_CATEGORIES,{keyPath:"id"}),a.objectStoreNames.contains(Se.STICKERS)||a.createObjectStore(Se.STICKERS,{keyPath:"id"}).createIndex("categoryId","categoryId",{unique:!1}),a.objectStoreNames.contains("chats")&&a.deleteObjectStore("chats")}}),Cs),wt=async e=>(bt||await Yt(),new Promise((t,s)=>{const l=bt.transaction([e],"readonly").objectStore(e).getAll();l.onsuccess=()=>t(l.result),l.onerror=()=>s(l.error)})),Ue=async(e,t)=>(bt||await Yt(),new Promise((s,o)=>{const i=bt.transaction([e],"readwrite").objectStore(e).put(t);i.onsuccess=()=>s(),i.onerror=()=>o(i.error)})),Mt=async(e,t)=>(bt||await Yt(),new Promise((s,o)=>{const i=bt.transaction([e],"readwrite").objectStore(e).delete(t);i.onsuccess=()=>s(),i.onerror=()=>o(i.error)})),Ml=async()=>{bt||await Yt();const s=bt.transaction([Se.SETTINGS],"readonly").objectStore(Se.SETTINGS).get("current");return new Promise((o,a)=>{s.onsuccess=()=>o(s.result),s.onerror=()=>a(s.error)})},So=async e=>Ue(Se.SETTINGS,{...e,id:"current"}),Ws=async()=>wt(Se.PRESETS),Co=async e=>Ue(Se.PRESETS,e),ge=Se,Pl=async e=>(bt||await Yt(),new Promise((t,s)=>{const i=bt.transaction([Se.MESSAGES],"readonly").objectStore(Se.MESSAGES).index("conversationId").getAll(IDBKeyRange.only(e));i.onsuccess=()=>{const r=i.result;r.sort((d,f)=>d.timestamp-f.timestamp),t(r)},i.onerror=()=>s(i.error)})),$c=Object.freeze(Object.defineProperty({__proto__:null,DB_STORES:ge,deleteItem:Mt,getAll:wt,getMessagesByConversationId:Pl,getPresets:Ws,getSettings:Ml,initDB:Yt,put:Ue,savePreset:Co,saveSettings:So},Symbol.toStringTag,{value:"Module"})),ba=[{id:"p1",handle:"studio_noir",name:"Noir Official",persona:"A mysterious, high-end design studio director obsessed with brutalism and silence.",avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuDcAFY6_Bt1ezg7r0W-A0o06SA0hcV-KRVCEKkmnxkF4HYixgyMDnQ_zxMl1vdOB621SBR_CpqAIMipO-7SBkRSPbzy9t9IFJGwVbyC4M7Ynqwx89TbO31kuH24kuSC4j0Zsji5QTLS76dstQUq9SPS7dnI0Iq7P5nh7eSmFnKMcx5QfmcurO80ByNLbvSc8TWY-SptbQvJfLLl9_8Om7VjeW0NQmoKiIPuf0AfMNKJwWxB_bGXlX-4UCr8VW5THk8ViMve95wX44E",bio:"Curating architectural silence and high-contrast fashion. Based in Paris.",link:"noir.studio/archive",location:"Paris, FR",stats:{followers:"18.4k",following:"942"}}],I=Jt({activePersonaId:localStorage.getItem("noir_active_persona_id")||"p1",personas:[],contacts:[],conversations:[],messages:{},relationships:[],stickerCategories:[],stickers:[],isInitialized:!1}),Sc=async()=>{try{await Yt();const e=await wt(ge.PERSONAS);if(e.length>0){const i=e.filter(r=>r&&r.id);I.personas.splice(0,I.personas.length,...i)}else{I.personas.splice(0,I.personas.length,...ba);for(const i of ba)await Ue(ge.PERSONAS,i)}const s=(await wt(ge.CONTACTS)).filter(i=>i&&i.id);I.contacts.splice(0,I.contacts.length,...s);const o=await wt(ge.CONVERSATIONS);I.conversations.splice(0,I.conversations.length,...o.reverse());const a=await wt(ge.RELATIONSHIPS);I.relationships.splice(0,I.relationships.length,...a),await Oc();const l=localStorage.getItem("noir_active_persona_id");l&&(I.activePersonaId=l),I.isInitialized=!0,console.log("Store initialized. Actve:",I.activePersonaId,"Personas:",I.personas.length)}catch(e){console.error("Failed to initialize store:",e)}},io=ye(()=>I.personas.find(e=>e.id===I.activePersonaId)||I.personas[0]),Cc=async e=>{I.personas.push(e),await Ue(ge.PERSONAS,e)},zc=async e=>{const t=I.personas.findIndex(s=>s.id===e.id);t!==-1&&(I.personas[t]=e,await Ue(ge.PERSONAS,e))},Ic=async e=>{const t=I.personas.findIndex(s=>s.id===e);if(t!==-1&&(I.personas.splice(t,1),await Mt(ge.PERSONAS,e),I.activePersonaId===e)){const s=I.personas[0];s&&On(s.id)}},On=e=>{console.log("Setting active persona:",e),I.activePersonaId=e,localStorage.setItem("noir_active_persona_id",e)},Ac=async e=>{I.contacts.push(e),await Ue(ge.CONTACTS,e)},Ec=async e=>{const t=I.contacts.findIndex(s=>s.id===e.id);t!==-1&&(I.contacts[t]=e,await Ue(ge.CONTACTS,e))},Tc=async e=>{const t=I.contacts.findIndex(s=>s.id===e);t!==-1&&(I.contacts.splice(t,1),await Mt(ge.CONTACTS,e))},xa=async e=>{if(!I.conversations.find(s=>s.id===e.id)){I.conversations.unshift(e);const s=JSON.parse(JSON.stringify(e));await Ue(ge.CONVERSATIONS,s);const o=e.myActivePersonaId||I.activePersonaId,a=e.participants?.find(l=>l!==o&&l!=="user"&&l!==e.myActivePersonaId)||e.contactId;o&&a&&(I.relationships.find(i=>i.sourceId===o&&i.targetId===a)||await Nl(o,a,"new"))}},Js=async e=>{const t=I.conversations.findIndex(s=>s.id===e.id);if(t!==-1){const s={...I.conversations[t],...e};I.conversations[t]=s;try{const a=JSON.parse(JSON.stringify(ve(s)));await Ue(ge.CONVERSATIONS,a)}catch(o){console.error("Failed to serialize conversation for DB:",o)}}},ga=async e=>{I.messages[e]||(I.messages[e]=[]);const t=await Pl(e);I.messages[e]=t},qn=async(e,t)=>{I.messages[e]||(I.messages[e]=[]),I.messages[e].push(t),await Ue(ge.MESSAGES,t);const s=I.conversations.find(o=>o.id===e);s&&Js({...s,lastMessage:t.text,time:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),updatedAt:t.timestamp})},Mn=e=>I.conversations.find(t=>t.id===e),Nl=async(e,t,s)=>{const o=I.relationships.find(l=>l.sourceId===e&&l.targetId===t);if(o){o.type!==s&&await Ll(o.id,s);return}const a={id:crypto.randomUUID(),sourceId:e,targetId:t,type:s,createdAt:Date.now()};I.relationships.push(a),await Ue(ge.RELATIONSHIPS,a)},Ll=async(e,t)=>{const s=I.relationships.findIndex(o=>o.id===e);if(s!==-1){const o={...I.relationships[s],type:t};I.relationships[s]=o,await Ue(ge.RELATIONSHIPS,o)}},jc=async e=>{const t=I.relationships.findIndex(s=>s.id===e);t!==-1&&(I.relationships.splice(t,1),await Mt(ge.RELATIONSHIPS,e))},Oc=async()=>{const e=await wt(ge.STICKER_CATEGORIES);I.stickerCategories=e||[];const t=await wt(ge.STICKERS);I.stickers=t||[]},ma=async(e,t)=>{const s={id:crypto.randomUUID(),name:e,coverUrl:t||"",createdAt:Date.now()};return I.stickerCategories.push(s),await Ue(ge.STICKER_CATEGORIES,s),s},Mc=async(e,t)=>{const s=I.stickerCategories.findIndex(o=>o.id===e);if(s!==-1){const o={...I.stickerCategories[s],...t};I.stickerCategories[s]=o,await Ue(ge.STICKER_CATEGORIES,o)}},ha=async e=>{const t=I.stickerCategories.findIndex(s=>s.id===e);if(t!==-1){I.stickerCategories.splice(t,1),await Mt(ge.STICKER_CATEGORIES,e);const s=I.stickers.filter(o=>o.categoryId===e);for(const o of s)await ro(o.id)}},nn=async(e,t,s)=>{const o={id:crypto.randomUUID(),categoryId:e,url:t,keyword:s||"sticker",createdAt:Date.now()};return I.stickers.push(o),await Ue(ge.STICKERS,o),o},ro=async e=>{const t=I.stickers.findIndex(s=>s.id===e);t!==-1&&(I.stickers.splice(t,1),await Mt(ge.STICKERS,e))},ms=e=>I.stickers.filter(t=>t.categoryId===e),Ve=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s},Pc={class:"h-full flex flex-col bg-background-light text-black"},Nc={class:"sticky top-0 z-50 bg-white/90 backdrop-blur-xl border-b border-gray-50"},Lc={class:"flex items-center justify-between px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 w-full"},Rc={class:"flex-1"},Bc={class:"flex-1 flex justify-end"},Dc={class:"flex-1 overflow-y-auto w-full pb-[calc(6rem+env(safe-area-inset-bottom))]"},Uc={class:"relative px-6 py-8 border-b border-gray-50"},Vc={class:"ml-14 mt-6 flex items-center gap-6 text-black"},Kc={__name:"Feed",emits:["close","navigate"],setup(e,{emit:t}){return(s,o)=>(p(),x("div",Pc,[n("header",Nc,[n("div",Lc,[n("div",Rc,[n("button",{onClick:o[0]||(o[0]=a=>s.$emit("close")),class:"flex items-center justify-center size-10 -ml-2 hover:bg-gray-100 rounded-full transition-colors"},[...o[4]||(o[4]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])])]),o[6]||(o[6]=n("div",{class:"flex justify-center"},[n("div",{class:"text-xl font-extrabold tracking-[0.2em] uppercase"},"Noir")],-1)),n("div",Bc,[n("button",{onClick:o[1]||(o[1]=a=>s.$emit("navigate","following")),class:"size-10 rounded-full bg-white border border-gray-100 flex items-center justify-center overflow-hidden hover:bg-gray-50 transition-colors -mr-2"},[...o[5]||(o[5]=[n("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-black"},[n("circle",{cx:"11",cy:"11",r:"8"}),n("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1)])])])])]),n("main",Dc,[n("article",Uc,[o[10]||(o[10]=lt('<div class="thread-line" data-v-72b05aaa></div><div class="flex items-start gap-4 mb-4 relative z-10" data-v-72b05aaa><div class="size-10 shrink-0 rounded-full bg-zinc-900 overflow-hidden border border-gray-100 flex items-center justify-center" data-v-72b05aaa><div class="w-1/2 h-[1px] bg-white rotate-45" data-v-72b05aaa></div></div><div class="flex flex-col flex-1" data-v-72b05aaa><div class="flex items-center justify-between" data-v-72b05aaa><div class="flex items-center gap-1" data-v-72b05aaa><span class="font-bold text-[14px] tracking-tight" data-v-72b05aaa>studio_noir</span><span class="material-symbols-outlined text-[14px] active-icon" data-v-72b05aaa>verified</span></div><span class="text-xs font-light tracking-tight text-neutral-400" data-v-72b05aaa>4m</span></div><p class="text-[15px] leading-relaxed mt-1 font-normal text-zinc-800" data-v-72b05aaa> Symmetry in stone. A study of concrete textures and morning shadows. Winter editorial. </p></div><button class="text-zinc-300" data-v-72b05aaa><span class="material-symbols-outlined" data-v-72b05aaa>more_horiz</span></button></div>',2)),n("div",{onClick:o[2]||(o[2]=a=>s.$emit("navigate","post",{id:"p1"})),class:"cursor-pointer ml-14 mt-1 rounded-sm overflow-hidden border border-gray-100 bg-zinc-50 aspect-[4/5] editorial-image",style:{"background-image":"url('https://lh3.googleusercontent.com/aida-public/AB6AXuDcAFY6_Bt1ezg7r0W-A0o06SA0hcV-KRVCEKkmnxkF4HYixgyMDnQ_zxMl1vdOB621SBR_CpqAIMipO-7SBkRSPbzy9t9IFJGwVbyC4M7Ynqwx89TbO31kuH24kuSC4j0Zsji5QTLS76dstQUq9SPS7dnI0Iq7P5nh7eSmFnKMcx5QfmcurO80ByNLbvSc8TWY-SptbQvJfLLl9_8Om7VjeW0NQmoKiIPuf0AfMNKJwWxB_bGXlX-4UCr8VW5THk8ViMve95wX44E')","background-size":"cover","background-position":"center"}}),n("div",Vc,[o[8]||(o[8]=n("button",{class:"icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity"},[n("svg",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[n("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})]),n("span",{class:"text-[12px] font-medium"},"2.8k")],-1)),n("button",{onClick:o[3]||(o[3]=a=>s.$emit("navigate","post",{id:"p1"})),class:"icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity"},[...o[7]||(o[7]=[n("svg",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[n("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.1a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})],-1),n("span",{class:"text-[12px] font-medium"},"56",-1)])]),o[9]||(o[9]=lt('<button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-72b05aaa><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-72b05aaa><polyline points="17 1 21 5 17 9" data-v-72b05aaa></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14" data-v-72b05aaa></path><polyline points="7 23 3 19 7 15" data-v-72b05aaa></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3" data-v-72b05aaa></path></svg><span class="text-[12px] font-medium" data-v-72b05aaa>112</span></button><button class="icon-btn hover:opacity-60 transition-opacity" data-v-72b05aaa><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-72b05aaa><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" data-v-72b05aaa></path></svg></button>',2))])]),o[11]||(o[11]=lt('<article class="relative px-6 py-8 border-b border-gray-50" data-v-72b05aaa><div class="flex items-start gap-4" data-v-72b05aaa><div class="size-10 shrink-0 rounded-full bg-zinc-50 overflow-hidden border border-gray-100 flex items-center justify-center" data-v-72b05aaa><div class="size-4 rounded-sm border border-black rotate-12" data-v-72b05aaa></div></div><div class="flex flex-col flex-1" data-v-72b05aaa><div class="flex items-center justify-between" data-v-72b05aaa><span class="font-bold text-[14px] tracking-tight" data-v-72b05aaa>elena_di_rossi</span><span class="text-xs font-light tracking-tight text-neutral-400" data-v-72b05aaa>2h</span></div><p class="text-[15px] leading-relaxed mt-1 font-serif italic text-zinc-900" data-v-72b05aaa> In design, if you are not taking a risk, you are not doing anything new. Perfection is the enemy. </p><div class="mt-6 flex items-center gap-6 text-black" data-v-72b05aaa><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-72b05aaa><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-72b05aaa><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" data-v-72b05aaa></path></svg><span class="text-[12px] font-medium" data-v-72b05aaa>892</span></button><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-72b05aaa><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-72b05aaa><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.1a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" data-v-72b05aaa></path></svg><span class="text-[12px] font-medium" data-v-72b05aaa>12</span></button><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-72b05aaa><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-72b05aaa><polyline points="17 1 21 5 17 9" data-v-72b05aaa></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14" data-v-72b05aaa></path><polyline points="7 23 3 19 7 15" data-v-72b05aaa></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3" data-v-72b05aaa></path></svg><span class="text-[12px] font-medium" data-v-72b05aaa>4</span></button><button class="icon-btn hover:opacity-60 transition-opacity" data-v-72b05aaa><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-72b05aaa><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" data-v-72b05aaa></path></svg></button></div></div><button class="text-zinc-300" data-v-72b05aaa><span class="material-symbols-outlined" data-v-72b05aaa>more_horiz</span></button></div></article><article class="relative px-6 py-8" data-v-72b05aaa><div class="flex items-start gap-4 mb-4" data-v-72b05aaa><div class="size-10 shrink-0 rounded-full bg-black overflow-hidden border border-gray-100 flex items-center justify-center" data-v-72b05aaa><div class="size-5 border-2 border-white/40 rounded-full" data-v-72b05aaa></div></div><div class="flex flex-col flex-1" data-v-72b05aaa><div class="flex items-center justify-between" data-v-72b05aaa><span class="font-bold text-[14px] tracking-tight" data-v-72b05aaa>arc_digest</span><span class="text-xs font-light tracking-tight text-neutral-400" data-v-72b05aaa>5h</span></div><p class="text-[15px] leading-relaxed mt-1 font-normal text-zinc-800" data-v-72b05aaa> High desert sanctuary. Minimalism meets nature. </p></div><button class="text-zinc-300" data-v-72b05aaa><span class="material-symbols-outlined" data-v-72b05aaa>more_horiz</span></button></div><div class="ml-14 mt-1 rounded-sm overflow-hidden border border-gray-100 bg-zinc-50 aspect-video editorial-image" style="background-image:url(&#39;https://lh3.googleusercontent.com/aida-public/AB6AXuBmMKAa3mhN1sScpskGMbskeOx8geuTbbnxV_lq_bmsxt3N01G-QgLf97F5smPz8wKg7d9T1aTo0SQJyIYEf6v3JykBRbCwSoWPaowTtAfWBPvQ2ynBALN99158d40apQmYMze-B178tmIsbFAENH_0Sy82AaZOiuBKnB3Bo_IfL26qz0aQgmAlULkUEqMcdJloDMqaAj0dM_e0x-l0t6Ts7kvUqLgZVS-Euh5yDQvQPQ6tv44VsEnIDBGDDaLFqr28_wW7Rd3glO0&#39;);background-size:cover;background-position:center;" data-v-72b05aaa></div><div class="ml-14 mt-6 flex items-center gap-6 text-black" data-v-72b05aaa><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-72b05aaa><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-72b05aaa><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" data-v-72b05aaa></path></svg><span class="text-[12px] font-medium" data-v-72b05aaa>2.1k</span></button><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-72b05aaa><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-72b05aaa><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.1a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" data-v-72b05aaa></path></svg><span class="text-[12px] font-medium" data-v-72b05aaa>12</span></button><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-72b05aaa><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-72b05aaa><polyline points="17 1 21 5 17 9" data-v-72b05aaa></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14" data-v-72b05aaa></path><polyline points="7 23 3 19 7 15" data-v-72b05aaa></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3" data-v-72b05aaa></path></svg><span class="text-[12px] font-medium" data-v-72b05aaa>14</span></button><button class="icon-btn hover:opacity-60 transition-opacity" data-v-72b05aaa><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-72b05aaa><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" data-v-72b05aaa></path></svg></button></div></article>',2))])]))}},Fc=Ve(Kc,[["__scopeId","data-v-72b05aaa"]]),Wc={class:"fixed inset-x-0 bottom-0 h-[92%] z-[60] bg-white rounded-t-[20px] shadow-[0_-10px_40px_rgba(0,0,0,0.1)] flex flex-col overflow-hidden border-t border-black/5"},Hc={class:"flex items-center justify-between px-4 py-4 border-b border-gray-100 shrink-0 bg-white z-10"},Gc={class:"text-[16px] font-bold tracking-tight"},qc={class:"flex-1 overflow-y-auto"},Qc={key:0,class:"pb-[100px]"},Jc={class:"px-4 py-2 mt-2"},Yc={class:"flex items-center gap-2 bg-neutral-100 px-3 py-2 rounded-xl"},Xc=["onClick"],Zc={class:"flex items-center gap-3"},ed={key:0,class:"w-full h-full bg-gradient-to-br from-neutral-800 to-black"},td={class:"flex flex-col"},sd={class:"text-[14px] font-bold leading-tight"},nd={class:"text-[13px] text-neutral-500 leading-tight"},od={key:1,class:"pb-[100px] px-4 pt-2"},ad={class:"flex flex-col gap-4"},ld=["onClick"],id={class:"flex-1"},rd={class:"text-[15px] font-bold tracking-tight"},cd={class:"text-[12px] text-zinc-500"},dd={__name:"NewMessage",emits:["close","create-group","navigate"],setup(e,{emit:t}){const s=t,o=B(""),a=ye(()=>{if(!o.value)return I.contacts;const c=o.value.toLowerCase();return I.contacts.filter(u=>u.handle.toLowerCase().includes(c)||u.name&&u.name.toLowerCase().includes(c))}),l=B("contacts"),i=B(null),r=c=>{i.value=c,l.value="persona"},d=c=>{On(c),s("navigate","chat",{id:i.value}),s("close")},f=()=>{l.value==="persona"?l.value="contacts":s("close")};return(c,u)=>(p(),x("div",Wc,[n("header",Hc,[n("button",{onClick:f,class:"text-[16px] text-black hover:opacity-70 transition-opacity"},P(l.value==="persona"?"Back":"Cancel"),1),n("h2",Gc,P(l.value==="persona"?"Select Persona":"New message"),1),u[2]||(u[2]=n("div",{class:"w-[50px]"},null,-1))]),n("div",qc,[l.value==="contacts"?(p(),x("div",Qc,[n("div",Jc,[n("div",Yc,[u[3]||(u[3]=n("span",{class:"material-symbols-outlined text-neutral-400 text-[20px]"},"search",-1)),le(n("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>o.value=h),type:"text",placeholder:"Search",class:"bg-transparent border-none text-[15px] placeholder:text-neutral-400 focus:ring-0 w-full p-0"},null,512),[[ue,o.value]])])]),n("div",{onClick:u[1]||(u[1]=h=>c.$emit("create-group")),class:"flex items-center gap-4 px-4 py-4 hover:bg-neutral-50 transition-colors cursor-pointer"},[...u[4]||(u[4]=[n("div",{class:"size-12 rounded-full border border-neutral-200 flex items-center justify-center bg-transparent shrink-0"},[n("span",{class:"material-symbols-outlined text-[24px] text-black"},"group_add")],-1),n("span",{class:"text-[15px] font-medium tracking-tight"},"Create a New Group",-1)])]),u[6]||(u[6]=n("div",{class:"px-4 py-2 mt-2"},[n("span",{class:"text-[11px] font-bold text-neutral-400 tracking-wider uppercase"},"Suggested")],-1)),(p(!0),x(ne,null,fe(a.value,h=>(p(),x("div",{key:h.id,onClick:$=>r(h.id),class:"flex items-center justify-between px-4 py-3 hover:bg-neutral-50 transition-colors cursor-pointer"},[n("div",Zc,[n("div",{class:"size-10 rounded-full bg-neutral-900 overflow-hidden shrink-0 border border-neutral-100",style:Ke({backgroundImage:h.avatar?`url(${h.avatar})`:"none",backgroundSize:"cover",backgroundPosition:"center"})},[h.avatar?R("",!0):(p(),x("div",ed))],4),n("div",td,[n("span",sd,P(h.handle),1),n("span",nd,P(h.name||"No Name"),1)])]),u[5]||(u[5]=n("span",{class:"material-symbols-outlined text-zinc-300 text-[20px]"},"chevron_right",-1))],8,Xc))),128))])):l.value==="persona"?(p(),x("div",od,[n("div",ad,[(p(!0),x(ne,null,fe(Ne(I).personas,h=>(p(),x("div",{key:h.id,onClick:$=>d(h.id),class:"flex items-center gap-4 p-4 rounded-2xl border border-gray-100 hover:border-black/10 transition-all cursor-pointer bg-white shadow-sm"},[n("div",{class:"size-12 shrink-0 rounded-full overflow-hidden border border-gray-100",style:Ke({backgroundImage:`url(${h.avatar})`,backgroundSize:"cover",backgroundPosition:"center"})},null,4),n("div",id,[n("h3",rd,P(h.handle),1),n("p",cd,P(h.name),1)])],8,ld))),128))])])):R("",!0)])]))}},ud=Ve(dd,[["__scopeId","data-v-a35529b4"]]),fd={class:"fixed inset-x-0 bottom-0 h-[92%] z-[70] bg-white rounded-t-[20px] shadow-[0_-10px_40px_rgba(0,0,0,0.1)] flex flex-col overflow-hidden border-t border-black/5"},pd={class:"flex items-center justify-between px-4 py-4 border-b border-gray-100 shrink-0 bg-white z-10"},vd={class:"text-[16px] font-bold tracking-tight"},bd=["disabled"],xd={key:1,class:"w-[30px]"},gd={class:"flex-1 overflow-y-auto px-6 pt-8 pb-[calc(6rem+env(safe-area-inset-bottom))]"},md={key:0},hd={class:"flex flex-col items-center gap-6 mb-10"},yd={key:1,class:"material-symbols-outlined text-[24px]"},kd={class:"w-full"},wd={class:"mt-8"},_d={key:0,class:"text-center py-4 text-neutral-400 text-sm"},$d={class:"flex flex-col gap-1"},Sd=["onClick"],Cd={class:"flex items-center gap-3"},zd={key:0,class:"w-full h-full bg-gradient-to-br from-neutral-800 to-black"},Id={class:"text-[14px] font-bold"},Ad={key:0,class:"material-symbols-outlined text-white text-[16px]"},Ed={key:1,class:"mt-6 pt-6 border-t border-gray-100"},Td={class:"text-[11px] font-bold text-neutral-400 tracking-wider uppercase mb-4"},jd={class:"flex flex-wrap gap-4"},Od=["onClick"],Md={class:"text-[10px] text-neutral-600 text-center truncate w-full leading-tight"},Pd={key:1},Nd={class:"flex flex-col gap-4"},Ld=["onClick"],Rd={class:"flex-1"},Bd={class:"text-[15px] font-bold tracking-tight"},Dd={class:"text-[12px] text-zinc-500"},Ud={__name:"CreateGroup",emits:["back","create"],setup(e,{emit:t}){const s=t,o=B(""),a=B(new Set),l=ye(()=>I.contacts),i=ye(()=>I.contacts.filter(j=>a.value.has(j.id))),r=j=>{a.value.has(j)?a.value.delete(j):a.value.add(j)},d=j=>{a.value.delete(j)},f=B("details"),c=B(""),u=()=>{const j=prompt("Enter image URL for group photo:");j&&(c.value=j)},h=()=>{f.value==="details"&&o.value&&(f.value="persona")},$=j=>{On(j),s("create",{name:o.value,avatar:c.value,members:Array.from(a.value)})},T=()=>{f.value==="persona"?f.value="details":s("back")};return(j,D)=>(p(),x("div",fd,[n("header",pd,[n("button",{onClick:T,class:"text-[16px] text-black hover:opacity-70 transition-opacity flex items-center -ml-1"},[D[1]||(D[1]=n("span",{class:"material-symbols-outlined text-[24px]"},"chevron_left",-1)),Gt(" "+P((f.value==="persona","Back")),1)]),n("h2",vd,P(f.value==="persona"?"Select Persona":"Create group"),1),f.value==="details"?(p(),x("button",{key:0,onClick:h,class:"text-[16px] font-bold text-black hover:opacity-70 transition-opacity disabled:opacity-30",disabled:!o.value||i.value.length<2}," Next ",8,bd)):(p(),x("div",xd))]),n("main",gd,[f.value==="details"?(p(),x("div",md,[n("div",hd,[n("button",{onClick:u,class:"size-24 rounded-full border border-dashed border-neutral-300 flex items-center justify-center flex-col gap-1 text-neutral-400 hover:bg-neutral-50 transition-colors overflow-hidden relative"},[c.value?(p(),x("div",{key:0,class:"absolute inset-0 bg-cover bg-center",style:Ke({backgroundImage:`url(${c.value})`})},null,4)):(p(),x("span",yd,"add_a_photo"))]),D[2]||(D[2]=n("span",{class:"text-[10px] font-bold uppercase tracking-widest text-neutral-400"},"Add Group Photo",-1)),n("div",kd,[le(n("input",{"onUpdate:modelValue":D[0]||(D[0]=b=>o.value=b),type:"text",placeholder:"Group name",class:"w-full bg-transparent border-0 border-b border-neutral-200 px-0 py-3 text-lg placeholder:text-neutral-300 focus:ring-0 focus:border-black transition-colors"},null,512),[[ue,o.value]])])]),n("div",wd,[D[4]||(D[4]=n("h3",{class:"text-[11px] font-bold text-neutral-400 tracking-wider uppercase mb-4"},"Select Members (Min 2)",-1)),l.value.length===0?(p(),x("div",_d," No contacts found in Following. ")):R("",!0),n("div",$d,[(p(!0),x(ne,null,fe(l.value,b=>(p(),x("div",{key:b.id,onClick:k=>r(b.id),class:"flex items-center justify-between py-3 px-2 -mx-2 hover:bg-neutral-50 rounded-xl cursor-pointer transition-colors"},[n("div",Cd,[n("div",{class:"size-10 rounded-full bg-neutral-900 border border-neutral-100 overflow-hidden",style:Ke({backgroundImage:b.avatar?`url(${b.avatar})`:"none",backgroundSize:"cover",backgroundPosition:"center"})},[b.avatar?R("",!0):(p(),x("div",zd))],4),n("span",Id,P(b.handle),1)]),n("div",{class:X(["size-6 rounded-full border flex items-center justify-center transition-all",a.value.has(b.id)?"bg-black border-black":"border-neutral-300 bg-white"])},[a.value.has(b.id)?(p(),x("span",Ad,"check")):R("",!0)],2)],8,Sd))),128))]),i.value.length>0?(p(),x("div",Ed,[n("h3",Td,"Selected ("+P(i.value.length)+")",1),n("div",jd,[(p(!0),x(ne,null,fe(i.value,b=>(p(),x("div",{key:b.id,class:"flex flex-col items-center gap-2 group relative w-[60px]"},[n("div",{class:"size-12 rounded-full bg-neutral-900 border border-white/20 shadow-sm relative overflow-hidden",style:Ke({backgroundImage:b.avatar?`url(${b.avatar})`:"none",backgroundSize:"cover",backgroundPosition:"center"})},[n("button",{onClick:et(k=>d(b.id),["stop"]),class:"absolute top-0 right-0 size-4 bg-white rounded-full shadow-md flex items-center justify-center border border-gray-100 hover:bg-neutral-100"},[...D[3]||(D[3]=[n("span",{class:"material-symbols-outlined text-[10px] text-black"},"close",-1)])],8,Od)],4),n("span",Md,P(b.handle),1)]))),128))])])):R("",!0)])])):f.value==="persona"?(p(),x("div",Pd,[n("div",Nd,[(p(!0),x(ne,null,fe(Ne(I).personas,b=>(p(),x("div",{key:b.id,onClick:k=>$(b.id),class:"flex items-center gap-4 p-4 rounded-2xl border border-gray-100 hover:border-black/10 transition-all cursor-pointer bg-white shadow-sm"},[n("div",{class:"size-12 shrink-0 rounded-full overflow-hidden border border-gray-100",style:Ke({backgroundImage:`url(${b.avatar})`,backgroundSize:"cover",backgroundPosition:"center"})},null,4),n("div",Rd,[n("h3",Bd,P(b.handle),1),n("p",Dd,P(b.name),1)])],8,Ld))),128))])])):R("",!0)])]))}},Vd={class:"h-full flex flex-col bg-background-light text-black relative"},Kd={class:"sticky top-0 z-50 bg-white/90 backdrop-blur-xl border-b border-gray-100/50"},Fd={class:"px-6 pb-4 pt-[calc(10px_+_env(safe-area-inset-top))] w-full"},Wd={class:"flex items-center justify-between mb-6"},Hd={class:"flex items-center gap-2"},Gd={class:"flex-1 overflow-y-auto w-full pb-24"},qd=["onClick"],Qd={key:0,class:"size-14 shrink-0 rounded-full avatar-abstract flex items-center justify-center"},Jd={key:0,class:"w-full h-full bg-gradient-to-br from-neutral-800 to-black"},Yd={class:"flex-1 min-w-0"},Xd={class:"flex items-center justify-between mb-0.5"},Zd={class:"font-bold text-[15px] tracking-tight"},eu={class:"flex items-center gap-2"},tu={key:0,class:"size-2 bg-black rounded-full"},su={__name:"Inbox",emits:["navigate","close"],setup(e,{emit:t}){const s=t,o=B(!1),a=B(!1),l=c=>{s("navigate","chat",{id:c})},i=()=>{a.value=!0},r=c=>{a.value=!1,o.value=!1;const u={id:"group_"+Date.now(),type:"group",name:c.name,handle:c.name.toLowerCase().replace(/\s+/g,"_"),avatar:c.avatar||"",members:c.members||[],lastMessage:"Group created",time:"Just now",unread:!1};xa(u),s("navigate","chat",{id:u.id})},d=(c,u)=>{if(c==="chat"&&u.id){const h=I.contacts.find(T=>T.id===u.id);!I.conversations.find(T=>T.id===u.id)&&h&&xa({id:h.id,type:"direct",name:h.name,handle:h.handle,avatar:h.avatar,lastMessage:"Draft",time:"Now",unread:!1})}o.value=!1,s("navigate",c,u),o.value=!1,s("navigate",c,u)},f=c=>{if(c.type==="group"||c.isAbstract)return{avatar:c.avatar,handle:c.handle,isAbstract:c.isAbstract};const u=I.contacts.find(h=>h.id===c.id);return u?{avatar:u.avatar,handle:u.handle,isAbstract:!1}:{avatar:c.avatar,handle:c.handle,isAbstract:!1}};return dt(()=>{}),(c,u)=>(p(),x("div",Vd,[n("header",Kd,[n("div",Fd,[n("div",Wd,[n("div",Hd,[n("button",{onClick:u[0]||(u[0]=h=>c.$emit("close")),class:"flex items-center justify-center size-8 -ml-2 hover:bg-gray-100 rounded-full transition-colors"},[...u[4]||(u[4]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),u[5]||(u[5]=n("h1",{class:"text-[13px] font-bold uppercase tracking-[0.25em]"},"Messages",-1))]),n("button",{onClick:u[1]||(u[1]=h=>o.value=!0),class:"hover:opacity-50 transition-opacity"},[...u[6]||(u[6]=[n("span",{class:"material-symbols-outlined text-[24px]"},"edit_square",-1)])])]),u[7]||(u[7]=n("div",{class:"relative"},[n("input",{class:"w-full bg-neutral-100 border-none rounded-full py-2 px-5 text-sm placeholder:text-neutral-400 focus:ring-1 focus:ring-black transition-all",placeholder:"Search",type:"text"})],-1))])]),n("main",Gd,[(p(!0),x(ne,null,fe(Ne(I).conversations,h=>(p(),x("div",{key:h.id,onClick:$=>l(h.id),class:"flex items-center gap-4 px-6 py-5 hover:bg-neutral-50 transition-colors cursor-pointer group border-b border-gray-50"},[h.isAbstract?(p(),x("div",Qd,[...u[8]||(u[8]=[n("div",{class:"absolute inset-0 bg-zinc-900"},null,-1),n("div",{class:"relative size-6 border-[0.5px] border-white/30 rotate-45"},null,-1)])])):(p(),x("div",{key:1,class:"size-14 shrink-0 rounded-full bg-neutral-900 flex items-center justify-center overflow-hidden border border-neutral-100",style:Ke({backgroundImage:f(h).avatar?`url(${f(h).avatar})`:"none",backgroundSize:"cover",backgroundPosition:"center"})},[f(h).avatar?R("",!0):(p(),x("div",Jd))],4)),n("div",Yd,[n("div",Xd,[n("span",Zd,P(f(h).handle),1),n("div",eu,[n("span",{class:X(["text-[11px] font-medium",h.unread?"text-black":"text-neutral-400"])},P(h.time),3),h.unread?(p(),x("div",tu)):R("",!0)])]),n("p",{class:X(["text-[14px] font-semibold truncate leading-snug",h.unread?"text-black":"text-neutral-500"])},P(h.lastMessage),3)])],8,qd))),128))]),Le(rs,{name:"slide-up"},{default:Ft(()=>[o.value?(p(),De(ud,{key:0,onClose:u[2]||(u[2]=h=>o.value=!1),onCreateGroup:i,onNavigate:d})):R("",!0)]),_:1}),Le(rs,{name:"slide-right"},{default:Ft(()=>[a.value?(p(),De(Ud,{key:0,onBack:u[3]||(u[3]=h=>a.value=!1),onCreate:r})):R("",!0)]),_:1})]))}},nu=Ve(su,[["__scopeId","data-v-54632a7f"]]),ou="modulepreload",au=function(e,t){return new URL(e,t).href},ya={},lu=function(t,s,o){let a=Promise.resolve();if(s&&s.length>0){let f=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const i=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),d=r?.nonce||r?.getAttribute("nonce");a=f(s.map(c=>{if(c=au(c,o),c in ya)return;ya[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(o)for(let T=i.length-1;T>=0;T--){const j=i[T];if(j.href===c&&(!u||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const $=document.createElement("link");if($.rel=u?"stylesheet":ou,u||($.as="script"),$.crossOrigin="",$.href=c,d&&$.setAttribute("nonce",d),document.head.appendChild($),u)return new Promise((T,j)=>{$.addEventListener("load",T),$.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(i){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i}return a.then(i=>{for(const r of i||[])r.status==="rejected"&&l(r.reason);return t().catch(l)})},nt=Jt({id:"current",provider:"openai",endpoint:"https://api.openai.com/v1",apiKey:"",model:"gpt-4o",temperature:.7,stream:!1,modelsList:["gpt-4o","gpt-4-turbo","gpt-3.5-turbo"]}),at=Jt({list:[],currentPresetId:"custom"}),iu=async()=>{const e=await Ml();e?(Object.assign(nt,e),nt.stream===void 0&&(nt.stream=!1)):await So(ve(nt));const t=await Ws();if(at.list=t,at.currentPresetId=nt.activePresetId||"custom",t.length===0){const s=[{id:"editorial",name:"",provider:"openai",endpoint:"https://api.openai.com/v1",apiKey:"",model:"gpt-4o",temperature:.3,stream:!1},{id:"creative",name:"",provider:"openai",endpoint:"https://api.openai.com/v1",apiKey:"",model:"gpt-4o",temperature:.9,stream:!1},{id:"drafting",name:"",provider:"openai",endpoint:"https://api.openai.com/v1",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,stream:!1}];for(const o of s)await Co(o);at.list=await Ws()}},zo=async e=>{Object.assign(nt,e),e.currentPresetId&&(at.currentPresetId=e.currentPresetId);const t={...ve(nt),activePresetId:at.currentPresetId};await So(t)},ru=()=>{if(!nt.apiKey)return"";const e=nt.apiKey.split(",").map(s=>s.trim()).filter(s=>s);if(e.length===0)return"";const t=Math.floor(Math.random()*e.length);return e[t]},cu=async e=>{try{const t=e?.apiKey!==void 0?e.apiKey:nt.apiKey,s=e?.endpoint!==void 0?e.endpoint:nt.endpoint;let o="";if(t){const d=t.split(",").map(f=>f.trim()).filter(f=>f);d.length>0&&(o=d[Math.floor(Math.random()*d.length)])}if(!o)throw new Error("No API Key provided");let l=`${s.replace(/\/+$/,"")}/models`;const i=await fetch(l,{headers:{Authorization:`Bearer ${o}`}});if(!i.ok)throw new Error(`Fetch failed: ${i.statusText}`);const r=await i.json();return r.data&&Array.isArray(r.data)&&(nt.modelsList=r.data.map(d=>d.id)),!0}catch(t){return console.error("Failed to fetch models",t),!1}},du=e=>at.list.find(t=>t.id===e),uu=async(e,t)=>{const s={id:Date.now().toString(),name:e,provider:t.provider,endpoint:t.endpoint,apiKey:t.apiKey,model:t.model,temperature:t.temperature,stream:t.stream};await Co(s),at.list=await Ws(),at.currentPresetId=s.id,nt.activePresetId=s.id,await zo({...t,activePresetId:s.id})},fu=async()=>{if(at.currentPresetId&&at.currentPresetId!=="custom"){const e=at.currentPresetId;await lu(()=>Promise.resolve().then(()=>$c),void 0,import.meta.url).then(t=>t.deleteItem("presets",e)),at.list=await Ws(),at.currentPresetId="custom",nt.activePresetId="custom",await zo({activePresetId:"custom"})}},Rl=()=>({...Si(nt),presetState:at,init:iu,getActiveKey:ru,fetchModels:cu,getPresetById:du,commitSettings:zo,saveCurrentAsPreset:uu,deleteCurrentPreset:fu}),ka="worldbook_db",Te=Jt({categories:[],entries:[]}),pu=async()=>{try{await Yt();const e=localStorage.getItem(ka);if(e){console.log("Migrating WorldBook data from localStorage to IndexedDB...");try{const o=JSON.parse(e),a=o.categories||[],l=o.entries||[];for(const i of a)await Ue(ge.WORLDBOOK_CATEGORIES,i);for(const i of l)i.scope||(i.scope="global"),await Ue(ge.WORLDBOOK_ENTRIES,i);localStorage.removeItem(ka),console.log("Migration complete.")}catch(o){console.error("Migration failed:",o)}}const t=await wt(ge.WORLDBOOK_CATEGORIES),s=await wt(ge.WORLDBOOK_ENTRIES);t.length===0&&s.length===0?await vu():(Te.categories.splice(0,Te.categories.length,...t),Te.entries.splice(0,Te.entries.length,...s))}catch(e){console.error("Failed to load WorldBook store:",e)}},vu=async()=>{const e=[{id:"cat_myth",name:""},{id:"cat_history",name:""},{id:"cat_chars",name:""},{id:"cat_locs",name:""}];Te.categories.splice(0,Te.categories.length,...e),Te.entries.splice(0,Te.entries.length);for(const t of e)await Ue(ge.WORLDBOOK_CATEGORIES,t)},Pn=()=>(Te.categories.length===0&&pu(),{state:Te,getCategories:()=>Te.categories,getEntriesByCategory:(c,u="global")=>Te.entries.filter(h=>h.categoryId===c&&h.scope===u),getEntry:c=>Te.entries.find(u=>u.id===c),addCategory:async c=>{const u=`cat_${Date.now()}`,h={id:u,name:c};return Te.categories.push(h),await Ue(ge.WORLDBOOK_CATEGORIES,h),u},updateCategory:async(c,u)=>{const h=Te.categories.find($=>$.id===c);if(h){h.name=u;const $=ve(h);await Ue(ge.WORLDBOOK_CATEGORIES,{...$})}},deleteCategory:async c=>{const u=Te.entries.filter($=>$.categoryId===c);Te.entries=Te.entries.filter($=>$.categoryId!==c);const h=Te.categories.findIndex($=>$.id===c);h!==-1&&Te.categories.splice(h,1),await Mt(ge.WORLDBOOK_CATEGORIES,c);for(const $ of u)await Mt(ge.WORLDBOOK_ENTRIES,$.id)},addEntry:async c=>{const u={...c,id:`entry_${Date.now()}`,createdAt:Date.now(),updatedAt:Date.now()};return Te.entries.push(u),await Ue(ge.WORLDBOOK_ENTRIES,u),u.id},updateEntry:async(c,u)=>{const h=Te.entries.findIndex($=>$.id===c);if(h!==-1){const $={...Te.entries[h],...u,updatedAt:Date.now()};Te.entries[h]=$;const T=ve($);await Ue(ge.WORLDBOOK_ENTRIES,T)}},deleteEntry:async c=>{const u=Te.entries.findIndex(h=>h.id===c);u!==-1&&(Te.entries.splice(u,1),await Mt(ge.WORLDBOOK_ENTRIES,c))},searchEntries:c=>{const u=c.toLowerCase();return Te.entries.filter(h=>h.title.toLowerCase().includes(u)||h.content.toLowerCase().includes(u)||h.keywords?.some($=>$.toLowerCase().includes(u)))}}),bu={0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Fog",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",56:"Light freezing drizzle",57:"Dense freezing drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",66:"Light freezing rain",67:"Heavy freezing rain",71:"Slight snow fall",73:"Moderate snow fall",75:"Heavy snow fall",77:"Snow grains",80:"Slight rain showers",81:"Moderate rain showers",82:"Violent rain showers",85:"Slight snow showers",86:"Heavy snow showers",95:"Thunderstorm",96:"Thunderstorm with slight hail",99:"Thunderstorm with heavy hail"},xu=e=>bu[e]||"Unknown",gu=async e=>{if(!e||e.length<2)return[];try{const t=`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(e)}&count=5&language=en&format=json`,o=await(await fetch(t)).json();return!o.results||!Array.isArray(o.results)?[]:o.results.map(a=>({id:a.id,name:a.name,latitude:a.latitude,longitude:a.longitude,country:a.country,admin1:a.admin1}))}catch(t){return console.error("City Search Failed",t),[]}},mu=async(e,t)=>{try{const s=`https://api.open-meteo.com/v1/forecast?latitude=${e}&longitude=${t}&current=temperature_2m,weather_code,is_day&timezone=auto`,a=await(await fetch(s)).json();return a.current?{temperature:a.current.temperature_2m,conditionCode:a.current.weather_code,isDay:a.current.is_day,time:a.current.time}:null}catch(s){return console.error("Weather Fetch Failed",s),null}},Qn=new Map,hu=async(e,t)=>{const s=`${e.toFixed(2)},${t.toFixed(2)}`,o=Date.now();if(Qn.has(s)){const l=Qn.get(s);if(o-l.ts<36e5)return console.log("[Environment] Using Cached Weather for",s),l.data}const a=await mu(e,t);return a&&(console.log("[Environment] Fetched New Weather for",s),Qn.set(s,{data:a,ts:o})),a},yu={class:"h-full flex flex-col bg-background-light text-black"},ku={class:"sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100"},wu={class:"flex items-center px-4 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 w-full"},_u={class:"flex items-center gap-3 ml-1 cursor-pointer"},$u={key:0,class:"absolute inset-0 bg-zinc-900"},Su={key:1,class:"w-full h-full bg-gradient-to-br from-neutral-800 to-black"},Cu={class:"flex flex-col"},zu={class:"font-serif text-[17px] font-semibold tracking-tight"},Iu={class:"flex-1 flex justify-end"},Au={ref:"messagesContainer",class:"flex-1 overflow-y-auto px-5 py-6 flex flex-col gap-4 w-full"},Eu={class:"flex justify-center my-4"},Tu={class:"text-[10px] text-zinc-400 uppercase tracking-[0.2em] font-semibold"},ju={key:0,class:"flex flex-col gap-4"},Ou={key:1,class:"flex flex-col gap-4"},Mu={key:0,class:"text-[10px] text-zinc-500 font-bold mb-1 ml-1"},Pu=["src"],Nu={class:"message-text leading-snug break-words whitespace-pre-wrap"},Lu={class:"text-[9px] text-zinc-400 mt-1 mx-1 tracking-wider uppercase"},Ru={key:2,class:"flex flex-col items-start gap-1"},Bu={class:"flex items-end gap-2 px-1"},Du={key:3,class:"flex flex-col items-center justify-center h-full text-neutral-400"},Uu={key:1,class:"absolute inset-x-0 bottom-0 top-auto h-auto bg-white rounded-t-[32px] shadow-[0_-8px_40px_rgba(0,0,0,0.1)] z-[60] flex flex-col animate-in slide-in-from-bottom-10 duration-300 overflow-hidden text-black border-t border-zinc-100/50"},Vu={class:"h-10 flex items-center justify-between px-6 shrink-0 bg-white"},Ku={class:"flex items-center gap-3"},Fu={class:"h-[255px] overflow-y-auto custom-scrollbar px-6 py-2 bg-white"},Wu={key:0,class:"grid grid-cols-4 gap-4"},Hu=["onClick"],Gu={class:"aspect-square w-full bg-white border border-zinc-50 rounded-[22px] overflow-hidden group-hover:border-zinc-200 group-hover:shadow-[0_4px_12px_rgba(0,0,0,0.03)] transition-all relative"},qu=["src"],Qu={class:"text-[8px] text-zinc-300 font-bold uppercase tracking-[0.15em] truncate w-full text-center group-hover:text-black transition-colors font-sans"},Ju={key:1,class:"flex flex-col items-center justify-center h-full text-zinc-300 gap-3"},Yu={class:"flex flex-col items-center gap-1"},Xu={class:"flex items-center justify-between px-5 bg-white border-t border-zinc-50 gap-4 shrink-0 pt-2 pb-safe"},Zu={class:"flex-1 overflow-x-auto custom-scrollbar flex items-center gap-4 px-2 hide-scrollbar"},ef=["onClick"],tf={class:"w-6 h-6 flex items-center justify-center"},sf={key:0,class:"absolute -bottom-2 w-1 h-1 bg-black rounded-full"},nf={key:1,class:"material-symbols-outlined text-[20px]"},of={key:2,class:"text-[10px] font-black uppercase font-serif"},af={class:"w-full max-w-sm flex flex-col gap-6 animate-in fade-in zoom-in duration-300 py-6"},lf={class:"flex flex-col gap-2 max-h-[50vh] overflow-y-auto custom-scrollbar px-1"},rf={key:0,class:"text-center py-10 text-zinc-300 flex flex-col items-center gap-3"},cf=["onClick"],df={class:"flex items-center gap-4"},uf={class:"w-10 h-10 rounded-xl bg-white border border-zinc-100 flex items-center justify-center text-xs font-serif font-bold text-zinc-700 shadow-sm"},ff={class:"font-semibold text-zinc-900 text-[15px]"},pf={class:"material-symbols-outlined text-[14px] font-bold"},vf={class:"grid grid-cols-1 mt-4"},bf={key:3,class:"absolute left-3 bottom-[70px] bg-white rounded-xl shadow-[0_8px_30px_rgba(0,0,0,0.12)] border border-zinc-100/80 p-1.5 z-40 animate-in slide-in-from-bottom-2 fade-in duration-200 flex flex-col gap-1 min-w-[160px]"},xf={class:"sticky bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md pb-safe border-t border-gray-100 z-50"},gf={class:"px-4 py-3 flex items-center gap-2"},mf={class:"flex-1 relative"},hf={__name:"Chat",props:["chatId"],emits:["back","navigate"],setup(e,{emit:t}){const s=e,o=t,a=ye(()=>Mn(s.chatId)),l=ye(()=>{const W=a.value;if(!W)return{};if(W.type==="group"||W.isAbstract)return{avatar:W.avatar,handle:W.handle,isAbstract:W.isAbstract,id:W.id};const A=I.contacts.find(ce=>ce.id===W.id),E=W.localSettings||{};return{avatar:E.theirAvatarOverride||A?.avatar||W.avatar,handle:E.theirNicknameOverride||A?.handle||W.handle,realName:A?.name||W.handle,isAbstract:!1,id:W.id}}),i=()=>{o("back")},r=B(""),d=B(!1),f=B(!1),c=B(!1),u=B(!1),h=B(null),$=ye(()=>I.stickerCategories),T=ye(()=>{if(!a.value)return[];const W=a.value.localSettings?.mountedStickerPacks;return W==null?$.value:$.value.filter(A=>W.includes(A.id))}),j=ye(()=>{if(T.value.length===0)return null;if(h.value){const W=T.value.find(A=>A.id===h.value);if(W)return W}return T.value[0]});is(T,W=>{W.length>0?(!h.value||!W.find(A=>A.id===h.value))&&(h.value=W[0].id):h.value=null},{immediate:!0});const D=()=>{f.value=!f.value,f.value&&(c.value=!1)},b=()=>{f.value=!1,c.value=!1},k=()=>{f.value=!1,c.value=!0},F=()=>{c.value=!1,u.value=!0},Q=W=>{const A=a.value?.localSettings?.mountedStickerPacks;return A==null?!0:A.includes(W)},ae=async W=>{if(!a.value)return;let A=a.value.localSettings?.mountedStickerPacks;A==null?A=$.value.map(ce=>ce.id):A=[...A];const E=A.indexOf(W);E>-1?A.splice(E,1):A.push(W),await Js({id:s.chatId,localSettings:{...a.value.localSettings,mountedStickerPacks:A}})},me=async W=>{const A={id:"msg_"+Date.now(),conversationId:s.chatId,text:W.url,content:W.url,type:"sticker",keyword:W.keyword,senderId:"me",timestamp:Date.now(),isMe:!0};await qn(s.chatId,A)},xe=ye(()=>I.messages[s.chatId]||[]),he=ye(()=>{const W=a.value?.localSettings?.myActivePersonaId,A=I.activePersonaId,E=W||A;return I.personas.find(ce=>ce.id===E)||I.personas[0]}),Y=B(null),ie=async(W=!1)=>{await js(),Y.value&&Y.value.scrollIntoView({behavior:W?"auto":"smooth"})};is(()=>xe.value.length,()=>{ie(!1)},{flush:"post"}),dt(async()=>{await v.init(),s.chatId&&(ga(s.chatId),ie(!0))}),is(()=>s.chatId,W=>{W&&ga(W)});const be=Pn(),U=(W,A)=>{const E=(W+`
`+A).toLowerCase(),ce=be.state.entries;let we=ce.filter(ke=>ke.scope==="global");const Re=a.value?.localSettings?.mountedWorldbooks||[];if(Re.length>0){const ke=ce.filter(g=>g.scope==="local"&&(Re.includes(g.categoryId)||Re.includes(g.id)));we=[...we,...ke]}const _e=we.filter(ke=>ke.isConstant?!0:!ke.keywords||ke.keywords.length===0?!1:ke.keywords.some(g=>E.includes(g.toLowerCase()))),Qe=[],Be=[],Pe=[],Fe=[];return _e.forEach(ke=>{ke.position==="front"?Qe.push(ke.content):ke.position==="back"?Pe.push(ke.content):ke.depth&&ke.depth>0?Fe.push({content:ke.content,depth:ke.depth}):Be.push(ke.content)}),{front:Qe,mid:Be.join(`

`),back:Pe,historyInjections:Fe}},_=async(W=!1)=>{if(!r.value.trim())return;if(W&&!v.apiKey.value){alert(" API Setup  API Key  Model");return}const A=r.value;r.value="";const E={id:"msg_"+Date.now(),conversationId:s.chatId,text:A,senderId:"me",timestamp:Date.now(),isMe:!0};await qn(s.chatId,E),W&&(a.value?.isGroup,S())},m=async()=>{if(r.value.trim())await _(!0);else{if(!v.apiKey.value){alert(" API Setup  API Key  Model");return}S()}},v=Rl(),S=async()=>{if(!v.apiKey.value)return;d.value=!0;const W=he.value.name,A=he.value.persona||"Unknown",E=a.value?.localSettings?.shortTermMemoryLimit||15,ce=xe.value.slice(-E),we=ce.map(V=>V.text).join(`
`),{front:Re,mid:_e,back:Qe,historyInjections:Be}=U(we,""),Pe=a.value?.localSettings||{},Fe=Pe.timeAwareness!==!1,ke=Pe.envSensing===!0,y=(_e?_e+`
`:"")+"";let C="";const M=[],O=[];for(let V=1;V<ce.length;V++){const q=ce[V],Z=ce[V-1],ee=q.timestamp-Z.timestamp,pe=Math.floor(ee/6e4);pe>15&&O.push({index:V,diffMins:pe,currTimestamp:q.timestamp})}O.length>4&&O.splice(0,O.length-4);const N=V=>{if(V<60)return`${V} `;const q=Math.floor(V/60),Z=V%60;return q<24?`${q} ${Z>0?" "+Z+" ":""}`:`${Math.floor(q/24)}  ${q%24} `},G=V=>{const q=new Date(V),Z=q.getFullYear(),ee=String(q.getMonth()+1).padStart(2,"0"),pe=String(q.getDate()).padStart(2,"0"),Ie=q.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return`${Z}-${ee}-${pe} ${Ie}`},H=(V,q)=>{let Z=Intl.DateTimeFormat().resolvedOptions().timeZone;V&&V.trim()&&(Z=V.trim());try{const ee=q?new Date(q):new Date,pe=ee.getFullYear(),Ie=String(ee.getMonth()+1).padStart(2,"0"),Ae=String(ee.getDate()).padStart(2,"0"),Oe=ee.toLocaleTimeString("en-US",{timeZone:Z,hour:"2-digit",minute:"2-digit",hour12:!1});return`${pe}-${Ie}-${Ae} ${Oe}`}catch{return new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}};let K=!1,L=0;if(ce.forEach((V,q)=>{const Z=O.find(pe=>pe.index===q);if(Z){if(Fe){const pe=N(Z.diffMins),Ae=`[(${G(Z.currTimestamp)})  ${pe}]`;M.push({role:"system",content:Ae})}K=!0,L=Z.currTimestamp}let ee="Unknown";V.isMe?ee=he.value.name:ee=re(V.senderId)?.name||"Unknown",M.push({role:V.isMe?"user":"assistant",content:V.type==="sticker"?`[] ${ee}${V.keyword}`:`[] ${ee}${V.text}`})}),ce.length>0){const V=ce[ce.length-1],q=Date.now(),Z=q-V.timestamp,ee=Math.floor(Z/6e4);if(ee>15){if(Fe){const pe=N(ee),Ae=`[(${G(q)})  ${pe}]`;M.push({role:"system",content:Ae})}K=!0,L=q}}if(K&&(Fe||ke)||!K&&ke){const V=a.value?.localSettings?.myLocationOverride,q=he.value.name,Z=L||Date.now(),ee=a.value?.localSettings?.myWeatherConfig,pe=async(ze,We)=>{let Je=[];if(Fe&&Je.push(H(ze,Z)),ke&&We&&We.lat){const Xt=await hu(We.lat,We.long);Xt&&Je.push(`${xu(Xt.conditionCode)} ${Xt.temperature}C`)}return Je.join(" ")},Ie=await pe(V,ee),Ae=[];Ie&&Ae.push(`${q}: ${Ie}`);const Oe=a.value?.localSettings?.theirLocationOverride,ut=a.value?.localSettings?.memberOverrides||{},St=a.value?.localSettings?.theirWeatherConfig,$e=a.value?.localSettings?.groupWeatherConfigs||{};if((a.value?.type==="group"||a.value?.isGroup)&&Array.isArray(a.value.members))for(const ze of a.value.members){const We=I.contacts.find(Je=>Je.id===ze);if(We){const Je=ut[ze]?.location||We.location,Xt=$e[ze],ws=await pe(Je,Xt);ws&&Ae.push(`${We.name}: ${ws}`)}}else{const ze=I.contacts.find(We=>We.id===s.chatId);if(ze){const We=Oe||ze.location,Je=await pe(We,St);Je&&Ae.push(`${ze.name}: ${Je}`)}}if(Ae.length>0){let ze="",We="Current Context";Fe&&!ke&&(ze="",We="Current Time"),!Fe&&ke&&(ze="",We="Current Weather");const Je=Ae.join(", ");console.log("[ContextAwareness] Injected:",Je),M.push({role:"system",content:`[${ze} (${We})${Je}]`})}}const te=[];T.value.length>0&&T.value.forEach(V=>{ms(V.id).forEach(Z=>te.push(Z.keyword))});const J=te.length>0?`
[]: ${te.join(", ")}`:`
[]: `;if(a.value?.type==="group"||a.value?.isGroup){const q=(a.value.members||[]).map(Z=>{const ee=typeof Z=="object"?Z.id:Z,pe=I.contacts.find(Ie=>Ie.id===ee);return pe?`${pe.name||"Unknown"} (${pe.handle}): ${pe.persona||pe.bio||"No persona"}`:""}).filter(Boolean).join(`
`);C=`
 ${a.value.title||"Group"}
${W} (${A})
${y?`
`+y+`
`:""}

${q||""}
${J}


1. 
2. 
3. ** 2  7 **


[] 
[] 


[] Noir Official
[] Noir Official

 Noir `}else{const V=I.contacts.find(ee=>ee.id===s.chatId),q=V?.name||l.value.handle,Z=V?.persona||V?.bio||"A helpful assistant.";C=`

${q}
Persona${Z}
${W}
${A}
${y?`
`+y+`
`:""}
${J}


1. 
2. ** 2  7 **


[] ${q}
[] ${q}


[] ${q}
[] ${q}

`}Be&&Be.length>0&&Be.forEach(V=>{const q=Math.max(0,M.length-V.depth);M.splice(q,0,{role:"system",content:`[] ${V.content}`})});try{const V=[...Re.map(Oe=>({role:"system",content:`[/] ${Oe}`})),{role:"system",content:C},...M,...Qe.map(Oe=>({role:"system",content:`[/] ${Oe}`}))],q=v.stream.value===!0;console.log("[TimeAwareness] Settings Stream Value:",v.stream.value),console.log("[TimeAwareness] Effective useStream:",q);const Z={model:v.model.value||"gpt-3.5-turbo",messages:V,temperature:v.temperature.value||.7,stream:q},ee=v.getActiveKey(),pe=v.endpoint.value.replace(/\/+$/,"")+"/chat/completions",Ie=async()=>{const Oe=1500+Math.random()*1500;console.log(`[TimeAwareness] Simulating Delay: ${Math.floor(Oe)}ms`),await new Promise(ut=>setTimeout(ut,Oe))},Ae=await fetch(pe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify(Z)});if(!Ae.ok){const Oe=await Ae.text();throw new Error(`API Error: ${Ae.status} - ${Oe}`)}if(q){const Oe=Ae.body.getReader(),ut=new TextDecoder("utf-8");let St=!1,$e="";for(;!St;){const{value:ze,done:We}=await Oe.read();if(St=We,ze){const Xt=ut.decode(ze,{stream:!0}).split(`
`);for(const ws of Xt)if(ws.trim().startsWith("data: ")){const Io=ws.trim().slice(6);if(Io==="[DONE]")continue;try{const Dl=JSON.parse(Io).choices?.[0]?.delta?.content||"";$e+=Dl;const Ys=/\[(?:|)]/;let Ct=$e.search(Ys),us=-1;if(Ct!==-1){const Nn=$e.substring(Ct+1).search(Ys);Nn!==-1&&(us=Ct+1+Nn)}for(;Ct!==-1&&us!==-1;){const Ao=$e.slice(Ct,us).trim();if(await w(Ao),await Ie(),$e=$e.slice(us),Ct=$e.search(Ys),us=-1,Ct!==-1){const Eo=$e.substring(Ct+1).search(Ys);Eo!==-1&&(us=Ct+1+Eo)}}}catch{}}}}if($e.search(/\[(?:|)]/)!==-1){const ze=$e.substring($e.search(/\[(?:|)]/)).trim();await w(ze)}}else{const St=((await Ae.json()).choices?.[0]?.message?.content||"").split(/(?=\[(?:|)])/);for(const $e of St)$e.trim()&&(await w($e),await Ie())}}catch(V){console.error("AI Reply failed",V),d.value=!1}finally{d.value=!1,await js(),ie()}},w=async W=>{const A=W.match(/^\[]\s*(.+?)[:](.+)$/s);if(A&&A[2]){const ce=A[1].trim(),we=A[2].trim();await z(ce,we,"text");return}const E=W.match(/^\[]\s*(.+?)[:](.+)$/s);if(E&&E[2]){const ce=E[1].trim(),we=E[2].trim(),Re=T.value.flatMap(_e=>ms(_e.id)).find(_e=>_e.keyword===we);Re&&await z(ce,Re.url,"sticker",we);return}},z=async(W,A,E="text",ce="")=>{let we=s.chatId;if(a.value?.type==="group"||a.value?.isGroup){const Qe=W.toLowerCase();let Be=I.contacts.find(Pe=>Pe.name===W||Pe.handle===W||Pe.id===W||Pe.name&&Pe.name.toLowerCase()===Qe||Pe.handle&&Pe.handle.toLowerCase()===Qe);if(!Be&&a.value.members.includes(W)&&(Be=I.contacts.find(Pe=>Pe.id===W)),!Be&&a.value.members&&a.value.members.length>0){const Pe=a.value.members[0];Be=I.contacts.find(Fe=>Fe.id===Pe)}Be&&(we=Be.id)}const _e={id:"msg_"+Date.now()+Math.random(),conversationId:s.chatId,text:A,content:A,type:E,keyword:ce,senderId:we,timestamp:Date.now(),isMe:!1};await qn(s.chatId,_e),await js(),ie()},re=W=>W==="me"?null:I.contacts.find(A=>A.id===W);return(W,A)=>(p(),x("div",yu,[n("header",ku,[n("div",wu,[n("button",{onClick:i,class:"flex items-center justify-center size-10 -ml-2 hover:bg-gray-100 rounded-full transition-colors"},[...A[6]||(A[6]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),n("div",_u,[n("div",{class:"size-9 rounded-full bg-black overflow-hidden flex items-center justify-center relative border border-gray-100",style:Ke({backgroundImage:l.value.avatar?`url(${l.value.avatar})`:"none",backgroundSize:"cover",backgroundPosition:"center"})},[!l.value.avatar&&l.value.isAbstract?(p(),x("div",$u,[...A[7]||(A[7]=[n("div",{class:"w-[0.5px] h-full bg-white/30 rotate-45 absolute left-1/2"},null,-1),n("div",{class:"w-[0.5px] h-full bg-white/30 -rotate-45 absolute left-1/2"},null,-1)])])):l.value.avatar?R("",!0):(p(),x("div",Su))],4),n("div",Cu,[n("h1",zu,P(l.value.handle||"Unknown"),1),A[8]||(A[8]=n("span",{class:"text-[9px] text-zinc-400 uppercase tracking-[0.15em] font-medium"},"Online",-1))])]),n("div",Iu,[n("button",{onClick:A[0]||(A[0]=E=>W.$emit("navigate","chat-settings",{id:s.chatId})),class:"material-symbols-outlined text-zinc-400 hover:text-black"},"more_horiz")])])]),n("main",Au,[n("div",Eu,[n("span",Tu,P(a.value?.time||"Today"),1)]),a.value?.id==="noir"&&xe.value.length===0?(p(),x("div",ju,[...A[9]||(A[9]=[lt('<div class="flex flex-col items-start" data-v-ef6fb3da><div class="bubble-received bg-bubble-received px-4 py-3 text-black" data-v-ef6fb3da><p class="message-text text-[14.5px]" data-v-ef6fb3da>The composition in your latest editorial is remarkable. The use of negative space creates a profound tension.</p></div><span class="text-[9px] text-zinc-400 mt-1 ml-1 tracking-wider uppercase" data-v-ef6fb3da>14:22</span></div><div class="flex flex-col items-end" data-v-ef6fb3da><div class="bubble-sent bg-bubble-sent px-4 py-3 text-white" data-v-ef6fb3da><p class="message-text text-[14.5px]" data-v-ef6fb3da>Thank you. I was exploring the intersection of brutalist architecture and morning light.</p></div><span class="text-[9px] text-zinc-400 mt-1 mr-1 tracking-wider uppercase" data-v-ef6fb3da>14:25</span></div><div class="flex flex-col items-start mt-2" data-v-ef6fb3da><div class="bubble-received bg-bubble-received px-4 py-3 text-black" data-v-ef6fb3da><p class="message-text text-[14.5px]" data-v-ef6fb3da>&quot;Silent Forms&quot;. Focusing on textures of concrete and silk.</p></div><span class="text-[9px] text-zinc-400 mt-1 ml-1 tracking-wider uppercase" data-v-ef6fb3da>14:28</span></div>',3)])])):R("",!0),xe.value.length>0?(p(),x("div",Ou,[(p(!0),x(ne,null,fe(xe.value,E=>(p(),x("div",{key:E.id,class:X(["flex flex-col",E.isMe?"items-end":"items-start"])},[n("div",{class:X(["flex items-start gap-2 mb-2 w-full",E.isMe?"flex-row-reverse":"flex-row"])},[E.isMe&&a.value?.localSettings?.showSelfAvatar!==!1||!E.isMe&&a.value?.localSettings?.showOtherAvatar!==!1?(p(),x("div",{key:0,class:"shrink-0 w-[34px] h-[34px] rounded-full bg-neutral-200 overflow-hidden relative border border-gray-100",style:Ke({backgroundImage:`url(${E.isMe?a.value?.localSettings?.myAvatarOverride||he.value?.avatar||"https://lh3.googleusercontent.com/aida-public/AB6AXuDcAFY6_Bt1ezg7r0W-A0o06SA0hcV-KRVCEKkmnxkF4HYixgyMDnQ_zxMl1vdOB621SBR_CpqAIMipO-7SBkRSPbzy9t9IFJGwVbyC4M7Ynqwx89TbO31kuH24kuSC4j0Zsji5QTLS76dstQUq9SPS7dnI0Iq7P5nh7eSmFnKMcx5QfmcurO80ByNLbvSc8TWY-SptbQvJfLLl9_8Om7VjeW0NQmoKiIPuf0AfMNKJXWxB_bGXlX-4UCr8VW5THk8ViMve95wX44E":a.value?.localSettings?.theirAvatarOverride||re(E.senderId)?.avatar||a.value?.avatar})`,backgroundSize:"cover"})},null,4)):R("",!0),n("div",{class:X(["flex flex-col max-w-[88%] text-[15px]",E.isMe?"items-end":"items-start"])},[a.value?.type==="group"&&!E.isMe?(p(),x("div",Mu,P(re(E.senderId)?.handle||"Unknown"),1)):R("",!0),E.type==="sticker"?(p(),x("div",{key:1,class:X(["rounded-2xl overflow-hidden mb-1",E.isMe?"rounded-tr-sm":"rounded-tl-sm"])},[n("img",{src:E.content||E.text,class:"max-w-[160px] max-h-[160px] object-contain block bg-white/50 backdrop-blur-sm"},null,8,Pu)],2)):(p(),x("div",{key:2,class:X([E.isMe?"bubble-sent bg-bubble-sent text-white":"bubble-received bg-bubble-received text-black","px-3 py-[7px] shadow-sm min-h-[34px] w-fit max-w-full"])},[n("p",Nu,P(E.text),1)],2)),n("span",Lu,P(new Date(E.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),1)],2)],2)],2))),128))])):R("",!0),d.value?(p(),x("div",Ru,[n("div",Bu,[a.value?.localSettings?.showOtherAvatar!==!1?(p(),x("div",{key:0,class:"shrink-0 w-[34px] h-[34px] rounded-full bg-neutral-200 overflow-hidden relative border border-gray-100",style:Ke({backgroundImage:`url(${a.value?.localSettings?.theirAvatarOverride||l.value.avatar||a.value?.avatar})`,backgroundSize:"cover"})},null,4)):R("",!0),A[10]||(A[10]=lt('<div class="bubble-received bg-bubble-received px-3 py-[7px] text-black w-fit" data-v-ef6fb3da><div class="flex gap-1 h-[21px] items-center" data-v-ef6fb3da><div class="typing-dot w-1.5 h-1.5 bg-zinc-400 rounded-full" data-v-ef6fb3da></div><div class="typing-dot w-1.5 h-1.5 bg-zinc-400 rounded-full" data-v-ef6fb3da></div><div class="typing-dot w-1.5 h-1.5 bg-zinc-400 rounded-full" data-v-ef6fb3da></div></div></div>',1))]),A[11]||(A[11]=n("span",{class:"text-[9px] text-zinc-300 ml-[50px] tracking-wider uppercase"},"Typing...",-1))])):R("",!0),(!a.value?.id||a.value.id!=="noir")&&xe.value.length===0?(p(),x("div",Du,[...A[12]||(A[12]=[n("span",{class:"text-[12px] opacity-70"},"No messages yet",-1)])])):R("",!0),n("div",{ref_key:"messagesEndRef",ref:Y,class:"h-1"},null,512)],512),c.value||f.value?(p(),x("div",{key:0,class:"absolute inset-0 z-30",onClick:b})):R("",!0),c.value?(p(),x("div",Uu,[n("div",{class:"w-full flex justify-center pt-3 pb-1 shrink-0 bg-white",onClick:A[1]||(A[1]=E=>c.value=!1)},[...A[13]||(A[13]=[n("div",{class:"w-8 h-1 rounded-full bg-zinc-200/80"},null,-1)])]),n("div",Vu,[A[16]||(A[16]=n("span",{class:"text-[10px] font-bold tracking-[0.2em] text-zinc-400 uppercase font-sans"},"Sticker Meanings",-1)),n("div",Ku,[A[15]||(A[15]=n("button",{class:"w-6 h-6 flex items-center justify-center text-zinc-300 hover:text-black transition-colors"},[n("span",{class:"material-symbols-outlined text-[18px]"},"search")],-1)),n("button",{onClick:et(F,["stop"]),class:"w-6 h-6 flex items-center justify-center text-zinc-300 hover:text-black transition-colors"},[...A[14]||(A[14]=[n("span",{class:"material-symbols-outlined text-[18px]"},"settings",-1)])])])]),n("div",Fu,[j.value?(p(),x("div",Wu,[(p(!0),x(ne,null,fe(Ne(ms)(j.value.id),E=>(p(),x("div",{key:E.id,class:"flex flex-col items-center gap-2 cursor-pointer group w-full",onClick:ce=>me(E)},[n("div",Gu,[n("img",{src:E.url,class:"w-full h-full object-cover drop-shadow-sm group-hover:scale-110 transition-transform duration-300"},null,8,qu)]),n("span",Qu,P(E.keyword),1)],8,Hu))),128))])):(p(),x("div",Ju,[A[18]||(A[18]=n("div",{class:"w-12 h-12 rounded-full bg-zinc-50 flex items-center justify-center mb-1"},[n("span",{class:"material-symbols-outlined text-2xl opacity-40"},"dashboard_customize")],-1)),n("div",Yu,[A[17]||(A[17]=n("span",{class:"text-[10px] uppercase font-bold tracking-widest text-zinc-400"},"Library Empty",-1)),n("button",{onClick:et(F,["stop"]),class:"text-[10px] text-zinc-500 hover:text-black border-b border-zinc-300 hover:border-black transition-colors pb-0.5"}," Mount your packs ")])]))]),n("div",Xu,[A[20]||(A[20]=n("button",{class:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-zinc-50 transition-colors text-zinc-400 hover:text-black"},[n("span",{class:"material-symbols-outlined text-[20px]"},"history")],-1)),A[21]||(A[21]=n("div",{class:"w-[1px] h-4 bg-zinc-100"},null,-1)),n("div",Zu,[(p(!0),x(ne,null,fe(T.value,E=>(p(),x("button",{key:E.id,onClick:ce=>h.value=E.id,class:X(["shrink-0 transition-all flex items-center justify-center relative",h.value===E.id?"opacity-100":"opacity-30 hover:opacity-100"])},[n("div",tf,[h.value===E.id?(p(),x("span",sf)):R("",!0),E.name.toLowerCase().includes("shape")?(p(),x("span",nf,"category")):(p(),x("span",of,P(E.name.substring(0,2)),1))])],10,ef))),128))]),A[22]||(A[22]=n("div",{class:"w-[1px] h-4 bg-zinc-100"},null,-1)),n("button",{onClick:et(F,["stop"]),class:"w-8 h-8 flex items-center justify-center text-zinc-300 hover:text-black transition-colors rounded-lg hover:bg-zinc-50"},[...A[19]||(A[19]=[n("span",{class:"material-symbols-outlined text-[20px]"},"add",-1)])])])])):R("",!0),u.value?(p(),x("div",{key:2,class:"absolute inset-0 bg-white/95 backdrop-blur-xl z-[70] flex items-center justify-center px-8 cursor-default",onClick:A[3]||(A[3]=et(E=>u.value=!1,["self"]))},[n("div",af,[A[24]||(A[24]=n("div",{class:"text-center space-y-2"},[n("h3",{class:"font-serif text-2xl font-bold tracking-tight text-black"},"Pack Selection"),n("p",{class:"text-[11px] text-zinc-400 uppercase tracking-widest font-medium"},"Choose what you see in this chat")],-1)),n("div",lf,[$.value.length===0?(p(),x("div",rf,[...A[23]||(A[23]=[n("span",{class:"material-symbols-outlined text-3xl"},"folder_off",-1),n("span",{class:"text-[10px] uppercase tracking-widest font-bold"},"Library is empty",-1)])])):R("",!0),(p(!0),x(ne,null,fe($.value,E=>(p(),x("button",{key:E.id,onClick:ce=>ae(E.id),class:X(["w-full flex items-center justify-between p-4 rounded-2xl transition-all group border",Q(E.id)?"bg-zinc-50 border-zinc-200":"bg-transparent border-transparent hover:bg-zinc-50"])},[n("div",df,[n("div",uf,P(E.name.charAt(0)),1),n("span",ff,P(E.name),1)]),n("div",{class:X(["w-6 h-6 rounded-full flex items-center justify-center transition-all duration-300 border",Q(E.id)?"bg-black border-black text-white scale-110":"bg-transparent border-zinc-300 group-hover:border-zinc-400"])},[le(n("span",pf,"check",512),[[Jr,Q(E.id)]])],2)],10,cf))),128))]),n("div",vf,[n("button",{onClick:A[2]||(A[2]=E=>u.value=!1),class:"py-4 rounded-full font-bold text-[11px] uppercase tracking-widest bg-black text-white hover:bg-zinc-800 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5"},"Done")])])])):R("",!0),f.value?(p(),x("div",bf,[n("button",{onClick:k,class:"flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-zinc-50 transition-colors text-left group w-full"},[...A[25]||(A[25]=[n("span",{class:"material-symbols-outlined text-[20px] text-zinc-400 group-hover:text-black transition-colors"},"sticker",-1),n("span",{class:"text-[12px] font-medium text-zinc-600 group-hover:text-black"},"Sticker",-1)])]),A[26]||(A[26]=lt('<button class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-zinc-50 transition-colors text-left group w-full" data-v-ef6fb3da><span class="material-symbols-outlined text-[20px] text-zinc-400 group-hover:text-black transition-colors" data-v-ef6fb3da>image</span><span class="text-[12px] font-medium text-zinc-600 group-hover:text-black" data-v-ef6fb3da>Photos</span></button><button class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-zinc-50 transition-colors text-left group w-full" data-v-ef6fb3da><span class="material-symbols-outlined text-[20px] text-zinc-400 group-hover:text-black transition-colors" data-v-ef6fb3da>attach_file</span><span class="text-[12px] font-medium text-zinc-600 group-hover:text-black" data-v-ef6fb3da>File</span></button>',2))])):R("",!0),n("footer",xf,[n("div",gf,[n("button",{onClick:et(D,["stop"]),class:X(["flex items-center justify-center size-10 rounded-full transition-all duration-200 hover:bg-zinc-50 text-zinc-400 hover:text-black",f.value?"bg-zinc-100 text-black":""])},[...A[27]||(A[27]=[n("span",{class:"material-symbols-outlined text-[24px]"},"add",-1)])],2),n("div",mf,[le(n("textarea",{"onUpdate:modelValue":A[4]||(A[4]=E=>r.value=E),onKeydown:A[5]||(A[5]=cs(et(E=>_(!1),["exact","prevent"]),["enter"])),onFocus:b,class:"w-full border-none bg-zinc-100/60 rounded-[26px] px-5 py-3 text-[15px] placeholder-zinc-400 focus:ring-0 focus:bg-zinc-100 transition-colors resize-none h-[44px] leading-snug",placeholder:"Message..."},null,544),[[ue,r.value]])]),n("button",{onClick:m},[...A[28]||(A[28]=[n("svg",{class:"w-6 h-6 text-black relative right-0.5 bottom-0.5",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[n("path",{d:"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"})],-1)])])])])]))}},yf=Ve(hf,[["__scopeId","data-v-ef6fb3da"]]),kf={class:"h-full flex flex-col bg-background-light text-black"},wf={class:"sticky top-0 z-50 bg-white/95 backdrop-blur-xl border-b border-gray-50"},_f={class:"flex items-center justify-between px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 w-full"},$f={class:"flex-1"},Sf={class:"flex-1 flex justify-end"},Cf={class:"flex-1 overflow-y-auto w-full pb-[calc(6rem+env(safe-area-inset-bottom))]"},zf={class:"px-6 pt-0 pb-6"},If={class:"flex flex-col items-start gap-6"},Af={class:"space-y-2"},Ef={class:"flex items-center gap-2"},Tf={class:"text-2xl font-bold tracking-tight"},jf={class:"text-[15px] leading-relaxed text-zinc-600 font-light max-w-[280px]"},Of=["href"],Mf={class:"flex gap-8 mt-4"},Pf={class:"flex flex-col"},Nf={class:"serif-numbers text-xl font-medium tracking-tight"},Lf={class:"flex flex-col"},Rf={class:"serif-numbers text-xl font-medium tracking-tight"},Bf={key:0,class:"fixed top-0 right-0 h-full w-[300px] z-[100] bg-white shadow-2xl flex flex-col border-l border-gray-50"},Df={class:"flex items-center justify-between px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 border-b border-gray-100"},Uf={class:"flex-1 overflow-y-auto"},Vf={__name:"Profile",emits:["back","navigate"],setup(e,{emit:t}){const s=t,o=B(!1),a=io,l=i=>{o.value=!1,s("navigate",i)};return(i,r)=>(p(),x("div",kf,[n("header",wf,[n("div",_f,[n("div",$f,[n("button",{onClick:r[0]||(r[0]=d=>i.$emit("back")),class:"flex items-center justify-center hover:bg-gray-100 rounded-full size-10 transition-colors -ml-2"},[...r[7]||(r[7]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])])]),r[9]||(r[9]=n("div",{class:"flex justify-center"},[n("div",{class:"text-xl font-extrabold tracking-[0.2em] uppercase"},"Noir")],-1)),n("div",Sf,[n("button",{onClick:r[1]||(r[1]=d=>o.value=!0),class:"flex items-center justify-center hover:bg-gray-100 rounded-full size-10 transition-colors -mr-2"},[...r[8]||(r[8]=[n("span",{class:"material-symbols-outlined text-[24px]"},"more_horiz",-1)])])])])]),n("main",Cf,[n("section",zf,[n("div",If,[n("div",{class:"w-24 h-24 rounded-full overflow-hidden border border-black/5 bg-zinc-50 editorial-image",style:Ke({backgroundImage:`url(${Ne(a).avatar})`,backgroundSize:"cover",backgroundPosition:"center"})},null,4),n("div",Af,[n("div",Ef,[n("h2",Tf,P(Ne(a).handle),1),r[10]||(r[10]=n("span",{class:"material-symbols-outlined text-[18px] active-icon"},"verified",-1))]),n("p",jf,P(Ne(a).bio||"No bio yet."),1),Ne(a).link?(p(),x("a",{key:0,class:"text-sm font-medium border-b border-black inline-block mt-2",href:"https://"+Ne(a).link.replace(/^https?:\/\//,""),target:"_blank"},P(Ne(a).link),9,Of)):R("",!0)]),n("div",Mf,[n("div",Pf,[n("span",Nf,P(Ne(a).stats?.followers||"0"),1),r[11]||(r[11]=n("span",{class:"text-[11px] uppercase tracking-[0.15em] text-zinc-400 mt-0.5"},"Followers",-1))]),n("div",Lf,[n("span",Rf,P(Ne(a).stats?.following||"0"),1),r[12]||(r[12]=n("span",{class:"text-[11px] uppercase tracking-[0.15em] text-zinc-400 mt-0.5"},"Following",-1))])]),r[13]||(r[13]=n("div",{class:"flex gap-3 w-full mt-4"},[n("button",{class:"flex-1 py-2 border border-black text-[12px] font-semibold uppercase tracking-widest hover:bg-black hover:text-white transition-all"}," Edit Profile "),n("button",{class:"flex-1 py-2 border border-black text-[12px] font-semibold uppercase tracking-widest hover:bg-black hover:text-white transition-all"}," Share Profile ")],-1))])]),r[14]||(r[14]=lt('<nav class="flex border-b border-gray-100 mb-0" data-v-a4ff7a86><button class="flex-1 py-4 text-sm font-semibold tracking-tight text-center border-b-2 border-black" data-v-a4ff7a86> Threads </button><button class="flex-1 py-4 text-sm font-medium tracking-tight text-center text-zinc-400" data-v-a4ff7a86> Replies </button></nav><div class="space-y-0" data-v-a4ff7a86><article class="px-6 py-8 border-b border-gray-50" data-v-a4ff7a86><div class="flex items-start gap-4 mb-4" data-v-a4ff7a86><div class="size-8 shrink-0 rounded-full bg-zinc-900 overflow-hidden flex items-center justify-center" data-v-a4ff7a86><div class="w-full h-full editorial-image" style="background-image:url(&#39;https://lh3.googleusercontent.com/aida-public/AB6AXuDcAFY6_Bt1ezg7r0W-A0o06SA0hcV-KRVCEKkmnxkF4HYixgyMDnQ_zxMl1vdOB621SBR_CpqAIMipO-7SBkRSPbzy9t9IFJGwVbyC4M7Ynqwx89TbO31kuH24kuSC4j0Zsji5QTLS76dstQUq9SPS7dnI0Iq7P5nh7eSmFnKMcx5QfmcurO80ByNLbvSc8TWY-SptbQvJfLLl9_8Om7VjeW0NQmoKiIPuf0AfMNKJwWxB_bGXlX-4UCr8VW5THk8ViMve95wX44E&#39;);background-size:cover;" data-v-a4ff7a86></div></div><div class="flex flex-col flex-1" data-v-a4ff7a86><div class="flex items-center justify-between" data-v-a4ff7a86><span class="font-bold text-[14px]" data-v-a4ff7a86>studio_noir</span><span class="text-xs font-light text-zinc-400" data-v-a4ff7a86>2d</span></div></div></div><div class="rounded-xl overflow-hidden bg-zinc-100 aspect-[4/5] editorial-image" style="background-image:url(&#39;https://lh3.googleusercontent.com/aida-public/AB6AXuDcAFY6_Bt1ezg7r0W-A0o06SA0hcV-KRVCEKkmnxkF4HYixgyMDnQ_zxMl1vdOB621SBR_CpqAIMipO-7SBkRSPbzy9t9IFJGwVbyC4M7Ynqwx89TbO31kuH24kuSC4j0Zsji5QTLS76dstQUq9SPS7dnI0Iq7P5nh7eSmFnKMcx5QfmcurO80ByNLbvSc8TWY-SptbQvJfLLl9_8Om7VjeW0NQmoKiIPuf0AfMNKJwWxB_bGXlX-4UCr8VW5THk8ViMve95wX44E&#39;);background-size:cover;background-position:center;" data-v-a4ff7a86></div><div class="mt-4 flex items-center gap-6 text-black" data-v-a4ff7a86><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-a4ff7a86><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-a4ff7a86><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" data-v-a4ff7a86></path></svg></button><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-a4ff7a86><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-a4ff7a86><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.1a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" data-v-a4ff7a86></path></svg></button><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-a4ff7a86><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-a4ff7a86><polyline points="17 1 21 5 17 9" data-v-a4ff7a86></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14" data-v-a4ff7a86></path><polyline points="7 23 3 19 7 15" data-v-a4ff7a86></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3" data-v-a4ff7a86></path></svg></button><button class="icon-btn hover:opacity-60 transition-opacity" data-v-a4ff7a86><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-a4ff7a86><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" data-v-a4ff7a86></path></svg></button></div></article><article class="px-6 py-8 border-b border-gray-50" data-v-a4ff7a86><div class="flex items-start gap-4 mb-4" data-v-a4ff7a86><div class="size-8 shrink-0 rounded-full bg-zinc-900 overflow-hidden flex items-center justify-center" data-v-a4ff7a86><div class="w-full h-full editorial-image" style="background-image:url(&#39;https://lh3.googleusercontent.com/aida-public/AB6AXuDcAFY6_Bt1ezg7r0W-A0o06SA0hcV-KRVCEKkmnxkF4HYixgyMDnQ_zxMl1vdOB621SBR_CpqAIMipO-7SBkRSPbzy9t9IFJGwVbyC4M7Ynqwx89TbO31kuH24kuSC4j0Zsji5QTLS76dstQUq9SPS7dnI0Iq7P5nh7eSmFnKMcx5QfmcurO80ByNLbvSc8TWY-SptbQvJfLLl9_8Om7VjeW0NQmoKiIPuf0AfMNKJwWxB_bGXlX-4UCr8VW5THk8ViMve95wX44E&#39;);background-size:cover;" data-v-a4ff7a86></div></div><div class="flex flex-col flex-1" data-v-a4ff7a86><div class="flex items-center justify-between" data-v-a4ff7a86><span class="font-bold text-[14px]" data-v-a4ff7a86>studio_noir</span><span class="text-xs font-light text-zinc-400" data-v-a4ff7a86>4d</span></div></div></div><div class="rounded-xl overflow-hidden bg-zinc-100 aspect-square editorial-image" style="background-image:url(&#39;https://lh3.googleusercontent.com/aida-public/AB6AXuBmMKAa3mhN1sScpskGMbskeOx8geuTbbnxV_lq_bmsxt3N01G-QgLf97F5smPz8wKg7d9T1aTo0SQJyIYEf6v3JykBRbCwSoWPaowTtAfWBPvQ2ynBALN99158d40apQmYMze-B178tmIsbFAENH_0Sy82AaZOiuBKnB3Bo_IfL26qz0aQgmAlULkUEqMcdJloDMqaAj0dM_e0x-l0t6Ts7kvUqLgZVS-Euh5yDQvQPQ6tv44VsEnIDBGDDaLFqr28_wW7Rd3glO0&#39;);background-size:cover;background-position:center;" data-v-a4ff7a86></div><div class="mt-4 flex items-center gap-6 text-black" data-v-a4ff7a86><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-a4ff7a86><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-a4ff7a86><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" data-v-a4ff7a86></path></svg></button><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-a4ff7a86><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-a4ff7a86><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.1a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" data-v-a4ff7a86></path></svg></button><button class="icon-btn flex items-center gap-1.5 hover:opacity-60 transition-opacity" data-v-a4ff7a86><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-a4ff7a86><polyline points="17 1 21 5 17 9" data-v-a4ff7a86></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14" data-v-a4ff7a86></path><polyline points="7 23 3 19 7 15" data-v-a4ff7a86></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3" data-v-a4ff7a86></path></svg></button><button class="icon-btn hover:opacity-60 transition-opacity" data-v-a4ff7a86><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-a4ff7a86><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" data-v-a4ff7a86></path></svg></button></div></article></div>',2))]),o.value?(p(),x("div",{key:0,onClick:r[2]||(r[2]=d=>o.value=!1),class:"fixed inset-0 z-[99]"})):R("",!0),Le(rs,{name:"slide"},{default:Ft(()=>[o.value?(p(),x("div",Bf,[n("div",Df,[r[16]||(r[16]=n("span",{class:"text-[13px] font-bold tracking-[0.2em] text-zinc-400 uppercase"},"Menu",-1)),n("button",{onClick:r[3]||(r[3]=d=>o.value=!1),class:"p-2 -mr-2 hover:bg-gray-100 rounded-full transition-colors"},[...r[15]||(r[15]=[n("span",{class:"material-symbols-outlined text-[24px]"},"close",-1)])])]),n("div",Uf,[n("div",{onClick:r[4]||(r[4]=d=>l("persona-archive")),class:"flex items-center justify-between px-8 py-6 border-b border-gray-50 cursor-pointer hover:bg-gray-50 transition-colors group"},[...r[17]||(r[17]=[n("div",{class:"flex items-center gap-6"},[n("span",{class:"material-symbols-outlined text-[26px] font-light"},"tune"),n("div",{class:"flex flex-col"},[n("span",{class:"text-[17px] font-medium tracking-tight"},"Persona Archive"),n("span",{class:"text-[11px] text-zinc-400 font-normal tracking-wide mt-0.5"},"")])],-1),n("span",{class:"material-symbols-outlined text-zinc-300 text-[20px] group-hover:text-black transition-colors"},"chevron_right",-1)])]),n("div",{onClick:r[5]||(r[5]=d=>l("sticker-library")),class:"flex items-center justify-between px-8 py-6 border-b border-gray-50 cursor-pointer hover:bg-gray-50 transition-colors group"},[...r[18]||(r[18]=[n("div",{class:"flex items-center gap-6"},[n("span",{class:"material-symbols-outlined text-[26px] font-light"},"sentiment_satisfied"),n("div",{class:"flex flex-col"},[n("span",{class:"text-[17px] font-medium tracking-tight"},"Stickers"),n("span",{class:"text-[11px] text-zinc-400 font-normal tracking-wide mt-0.5"},"")])],-1),n("span",{class:"material-symbols-outlined text-zinc-300 text-[20px] group-hover:text-black transition-colors"},"chevron_right",-1)])]),r[20]||(r[20]=n("div",{class:"flex items-center justify-between px-8 py-6 border-b border-gray-50 cursor-pointer hover:bg-gray-50 transition-colors group"},[n("div",{class:"flex items-center gap-6"},[n("span",{class:"material-symbols-outlined text-[26px] font-light"},"credit_card"),n("div",{class:"flex flex-col"},[n("span",{class:"text-[17px] font-medium tracking-tight"},"Wallet"),n("span",{class:"text-[11px] text-zinc-400 font-normal tracking-wide mt-0.5"},"")])]),n("span",{class:"material-symbols-outlined text-zinc-300 text-[20px] group-hover:text-black transition-colors"},"chevron_right")],-1)),n("div",{onClick:r[6]||(r[6]=d=>l("relationship-network")),class:"flex items-center justify-between px-8 py-6 border-b border-gray-50 cursor-pointer hover:bg-gray-50 transition-colors group"},[...r[19]||(r[19]=[n("div",{class:"flex items-center gap-6"},[n("span",{class:"material-symbols-outlined text-[26px] font-light"},"hub"),n("div",{class:"flex flex-col"},[n("span",{class:"text-[17px] font-medium tracking-tight"},"Network"),n("span",{class:"text-[11px] text-zinc-400 font-normal tracking-wide mt-0.5"},"")])],-1),n("span",{class:"material-symbols-outlined text-zinc-300 text-[20px] group-hover:text-black transition-colors"},"chevron_right",-1)])])])])):R("",!0)]),_:1})]))}},Kf=Ve(Vf,[["__scopeId","data-v-a4ff7a86"]]),Ff={class:"h-full flex flex-col bg-background-light text-black"},Wf={class:"sticky top-0 z-50 bg-white border-b border-gray-50"},Hf={class:"flex items-center justify-between px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 w-full"},Gf={class:"flex-1"},qf={__name:"Compose",emits:["close"],setup(e,{emit:t}){return(s,o)=>(p(),x("div",Ff,[n("header",Wf,[n("div",Hf,[n("div",Gf,[n("button",{onClick:o[0]||(o[0]=a=>s.$emit("close")),class:"text-[15px] font-medium tracking-tight text-neutral-400 hover:text-black transition-colors"}," Cancel ")]),o[1]||(o[1]=n("div",{class:"flex justify-center"},[n("div",{class:"text-xl font-serif font-black tracking-[0.25em] uppercase italic"},"Noir")],-1)),o[2]||(o[2]=n("div",{class:"flex-1 flex justify-end"},[n("button",{class:"bg-black text-white px-5 py-1.5 rounded-lg text-[13px] font-semibold tracking-wide hover:bg-zinc-800 transition-colors"}," Post ")],-1))])]),o[3]||(o[3]=lt('<main class="flex-1 px-6 pt-8 pb-32 w-full" data-v-5df22c3c><div class="flex gap-4" data-v-5df22c3c><div class="size-10 shrink-0 rounded-full bg-black overflow-hidden border border-gray-100 flex items-center justify-center" data-v-5df22c3c><div class="size-5 border border-white/40 rounded-full" data-v-5df22c3c></div></div><div class="flex-1 flex flex-col gap-6" data-v-5df22c3c><div class="pt-2" data-v-5df22c3c><textarea autofocus class="w-full border-0 p-0 focus:ring-0 text-[17px] leading-relaxed resize-none bg-transparent min-h-[120px]" placeholder="Start a thread..." data-v-5df22c3c></textarea></div><div class="relative w-full aspect-[4/5] rounded-sm border border-dashed border-neutral-200 bg-neutral-50/50 flex flex-col items-center justify-center group cursor-pointer hover:bg-neutral-50 transition-colors" data-v-5df22c3c><div class="size-12 rounded-full border border-neutral-200 flex items-center justify-center mb-3" data-v-5df22c3c><span class="material-symbols-outlined text-neutral-300" data-v-5df22c3c>add_photo_alternate</span></div><span class="text-[11px] uppercase tracking-[0.15em] text-neutral-400 font-medium" data-v-5df22c3c>Add Editorial Media</span></div></div></div></main><div class="fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-md border-t border-gray-50 pb-safe" data-v-5df22c3c><div class="flex items-center justify-between px-8 h-16 w-full" data-v-5df22c3c><div class="flex items-center gap-8" data-v-5df22c3c><span class="material-symbols-outlined text-neutral-400" data-v-5df22c3c>image</span><span class="material-symbols-outlined text-neutral-400" data-v-5df22c3c>gif_box</span><span class="material-symbols-outlined text-neutral-400" data-v-5df22c3c>mic</span><span class="material-symbols-outlined text-neutral-400" data-v-5df22c3c>tag</span></div><div class="flex items-center gap-2" data-v-5df22c3c><span class="text-[12px] text-neutral-300 font-medium tracking-tight" data-v-5df22c3c>Anyone can reply</span></div></div><div class="h-6" data-v-5df22c3c></div></div>',2))]))}},Qf=Ve(qf,[["__scopeId","data-v-5df22c3c"]]),Jf={class:"h-full flex flex-col bg-background-light text-black"},Yf={class:"sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-zinc-100"},Xf={class:"flex items-center justify-between px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 w-full"},Zf={__name:"PostDetail",props:["postId"],emits:["back"],setup(e,{emit:t}){return(s,o)=>(p(),x("div",Jf,[n("header",Yf,[n("div",Xf,[n("button",{onClick:o[0]||(o[0]=a=>s.$emit("back")),class:"flex items-center justify-center size-10 -ml-2 hover:bg-zinc-50 rounded-full transition-colors"},[...o[1]||(o[1]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),o[2]||(o[2]=n("div",{class:"text-xl font-extrabold tracking-[0.2em] uppercase"},"Noir",-1)),o[3]||(o[3]=n("div",{class:"w-10"},null,-1))])]),o[4]||(o[4]=lt('<main class="flex-1 overflow-y-auto pb-32 w-full" data-v-eae84c1c><article class="pt-6" data-v-eae84c1c><div class="px-6 mb-6" data-v-eae84c1c><div class="flex items-center gap-3" data-v-eae84c1c><div class="size-10 rounded-full bg-black flex items-center justify-center overflow-hidden border border-zinc-200" data-v-eae84c1c><div class="w-full h-[0.5px] bg-white/30 rotate-45" data-v-eae84c1c></div><div class="absolute w-full h-[0.5px] bg-white/30 -rotate-45" data-v-eae84c1c></div></div><div class="flex flex-col" data-v-eae84c1c><span class="text-sm font-semibold tracking-tight" data-v-eae84c1c>studio_noir</span><span class="text-[9px] text-zinc-400 uppercase tracking-widest" data-v-eae84c1c>Paris, FR</span></div></div></div><div class="px-6 mb-6" data-v-eae84c1c><p class="text-[17px] leading-relaxed font-light text-zinc-900" data-v-eae84c1c> The silence of structure. Exploring the intersection of Brutalist architecture and morning light. Every angle is a dialogue with the sky. </p></div><div class="mx-6 aspect-[4/5] bg-zinc-100 overflow-hidden mb-6" data-v-eae84c1c><img alt="Editorial Architecture" class="w-full h-full object-cover editorial-image" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDcAFY6_Bt1ezg7r0W-A0o06SA0hcV-KRVCEKkmnxkF4HYixgyMDnQ_zxMl1vdOB621SBR_CpqAIMipO-7SBkRSPbzy9t9IFJGwVbyC4M7Ynqwx89TbO31kuH24kuSC4j0Zsji5QTLS76dstQUq9SPS7dnI0Iq7P5nh7eSmFnKMcx5QfmcurO80ByNLbvSc8TWY-SptbQvJfLLl9_8Om7VjeW0NQmoKiIPuf0AfMNKJwWxB_bGXlX-4UCr8VW5THk8ViMve95wX44E" data-v-eae84c1c></div><div class="px-6 pb-8" data-v-eae84c1c><div class="flex items-center gap-7 pb-8 border-b border-zinc-50" data-v-eae84c1c><button class="flex items-center gap-2 group" data-v-eae84c1c><svg class="w-6 h-6 thin-icon group-hover:opacity-40 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-eae84c1c><path d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" stroke-linecap="round" stroke-linejoin="round" data-v-eae84c1c></path></svg><span class="text-[11px] font-medium tracking-tighter" data-v-eae84c1c>1,240</span></button><button class="flex items-center gap-2 group" data-v-eae84c1c><svg class="w-6 h-6 thin-icon group-hover:opacity-40 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-eae84c1c><path d="M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48L4.32 21l4.287-1.022c1.026.177 2.104.272 3.393.272z" stroke-linecap="round" stroke-linejoin="round" data-v-eae84c1c></path></svg><span class="text-[11px] font-medium tracking-tighter" data-v-eae84c1c>48</span></button><button class="flex items-center gap-2 group" data-v-eae84c1c><svg class="w-6 h-6 thin-icon group-hover:opacity-40 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-eae84c1c><path d="M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 00-3.7-3.7 48.678 48.678 0 00-7.324 0 4.006 4.006 0 00-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3l-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 003.7 3.7 48.656 48.656 0 007.324 0 4.006 4.006 0 003.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3l-3 3" stroke-linecap="round" stroke-linejoin="round" data-v-eae84c1c></path></svg><span class="text-[11px] font-medium tracking-tighter" data-v-eae84c1c>12</span></button><button class="flex items-center group ml-auto" data-v-eae84c1c><svg class="w-6 h-6 thin-icon group-hover:opacity-40 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-eae84c1c><path d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" stroke-linecap="round" stroke-linejoin="round" data-v-eae84c1c></path></svg></button></div></div></article><section class="px-6 space-y-8" data-v-eae84c1c><h3 class="text-[10px] uppercase tracking-[0.25em] text-zinc-400 font-semibold mb-8" data-v-eae84c1c>Responses</h3><div class="flex gap-4" data-v-eae84c1c><div class="size-9 shrink-0 rounded-full bg-zinc-50 flex items-center justify-center border border-zinc-100" data-v-eae84c1c><div class="size-3 border border-black/20 rounded-sm rotate-45" data-v-eae84c1c></div></div><div class="flex-1" data-v-eae84c1c><div class="flex items-center justify-between mb-1" data-v-eae84c1c><span class="text-[13px] font-bold tracking-tight" data-v-eae84c1c>elena_di_rossi</span><span class="text-[10px] text-zinc-400" data-v-eae84c1c>2h</span></div><p class="text-[14px] leading-relaxed text-zinc-800 font-light" data-v-eae84c1c>The high contrast captures the starkness perfectly. Exceptional work.</p></div></div><div class="flex gap-4" data-v-eae84c1c><div class="size-9 shrink-0 rounded-full bg-black flex items-center justify-center border border-zinc-100" data-v-eae84c1c><div class="w-4 h-[1px] bg-white/20" data-v-eae84c1c></div></div><div class="flex-1" data-v-eae84c1c><div class="flex items-center justify-between mb-1" data-v-eae84c1c><span class="text-[13px] font-bold tracking-tight" data-v-eae84c1c>arc_digest</span><span class="text-[10px] text-zinc-400" data-v-eae84c1c>4h</span></div><p class="text-[14px] leading-relaxed text-zinc-800 font-light" data-v-eae84c1c>The brutalist aesthetic is making a serious comeback this season.</p></div></div><div class="flex gap-4" data-v-eae84c1c><div class="size-9 shrink-0 rounded-full bg-white flex items-center justify-center border border-zinc-200" data-v-eae84c1c><div class="size-2 bg-black rounded-full" data-v-eae84c1c></div></div><div class="flex-1" data-v-eae84c1c><div class="flex items-center justify-between mb-1" data-v-eae84c1c><span class="text-[13px] font-bold tracking-tight" data-v-eae84c1c>minimal_vibe</span><span class="text-[10px] text-zinc-400" data-v-eae84c1c>5h</span></div><p class="text-[14px] leading-relaxed text-zinc-800 font-light" data-v-eae84c1c>Pure sophistication.</p></div></div></section></main><footer class="fixed bottom-0 left-0 right-0 bottom-input-bar border-t border-zinc-100 safe-area-bottom bg-white/90 backdrop-blur-md" data-v-eae84c1c><div class="flex items-center gap-4 px-6 pt-4 pb-[calc(1rem+env(safe-area-inset-bottom))] w-full" data-v-eae84c1c><div class="size-8 shrink-0 rounded-full bg-zinc-50 border border-zinc-200 flex items-center justify-center overflow-hidden" data-v-eae84c1c><div class="w-3 h-3 border-t border-l border-zinc-400 rotate-45 translate-y-0.5" data-v-eae84c1c></div></div><div class="flex-1" data-v-eae84c1c><input class="w-full bg-transparent border-none focus:ring-0 text-[14px] py-2 placeholder:text-zinc-400 font-light tracking-tight" placeholder="Write a comment..." type="text" data-v-eae84c1c></div><button class="text-[11px] font-bold tracking-[0.15em] uppercase hover:opacity-40 transition-opacity" data-v-eae84c1c> Post </button></div></footer>',2))]))}},ep=Ve(Zf,[["__scopeId","data-v-eae84c1c"]]),tp={class:"h-full flex flex-col bg-white text-black font-sans"},sp={class:"flex items-center justify-between px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 sticky top-0 bg-white/95 backdrop-blur-md z-10 border-b border-gray-50"},np={class:"flex-1 overflow-y-auto px-6 py-4 w-full"},op={class:"grid gap-4"},ap=["onClick"],lp={key:0,class:"absolute top-4 right-4 text-black"},ip={class:"flex-1 min-w-0 pr-6"},rp={class:"text-[16px] font-bold tracking-tight truncate"},cp={class:"text-[12px] text-zinc-500 font-light truncate mt-0.5"},dp=["onClick"],up={__name:"PersonaArchive",emits:["back","add","edit","select"],setup(e,{emit:t}){const s=t,o=l=>{On(l),s("select")},a=(l,i)=>{i.stopPropagation(),s("edit",l)};return(l,i)=>(p(),x("div",tp,[n("header",sp,[n("button",{onClick:i[0]||(i[0]=r=>l.$emit("back")),class:"flex items-center justify-center size-10 -ml-2 hover:bg-gray-100 rounded-full transition-colors"},[...i[3]||(i[3]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),i[5]||(i[5]=n("div",{class:"text-[13px] font-bold uppercase tracking-[0.25em]"},"Persona Archive",-1)),n("button",{onClick:i[1]||(i[1]=r=>l.$emit("add")),class:"flex items-center justify-center size-10 -mr-2 hover:bg-gray-100 rounded-full transition-colors"},[...i[4]||(i[4]=[n("span",{class:"material-symbols-outlined text-[24px]"},"add",-1)])])]),n("main",np,[n("div",op,[(p(!0),x(ne,null,fe(Ne(I).personas,r=>(p(),x("div",{key:r.id,class:X(["group relative flex items-center gap-5 p-4 rounded-2xl border border-gray-100 hover:border-black/10 transition-all cursor-pointer hover:shadow-sm hover:translate-y-[-1px]",{"bg-zinc-50 border-black/5":Ne(I).activePersonaId===r.id,"bg-white":Ne(I).activePersonaId!==r.id}]),onClick:d=>o(r.id)},[Ne(I).activePersonaId===r.id?(p(),x("div",lp,[...i[6]||(i[6]=[n("span",{class:"material-symbols-outlined text-[18px]"},"check_circle",-1)])])):R("",!0),n("div",{class:"size-16 shrink-0 rounded-full overflow-hidden border border-gray-100 editorial-image",style:Ke({backgroundImage:`url(${r.avatar})`,backgroundSize:"cover",backgroundPosition:"center"})},null,4),n("div",ip,[n("h3",rp,P(r.handle),1),n("p",cp,P(r.name||r.handle),1)]),n("div",{onClick:i[2]||(i[2]=et(()=>{},["stop"])),class:"relative z-20"},[n("button",{onClick:d=>a(r.id,d),class:"p-3 text-zinc-400 hover:text-black hover:bg-gray-100/50 rounded-full transition-all"},[...i[7]||(i[7]=[n("span",{class:"material-symbols-outlined text-[20px]"},"edit",-1)])],8,dp)])],10,ap))),128))])])]))}},fp=Ve(up,[["__scopeId","data-v-09dd5376"]]),pp={class:"h-full flex flex-col bg-white text-black font-sans"},vp={class:"flex items-center justify-between px-6 pt-[calc(20px_+_env(safe-area-inset-top))] pb-5 sticky top-0 bg-white z-10 border-b border-gray-50"},bp={class:"flex-1 overflow-y-auto px-8 py-8 w-full pb-[calc(2rem+env(safe-area-inset-bottom))]"},xp={class:"flex flex-col items-center mb-12"},gp={class:"space-y-10 max-w-md mx-auto"},mp={class:"group"},hp={class:"group"},yp={class:"group"},kp={class:"group"},wp={class:"group"},_p={key:0,class:"pt-8 flex justify-center border-t border-gray-50 mt-12"},$p={__name:"PersonaEdit",props:["personaId"],emits:["back","save"],setup(e,{emit:t}){const s=e,o=t,a=B({id:"",id:"",handle:"",name:"",persona:"",bio:"",link:"",avatar:""}),l=B(!1);dt(()=>{if(s.personaId){const f=I.personas.find(c=>c.id===s.personaId);f&&(l.value=!0,a.value={...f})}else a.value.id="p_"+Date.now(),a.value.avatar="https://lh3.googleusercontent.com/aida-public/AB6AXuBmMKAa3mhN1sScpskGMbskeOx8geuTbbnxV_lq_bmsxt3N01G-QgLf97F5smPz8wKg7d9T1aTo0SQJyIYEf6v3JykBRbCwSoWPaowTtAfWBPvQ2ynBALN99158d40apQmYMze-B178tmIsbFAENH_0Sy82AaZOiuBKnB3Bo_IfL26qz0aQgmAlULkUEqMcdJloDMqaAj0dM_e0x-l0t6Ts7kvUqLgZVS-Euh5yDQvQPQ6tv44VsEnIDBGDDaLFqr28_wW7Rd3glO0"});const i=async()=>{const f={...a.value,stats:a.value.stats||{followers:"0",following:"0"}};l.value?await zc(f):await Cc(f),o("save")},r=()=>{const f=prompt("Enter image URL for avatar:",a.value.avatar);f&&(a.value.avatar=f)},d=async()=>{a.value.id&&confirm("Delete this persona? This cannot be undone.")&&(await Ic(a.value.id),o("save"))};return(f,c)=>(p(),x("div",pp,[n("header",vp,[n("button",{onClick:c[0]||(c[0]=u=>f.$emit("back")),class:"text-[17px] font-normal text-black font-serif italic tracking-wide"}," Cancel "),c[6]||(c[6]=n("div",{class:"text-[11px] font-bold uppercase tracking-[0.25em]"},"Edit Persona",-1)),n("button",{onClick:i,class:"bg-black text-white rounded-full px-6 py-2 text-[13px] font-medium tracking-wide hover:opacity-80 transition-opacity"}," Save ")]),n("main",bp,[n("div",xp,[n("div",{class:"size-32 rounded-full overflow-hidden mb-4 border border-gray-100 shadow-sm editorial-image",style:Ke({backgroundImage:`url(${a.value.avatar})`,backgroundSize:"cover",backgroundPosition:"center"})},null,4),n("button",{onClick:r,class:"text-[10px] text-zinc-400 uppercase tracking-[0.15em] font-medium hover:text-black transition-colors"},"")]),n("div",gp,[n("div",mp,[c[7]||(c[7]=n("label",{class:"block text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em] mb-3"},"ID / ",-1)),le(n("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>a.value.handle=u),type:"text",class:"w-full border-b border-gray-200 py-2 text-[22px] font-serif italic text-black placeholder-gray-300 focus:outline-none focus:border-black transition-colors bg-transparent",placeholder:"your_handle"},null,512),[[ue,a.value.handle]])]),n("div",hp,[c[8]||(c[8]=n("label",{class:"block text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em] mb-3"},"",-1)),le(n("input",{"onUpdate:modelValue":c[2]||(c[2]=u=>a.value.name=u),type:"text",class:"w-full border-b border-gray-200 py-2 text-[18px] font-serif italic text-black placeholder-gray-300 focus:outline-none focus:border-black transition-colors bg-transparent",placeholder:"Official Name"},null,512),[[ue,a.value.name]]),c[9]||(c[9]=n("div",{class:"mt-2 text-[10px] text-zinc-300 tracking-wide"},"",-1))]),n("div",yp,[c[10]||(c[10]=n("label",{class:"block text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em] mb-3"},"",-1)),le(n("textarea",{"onUpdate:modelValue":c[3]||(c[3]=u=>a.value.persona=u),rows:"4",class:"w-full border-b border-gray-200 py-2 text-[18px] font-serif italic text-black placeholder-gray-300 focus:outline-none focus:border-black transition-colors bg-transparent resize-none leading-relaxed",placeholder:"Describe the inner persona..."},null,512),[[ue,a.value.persona]]),c[11]||(c[11]=n("div",{class:"mt-2 text-[10px] text-zinc-300 tracking-wide"}," ()",-1))]),n("div",kp,[c[12]||(c[12]=n("label",{class:"block text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em] mb-3"},"",-1)),le(n("textarea",{"onUpdate:modelValue":c[4]||(c[4]=u=>a.value.bio=u),rows:"3",class:"w-full border-b border-gray-200 py-2 text-[18px] font-serif italic text-black placeholder-gray-300 focus:outline-none focus:border-black transition-colors bg-transparent resize-none leading-relaxed",placeholder:"Write a brief description..."},null,512),[[ue,a.value.bio]])]),n("div",wp,[c[13]||(c[13]=n("label",{class:"block text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em] mb-3"},"",-1)),le(n("input",{"onUpdate:modelValue":c[5]||(c[5]=u=>a.value.link=u),type:"text",class:"w-full border-b border-gray-200 py-2 text-[18px] font-serif italic text-black placeholder-gray-300 focus:outline-none focus:border-black transition-colors bg-transparent",placeholder:"website.com"},null,512),[[ue,a.value.link]])]),l.value?(p(),x("div",_p,[n("button",{onClick:d,class:"text-[12px] font-bold text-red-500 uppercase tracking-[0.2em] hover:opacity-60 transition-opacity"}," Delete Persona ")])):R("",!0)])])]))}},Sp=Ve($p,[["__scopeId","data-v-0cfa7f13"]]),Cp={class:"h-full flex flex-col bg-white text-black font-sans"},zp={class:"flex items-center justify-between px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 sticky top-0 bg-white/95 backdrop-blur-md z-10 border-b border-gray-50"},Ip={class:"flex-1 overflow-y-auto w-full"},Ap={class:"px-6 py-4"},Ep={class:"relative"},Tp={class:"px-6 pb-20"},jp={class:"flex items-center gap-4 min-w-0 flex-1"},Op={key:0,class:"material-symbols-outlined text-zinc-300 text-[24px]"},Mp={class:"flex flex-col min-w-0"},Pp={class:"text-[14px] font-bold tracking-tight truncate"},Np={class:"text-[11px] text-zinc-500 font-light truncate mt-0.5"},Lp=["onClick"],Rp={__name:"Following",emits:["back","add","edit"],setup(e,{emit:t}){const s=t,o=B(""),a=ye(()=>{if(!o.value)return I.contacts;const i=o.value.toLowerCase();return I.contacts.filter(r=>r.handle.toLowerCase().includes(i)||r.name&&r.name.toLowerCase().includes(i)||r.bio&&r.bio.toLowerCase().includes(i))}),l=i=>{s("edit",i)};return(i,r)=>(p(),x("div",Cp,[n("header",zp,[n("button",{onClick:r[0]||(r[0]=d=>i.$emit("back")),class:"flex items-center justify-center size-10 -ml-2 hover:bg-gray-100 rounded-full transition-colors"},[...r[3]||(r[3]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),r[5]||(r[5]=n("div",{class:"text-[13px] font-bold uppercase tracking-[0.25em]"},"Following",-1)),n("button",{onClick:r[1]||(r[1]=d=>i.$emit("add")),class:"flex items-center justify-center size-10 -mr-2 hover:bg-gray-100 rounded-full transition-colors"},[...r[4]||(r[4]=[n("span",{class:"material-symbols-outlined text-[24px]"},"person_add",-1)])])]),n("main",Ip,[n("div",Ap,[n("div",Ep,[r[6]||(r[6]=n("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 material-symbols-outlined text-zinc-400 text-[20px]"},"search",-1)),le(n("input",{"onUpdate:modelValue":r[2]||(r[2]=d=>o.value=d),type:"text",class:"w-full bg-zinc-50 border border-gray-100 rounded-lg py-2.5 pl-10 pr-4 text-sm font-light placeholder-zinc-400 focus:outline-none focus:border-black/10 transition-colors",placeholder:"Search connections..."},null,512),[[ue,o.value]])])]),n("div",Tp,[(p(!0),x(ne,null,fe(a.value,d=>(p(),x("div",{key:d.id,class:"flex items-center justify-between py-5 border-b border-gray-50 group hover:bg-zinc-50/50 -mx-6 px-6 transition-colors"},[n("div",jp,[n("div",{class:"size-12 shrink-0 rounded-full overflow-hidden border border-gray-100 bg-zinc-100 flex items-center justify-center editorial-image",style:Ke({backgroundImage:d.avatar?`url(${d.avatar})`:"none",backgroundSize:"cover",backgroundPosition:"center"})},[d.avatar?R("",!0):(p(),x("span",Op,"person"))],4),n("div",Mp,[n("h3",Pp,P(d.handle),1),n("p",Np,P(d.bio||d.name||"No bio"),1)])]),n("button",{onClick:f=>l(d.id),class:"ml-4 px-5 py-1.5 bg-black text-white rounded-full text-[11px] font-medium tracking-wide hover:opacity-80 transition-opacity"}," Following ",8,Lp)]))),128))])])]))}},Bp=Ve(Rp,[["__scopeId","data-v-ed8e3c0e"]]),Dp={class:"h-full flex flex-col bg-white text-black font-sans"},Up={class:"flex items-center justify-between px-6 pt-[calc(1.25rem+env(safe-area-inset-top))] pb-5 sticky top-0 bg-white z-10"},Vp={class:"text-[11px] font-bold uppercase tracking-[0.25em]"},Kp={class:"flex-1 overflow-y-auto px-8 py-8 w-full pb-[calc(2rem+env(safe-area-inset-bottom))]"},Fp={class:"flex flex-col items-center mb-12"},Wp={key:0,class:"w-full h-full flex items-center justify-center text-zinc-300"},Hp={class:"space-y-10 max-w-md mx-auto"},Gp={class:"group"},qp={class:"group"},Qp={class:"group"},Jp={class:"group"},Yp={class:"group"},Xp={key:0,class:"pt-8 flex justify-center border-t border-gray-50 mt-12"},Zp={__name:"ContactEdit",props:["contactId"],emits:["back","save"],setup(e,{emit:t}){const s=e,o=t,a=B({id:"",handle:"",name:"",persona:"",bio:"",link:"",avatar:""}),l=B(!1);dt(()=>{if(s.contactId){const f=I.contacts.find(c=>c.id===s.contactId);f&&(l.value=!0,a.value={...f})}else a.value.id="c_"+Date.now(),a.value.avatar=""});const i=()=>{const f={...a.value};l.value?Ec(f):Ac(f),o("save")},r=()=>{const f=prompt("Enter image URL for avatar:",a.value.avatar);f&&(a.value.avatar=f)},d=async()=>{a.value.id&&confirm("Remove this contact?")&&(await Tc(a.value.id),o("save"))};return(f,c)=>(p(),x("div",Dp,[n("header",Up,[n("button",{onClick:c[0]||(c[0]=u=>f.$emit("back")),class:"text-[17px] font-normal text-black font-serif italic tracking-wide"}," Cancel "),n("div",Vp,P(l.value?"Edit Contact":"Add Contact"),1),n("button",{onClick:i,class:"bg-black text-white rounded-full px-6 py-2 text-[13px] font-medium tracking-wide hover:opacity-80 transition-opacity"}," Save ")]),n("main",Kp,[n("div",Fp,[n("div",{class:"size-32 rounded-full overflow-hidden mb-4 border border-gray-100 shadow-sm editorial-image bg-zinc-50",style:Ke({backgroundImage:a.value.avatar?`url(${a.value.avatar})`:"none",backgroundSize:"cover",backgroundPosition:"center"})},[a.value.avatar?R("",!0):(p(),x("div",Wp,[...c[6]||(c[6]=[n("span",{class:"material-symbols-outlined text-[40px]"},"person",-1)])]))],4),n("button",{onClick:r,class:"text-[10px] text-zinc-400 uppercase tracking-[0.15em] font-medium hover:text-black transition-colors"},"")]),n("div",Hp,[n("div",Gp,[c[7]||(c[7]=n("label",{class:"block text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em] mb-3"},"ID / ",-1)),le(n("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>a.value.handle=u),type:"text",class:"w-full border-b border-gray-200 py-2 text-[22px] font-serif italic text-black placeholder-gray-300 focus:outline-none focus:border-black transition-colors bg-transparent",placeholder:"handle"},null,512),[[ue,a.value.handle]])]),n("div",qp,[c[8]||(c[8]=n("label",{class:"block text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em] mb-3"},"",-1)),le(n("input",{"onUpdate:modelValue":c[2]||(c[2]=u=>a.value.name=u),type:"text",class:"w-full border-b border-gray-200 py-2 text-[18px] font-serif italic text-black placeholder-gray-300 focus:outline-none focus:border-black transition-colors bg-transparent",placeholder:"Real Name"},null,512),[[ue,a.value.name]]),c[9]||(c[9]=n("div",{class:"mt-2 text-[10px] text-zinc-300 tracking-wide"},"",-1))]),n("div",Qp,[c[10]||(c[10]=n("label",{class:"block text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em] mb-3"},"",-1)),le(n("textarea",{"onUpdate:modelValue":c[3]||(c[3]=u=>a.value.persona=u),rows:"4",class:"w-full border-b border-gray-200 py-2 text-[18px] font-serif italic text-black placeholder-gray-300 focus:outline-none focus:border-black transition-colors bg-transparent resize-none leading-relaxed",placeholder:"Internal notes about this contact..."},null,512),[[ue,a.value.persona]]),c[11]||(c[11]=n("div",{class:"mt-2 text-[10px] text-zinc-300 tracking-wide"}," ()",-1))]),n("div",Jp,[c[12]||(c[12]=n("label",{class:"block text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em] mb-3"},"",-1)),le(n("textarea",{"onUpdate:modelValue":c[4]||(c[4]=u=>a.value.bio=u),rows:"3",class:"w-full border-b border-gray-200 py-2 text-[18px] font-serif italic text-black placeholder-gray-300 focus:outline-none focus:border-black transition-colors bg-transparent resize-none leading-relaxed",placeholder:"Public bio..."},null,512),[[ue,a.value.bio]])]),n("div",Yp,[c[13]||(c[13]=n("label",{class:"block text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em] mb-3"},"",-1)),le(n("input",{"onUpdate:modelValue":c[5]||(c[5]=u=>a.value.link=u),type:"text",class:"w-full border-b border-gray-200 py-2 text-[18px] font-serif italic text-black placeholder-gray-300 focus:outline-none focus:border-black transition-colors bg-transparent",placeholder:"website.com"},null,512),[[ue,a.value.link]])]),l.value?(p(),x("div",Xp,[n("button",{onClick:d,class:"text-[12px] font-bold text-red-500 uppercase tracking-[0.2em] hover:opacity-60 transition-opacity"}," Delete Contact ")])):R("",!0)])])]))}},wa=Ve(Zp,[["__scopeId","data-v-03c28d4d"]]),ev={class:"h-full flex flex-col bg-white text-black font-sans relative"},tv={class:"sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100"},sv={class:"flex items-center justify-between px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 w-full"},nv={class:"w-full px-8 pb-32 flex-1 overflow-y-auto"},ov={class:"mt-10 mb-16"},av={class:"mb-14"},lv={class:"space-y-6"},iv={class:"flex flex-col gap-3"},rv={class:"flex items-center justify-between"},cv={class:"relative inline-flex items-center cursor-pointer"},dv={class:"flex flex-col gap-3"},uv={class:"flex items-center justify-between"},fv={class:"relative inline-flex items-center cursor-pointer"},pv={class:"flex flex-col gap-3"},vv={class:"flex items-center justify-between"},bv={class:"flex items-center gap-2"},xv={class:"flex items-center gap-2"},gv={class:"text-[11px] text-zinc-300 font-serif italic group-hover:text-black transition-colors"},mv={key:0,class:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm flex items-center justify-center p-6"},hv={class:"bg-white w-full max-w-md max-h-[80vh] rounded-2xl shadow-xl flex flex-col overflow-hidden"},yv={class:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-white shrink-0"},kv={class:"flex-1 overflow-y-auto p-6 flex flex-col gap-6"},wv={id:"timezone-list"},_v=["value"],$v={class:"flex flex-col gap-2"},Sv={class:"text-[10px] text-zinc-400 tracking-wider uppercase font-light ml-1"},Cv={key:0,class:"flex flex-col gap-2"},zv={class:"text-[10px] text-zinc-400 tracking-wider uppercase font-light ml-1"},Iv={key:1,class:"flex flex-col gap-4"},Av={class:"text-[10px] text-zinc-500 font-medium ml-1"},Ev=["onUpdate:modelValue","placeholder"],Tv={class:"px-6 py-4 bg-gray-50 border-t border-gray-100 shrink-0 flex justify-end"},jv={key:1,class:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm flex items-center justify-center p-6"},Ov={class:"bg-white w-full max-w-md max-h-[80vh] rounded-2xl shadow-xl flex flex-col overflow-hidden"},Mv={class:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-white shrink-0"},Pv={class:"flex-1 overflow-y-auto p-6 flex flex-col gap-8"},Nv={class:"flex flex-col gap-3"},Lv={class:"flex gap-2"},Rv={key:0,class:"material-symbols-outlined text-sm animate-spin"},Bv={key:1,class:"material-symbols-outlined text-sm"},Dv={key:0,class:"flex flex-col gap-1 mt-1"},Uv=["onClick"],Vv={key:0,class:"material-symbols-outlined text-xs"},Kv={key:1,class:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-md border border-gray-100"},Fv={class:"text-[12px] font-medium"},Wv={class:"text-[10px] text-zinc-400 font-mono ml-auto"},Hv={class:"flex flex-col gap-4"},Gv={class:"text-[10px] uppercase tracking-widest font-bold text-black border-l-2 border-black pl-2"},qv={key:0,class:"flex flex-col gap-3"},Qv={class:"flex gap-2"},Jv={key:0,class:"material-symbols-outlined text-sm animate-spin"},Yv={key:1,class:"material-symbols-outlined text-sm"},Xv={key:0,class:"flex flex-col gap-1 mt-1"},Zv=["onClick"],e0={key:0,class:"material-symbols-outlined text-xs"},t0={key:1,class:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-md border border-gray-100"},s0={class:"text-[12px] font-medium"},n0={class:"text-[10px] text-zinc-400 font-mono ml-auto"},o0={key:1,class:"flex flex-col gap-6"},a0={class:"text-[11px] font-bold block mb-2"},l0={class:"flex gap-2"},i0=["onUpdate:modelValue","onKeyup"],r0=["onClick"],c0={key:0,class:"material-symbols-outlined text-sm animate-spin"},d0={key:1,class:"material-symbols-outlined text-sm"},u0={key:0,class:"flex flex-col gap-1 mt-2 bg-white rounded-md border border-gray-100 p-1"},f0=["onClick"],p0={class:"truncate"},v0={key:0,class:"material-symbols-outlined text-[10px]"},b0={key:1,class:"flex items-center gap-2 mt-2 px-2"},x0={class:"text-[11px] font-bold text-zinc-600"},g0={class:"px-6 py-4 bg-gray-50 border-t border-gray-100 shrink-0 flex justify-end gap-3"},m0={__name:"ChatSettings",props:["chatId"],emits:["back","navigate"],setup(e,{emit:t}){const s=e,o=ye(()=>Mn(s.chatId)),a=B(!1),l=B(!1),i=B(""),r=B(""),d=B(15),f=B(!1),c=B(""),u=B(""),h=B(""),$=B([]),T=B([]),j=B({}),D=B({}),b=B(null),k=B(null),F=B({}),Q=ye(()=>{const S=o.value?.localSettings?.myActivePersonaId;if(S){const w=I.personas.find(z=>z.id===S);return w?w.name:"My"}return io.value?io.value.name:"My"}),ae=ye(()=>{if(!o.value)return"Their";if(o.value.isGroup)return o.value.title||"Group";const S=I.contacts.find(w=>w.id===o.value.id);return S?S.name:o.value.handle||"Their"}),me=B([]);try{me.value=Intl.supportedValuesOf("timeZone")}catch{me.value=["UTC","Asia/Shanghai","Asia/Tokyo","Europe/London","Europe/Paris","America/New_York","America/Los_Angeles"]}const xe=B({}),he=ye(()=>o.value?.type==="group"||o.value?.isGroup===!0),Y=B(!1),ie=ye(()=>he.value?(o.value.members||[]).map(S=>I.contacts.find(w=>w.id===S)||{id:S,name:"Unknown"}):[]),be=()=>{if(o.value){const S=o.value.localSettings||{};a.value=S.timeAwareness!==!1,l.value=S.envSensing===!0,i.value=S.myLocationOverride||"",r.value=S.theirLocationOverride||"",d.value=S.shortTermMemoryLimit||15,b.value=S.myWeatherConfig||null,k.value=S.theirWeatherConfig||null,F.value=S.groupWeatherConfigs||{};const w=S.memberOverrides||{};he.value&&ie.value.forEach(z=>{xe.value[z.id]=w[z.id]?.location||""})}},U=async()=>{if(o.value){const S={};for(const[w,z]of Object.entries(xe.value))z&&(S[w]={location:z});await Js({id:s.chatId,localSettings:{...o.value.localSettings||{},timeAwareness:a.value,envSensing:l.value,myLocationOverride:i.value,theirLocationOverride:r.value,shortTermMemoryLimit:d.value,memberOverrides:S,myWeatherConfig:b.value,theirWeatherConfig:k.value,groupWeatherConfigs:F.value}})}},_=async S=>{h.value=S;let w="";if(S==="me"?w=c.value:S==="their"?w=u.value:w=j.value[S]||"",!w){h.value="";return}const z=await gu(w);S==="me"?$.value=z:S==="their"?T.value=z:D.value={...D.value,[S]:z},h.value=""},m=(S,w)=>{const z={city:w.name,lat:w.latitude,long:w.longitude};if(S==="me")b.value=z,$.value=[],c.value="";else if(S==="their")k.value=z,T.value=[],u.value="";else{F.value={...F.value,[S]:z};const re={...D.value};delete re[S],D.value=re,j.value[S]=""}},v=S=>F.value[S];return dt(()=>{be()}),(S,w)=>(p(),x("div",ev,[n("header",tv,[n("div",sv,[n("button",{onClick:w[0]||(w[0]=z=>S.$emit("back")),class:"flex items-center justify-center -ml-2 w-10 h-10 hover:bg-gray-100 rounded-full transition-colors"},[...w[21]||(w[21]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),w[22]||(w[22]=n("h1",{class:"font-serif text-[18px] font-light tracking-[0.15em] uppercase text-center flex-1 pr-8"},"",-1)),w[23]||(w[23]=n("div",{class:"w-8 hidden"},null,-1))])]),n("main",nv,[n("section",ov,[n("button",{onClick:w[1]||(w[1]=z=>S.$emit("navigate","chat-settings-identity",{id:s.chatId})),class:"w-full group flex items-center justify-between py-8 border-y border-black hover:bg-gray-50 transition-colors"},[...w[24]||(w[24]=[n("div",{class:"flex flex-col items-start text-left"},[n("span",{class:"font-serif italic text-2xl tracking-tight mb-1"},"Identity & Display"),n("span",{class:"text-[12px] font-medium tracking-[0.1em] text-black/50"},"")],-1),n("span",{class:"material-symbols-outlined text-black/20 group-hover:text-black transition-colors"},"arrow_forward",-1)])])]),n("section",av,[w[34]||(w[34]=n("h3",{class:"text-[11px] font-bold tracking-[0.25em] uppercase text-black/30 mb-6"}," / Interaction",-1)),n("div",lv,[n("div",iv,[n("div",rv,[w[26]||(w[26]=n("div",{class:"flex flex-col text-left"},[n("span",{class:"text-[15px] font-medium tracking-tight"},""),n("span",{class:"text-[10px] text-zinc-400 tracking-wider uppercase font-light"},"Time Awareness")],-1)),n("label",cv,[le(n("input",{type:"checkbox","onUpdate:modelValue":w[2]||(w[2]=z=>a.value=z),class:"sr-only noir-toggle",onChange:U},null,544),[[Fs,a.value]]),w[25]||(w[25]=n("div",{class:"noir-toggle-bg w-[42px] h-[22px] bg-zinc-200 rounded-full transition-colors duration-500 ease-out border border-transparent"},[n("div",{class:"noir-toggle-dot absolute top-[3px] left-[3px] w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-500 ease-spring"})],-1))])]),a.value?(p(),x("button",{key:0,onClick:w[3]||(w[3]=z=>Y.value=!0),class:"self-start text-[11px] font-bold tracking-widest uppercase border-b border-black/20 pb-0.5 hover:border-black transition-colors"}," Configure Locations ")):R("",!0)]),n("div",dv,[n("div",uv,[w[28]||(w[28]=n("div",{class:"flex flex-col text-left"},[n("span",{class:"text-[15px] font-medium tracking-tight"},""),n("span",{class:"text-[10px] text-zinc-400 tracking-wider uppercase font-light"},"Environment Sensing")],-1)),n("label",fv,[le(n("input",{type:"checkbox","onUpdate:modelValue":w[4]||(w[4]=z=>l.value=z),class:"sr-only noir-toggle",onChange:U},null,544),[[Fs,l.value]]),w[27]||(w[27]=n("div",{class:"noir-toggle-bg w-[42px] h-[22px] bg-zinc-200 rounded-full transition-colors duration-500 ease-out border border-transparent"},[n("div",{class:"noir-toggle-dot absolute top-[3px] left-[3px] w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-500 ease-spring"})],-1))])]),l.value?(p(),x("button",{key:0,onClick:w[5]||(w[5]=z=>f.value=!0),class:"self-start text-[11px] font-bold tracking-widest uppercase border-b border-black/20 pb-0.5 hover:border-black transition-colors"}," Configure Weather ")):R("",!0)]),n("div",pv,[n("div",vv,[w[30]||(w[30]=n("div",{class:"flex flex-col text-left"},[n("span",{class:"text-[15px] font-medium tracking-tight"},""),n("span",{class:"text-[10px] text-zinc-400 tracking-wider uppercase font-light"},"Short-Term Memory")],-1)),n("div",bv,[le(n("input",{type:"number","onUpdate:modelValue":w[6]||(w[6]=z=>d.value=z),onChange:U,min:"5",max:"100",class:"w-16 bg-gray-50 border border-gray-200 rounded-lg px-2 py-1 text-center text-[13px] font-bold focus:outline-none focus:border-black transition-colors"},null,544),[[ue,d.value]]),w[29]||(w[29]=n("span",{class:"text-[10px] text-zinc-400 uppercase"},"Msgs",-1))])])]),w[33]||(w[33]=n("div",{class:"w-full h-px bg-black/[0.03]"},null,-1)),n("button",{onClick:w[7]||(w[7]=z=>S.$emit("navigate","worldbook-selector",{id:s.chatId})),class:"w-full flex items-center justify-between py-2 group hover:bg-gray-50 transition-colors rounded-lg -mx-2 px-2"},[w[32]||(w[32]=n("div",{class:"flex flex-col text-left"},[n("span",{class:"text-[15px] font-medium tracking-tight"},""),n("span",{class:"text-[10px] text-zinc-400 tracking-wider uppercase font-light"},"Worldbook Mounting")],-1)),n("div",xv,[n("span",gv,P(o.value?.localSettings?.mountedWorldbooks?.length||0)+" Mounted ",1),w[31]||(w[31]=n("span",{class:"material-symbols-outlined text-zinc-300 text-[18px] group-hover:text-black transition-colors"},"chevron_right",-1))])])])]),w[35]||(w[35]=lt('<section class="mt-20 flex flex-col items-center gap-12" data-v-48f961ff><button class="group px-10 py-4 border border-black/10 rounded-full hover:border-black/40 hover:bg-gray-50 transition-all duration-500 active:scale-95" data-v-48f961ff><span class="text-[11px] font-bold tracking-[0.3em] uppercase" data-v-48f961ff></span></button><div class="flex flex-col items-center opacity-10" data-v-48f961ff><span class="font-serif italic text-2xl tracking-[0.2em]" data-v-48f961ff>NOIR</span><span class="text-[8px] tracking-[0.4em] uppercase mt-2" data-v-48f961ff>End of Settings</span></div></section>',1))]),Y.value?(p(),x("div",mv,[n("div",hv,[n("div",yv,[w[36]||(w[36]=n("span",{class:"font-serif italic text-lg"},"Location Settings",-1)),n("button",{onClick:w[8]||(w[8]=z=>Y.value=!1),class:"material-symbols-outlined text-zinc-400 hover:text-black"},"close")]),n("div",kv,[n("datalist",wv,[(p(!0),x(ne,null,fe(me.value,z=>(p(),x("option",{key:z,value:z},P(z),9,_v))),128))]),n("div",$v,[n("label",Sv,P(Q.value)+"'s LOCATION ",1),le(n("input",{type:"text",list:"timezone-list","onUpdate:modelValue":w[9]||(w[9]=z=>i.value=z),onChange:U,placeholder:"e.g. Asia/Shanghai",class:"w-full bg-gray-50 border border-gray-100 rounded-lg px-4 py-3 text-[14px] focus:outline-none focus:border-black/20 focus:bg-white transition-colors"},null,544),[[ue,i.value]])]),he.value?(p(),x("div",Iv,[w[37]||(w[37]=n("div",{class:"w-full h-px bg-black/[0.03]"},null,-1)),w[38]||(w[38]=n("span",{class:"text-[10px] text-zinc-400 tracking-wider uppercase font-light ml-1"},"Group Members",-1)),(p(!0),x(ne,null,fe(ie.value,z=>(p(),x("div",{key:z.id,class:"flex flex-col gap-2"},[n("label",Av,P(z.name),1),le(n("input",{type:"text",list:"timezone-list","onUpdate:modelValue":re=>xe.value[z.id]=re,onChange:U,placeholder:`Location for ${z.name}`,class:"w-full bg-gray-50 border border-gray-100 rounded-lg px-4 py-3 text-[14px] focus:outline-none focus:border-black/20 focus:bg-white transition-colors"},null,40,Ev),[[ue,xe.value[z.id]]])]))),128))])):(p(),x("div",Cv,[n("label",zv,P(ae.value)+"'s LOCATION ",1),le(n("input",{type:"text",list:"timezone-list","onUpdate:modelValue":w[10]||(w[10]=z=>r.value=z),onChange:U,placeholder:"e.g. Europe/Paris",class:"w-full bg-gray-50 border border-gray-100 rounded-lg px-4 py-3 text-[14px] focus:outline-none focus:border-black/20 focus:bg-white transition-colors"},null,544),[[ue,r.value]])]))]),n("div",Tv,[n("button",{onClick:w[11]||(w[11]=z=>Y.value=!1),class:"px-6 py-2 bg-black text-white text-[12px] font-bold tracking-widest uppercase rounded-full hover:bg-neutral-800 transition-colors"}," Done ")])])])):R("",!0),f.value?(p(),x("div",jv,[n("div",Ov,[n("div",Mv,[w[39]||(w[39]=n("div",{class:"flex flex-col"},[n("span",{class:"font-serif italic text-lg"},"Weather Settings"),n("span",{class:"text-[9px] uppercase tracking-widest text-zinc-400"},"Environment Simulation")],-1)),n("button",{onClick:w[12]||(w[12]=z=>f.value=!1),class:"material-symbols-outlined text-zinc-400 hover:text-black"},"close")]),n("div",Pv,[w[44]||(w[44]=n("div",{class:"bg-gray-50 p-4 rounded-lg flex gap-3"},[n("span",{class:"material-symbols-outlined text-zinc-400 text-sm mt-0.5"},"info"),n("p",{class:"text-[11px] text-zinc-500 leading-relaxed"}," Set the physical location for each participant. Noir will automatically fetch local weather conditions and inject them into the roleplay context. ")],-1)),n("div",Nv,[w[41]||(w[41]=n("span",{class:"text-[10px] uppercase tracking-widest font-bold text-black border-l-2 border-black pl-2"},"My Location",-1)),n("div",Lv,[le(n("input",{"onUpdate:modelValue":w[13]||(w[13]=z=>c.value=z),onKeyup:w[14]||(w[14]=cs(z=>_("me"),["enter"])),placeholder:"Search City (e.g. London)",class:"flex-1 bg-white border border-gray-200 rounded-lg px-3 py-2 text-[13px] focus:border-black focus:outline-none transition-colors"},null,544),[[ue,c.value]]),n("button",{onClick:w[15]||(w[15]=z=>_("me")),class:"bg-black text-white rounded-lg px-4 flex items-center justify-center hover:opacity-80 transition-opacity"},[h.value==="me"?(p(),x("span",Rv,"sync")):(p(),x("span",Bv,"search"))])]),$.value.length>0?(p(),x("div",Dv,[(p(!0),x(ne,null,fe($.value,z=>(p(),x("button",{key:z.id,onClick:re=>m("me",z),class:X(["text-left px-3 py-2 rounded-md hover:bg-gray-50 text-[12px] flex items-center justify-between group transition-colors",b.value?.city===z.name?"bg-black text-white hover:bg-black":"text-zinc-600"])},[n("span",null,P(z.name)+", "+P(z.admin1||z.country),1),b.value?.city===z.name?(p(),x("span",Vv,"check")):R("",!0)],10,Uv))),128))])):b.value?.city?(p(),x("div",Kv,[w[40]||(w[40]=n("span",{class:"material-symbols-outlined text-xs text-green-600"},"check_circle",-1)),n("span",Fv,P(b.value.city),1),n("span",Wv,P(b.value.lat.toFixed(2))+", "+P(b.value.long.toFixed(2)),1)])):R("",!0)]),w[45]||(w[45]=n("div",{class:"w-full h-px bg-gray-100"},null,-1)),n("div",Hv,[n("span",Gv,P(he.value?"Group Members":"Their Location"),1),he.value?(p(),x("div",o0,[(p(!0),x(ne,null,fe(ie.value,z=>(p(),x("div",{key:z.id,class:"p-3 border border-gray-100 rounded-lg bg-gray-50/50"},[n("span",a0,P(z.name),1),n("div",l0,[le(n("input",{"onUpdate:modelValue":re=>j.value[z.id]=re,onKeyup:cs(re=>_(z.id),["enter"]),placeholder:"Search City",class:"flex-1 bg-white border border-gray-200 rounded-lg px-3 py-1.5 text-[12px] focus:border-black focus:outline-none transition-colors"},null,40,i0),[[ue,j.value[z.id]]]),n("button",{onClick:re=>_(z.id),class:"bg-white border border-gray-200 text-black rounded-lg px-3 flex items-center justify-center hover:border-black transition-colors"},[h.value===z.id?(p(),x("span",c0,"sync")):(p(),x("span",d0,"search"))],8,r0)]),D.value[z.id]&&D.value[z.id].length>0?(p(),x("div",u0,[(p(!0),x(ne,null,fe(D.value[z.id],re=>(p(),x("button",{key:re.id,onClick:W=>m(z.id,re),class:X(["text-left px-2 py-1.5 rounded hover:bg-gray-50 text-[11px] flex items-center justify-between group transition-colors",v(z.id)?.city===re.name?"font-bold text-black":"text-zinc-500"])},[n("span",p0,P(re.name)+", "+P(re.country),1),v(z.id)?.city===re.name?(p(),x("span",v0,"check")):R("",!0)],10,f0))),128))])):v(z.id)?.city?(p(),x("div",b0,[w[43]||(w[43]=n("span",{class:"material-symbols-outlined text-[10px] text-green-600"},"check_circle",-1)),n("span",x0,P(v(z.id).city),1)])):R("",!0)]))),128))])):(p(),x("div",qv,[n("div",Qv,[le(n("input",{"onUpdate:modelValue":w[16]||(w[16]=z=>u.value=z),onKeyup:w[17]||(w[17]=cs(z=>_("their"),["enter"])),placeholder:"Search City",class:"flex-1 bg-white border border-gray-200 rounded-lg px-3 py-2 text-[13px] focus:border-black focus:outline-none transition-colors"},null,544),[[ue,u.value]]),n("button",{onClick:w[18]||(w[18]=z=>_("their")),class:"bg-black text-white rounded-lg px-4 flex items-center justify-center hover:opacity-80 transition-opacity"},[h.value==="their"?(p(),x("span",Jv,"sync")):(p(),x("span",Yv,"search"))])]),T.value.length>0?(p(),x("div",Xv,[(p(!0),x(ne,null,fe(T.value,z=>(p(),x("button",{key:z.id,onClick:re=>m("their",z),class:X(["text-left px-3 py-2 rounded-md hover:bg-gray-50 text-[12px] flex items-center justify-between group transition-colors",k.value?.city===z.name?"bg-black text-white hover:bg-black":"text-zinc-600"])},[n("span",null,P(z.name)+", "+P(z.admin1||z.country),1),k.value?.city===z.name?(p(),x("span",e0,"check")):R("",!0)],10,Zv))),128))])):k.value?.city?(p(),x("div",t0,[w[42]||(w[42]=n("span",{class:"material-symbols-outlined text-xs text-green-600"},"check_circle",-1)),n("span",s0,P(k.value.city),1),n("span",n0,P(k.value.lat.toFixed(2))+", "+P(k.value.long.toFixed(2)),1)])):R("",!0)]))])]),n("div",g0,[n("button",{onClick:w[19]||(w[19]=z=>f.value=!1),class:"px-6 py-2 border border-gray-200 bg-white text-black text-[12px] font-bold tracking-widest uppercase rounded-full hover:bg-gray-50 transition-colors"}," Close "),n("button",{onClick:w[20]||(w[20]=z=>{U(),f.value=!1}),class:"px-6 py-2 bg-black text-white text-[12px] font-bold tracking-widest uppercase rounded-full hover:bg-neutral-800 transition-colors"}," Save & Apply ")])])])):R("",!0)]))}},h0=Ve(m0,[["__scopeId","data-v-48f961ff"]]),y0={class:"h-full flex flex-col bg-white text-black font-sans"},k0={class:"sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100"},w0={class:"flex items-center justify-between px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 w-full"},_0={key:0,class:"w-full px-8 pb-32 flex-1 overflow-y-auto"},$0={class:"mt-10 mb-10 flex justify-center"},S0={class:"relative flex items-center"},C0={class:"size-20 rounded-full bg-black ring-4 ring-white shadow-xl z-10 relative overflow-hidden"},z0=["src"],I0={class:"size-20 -ml-6 rounded-full bg-gray-200 ring-4 ring-white shadow-lg relative overflow-hidden"},A0=["src"],E0={class:"space-y-6 mb-12"},T0={class:"flex flex-col gap-2"},j0={class:"relative"},O0=["value"],M0={class:"grid grid-cols-[auto_1fr] gap-4"},P0={class:"flex flex-col gap-2 w-20"},N0={class:"w-20 h-20 rounded-full bg-zinc-100 border border-zinc-200 overflow-hidden relative group cursor-pointer"},L0=["src"],R0={class:"flex flex-col gap-4"},B0={class:"flex flex-col gap-2"},D0=["placeholder"],U0={class:"flex flex-col gap-2"},V0={class:"space-y-6 mb-12"},K0={class:"text-[11px] font-bold tracking-[0.25em] uppercase text-black/30 border-b border-black/5 pb-2"},F0={class:"grid grid-cols-[auto_1fr] gap-4"},W0={class:"flex flex-col gap-2 w-20"},H0={class:"w-20 h-20 rounded-full bg-zinc-100 border border-zinc-200 overflow-hidden relative group"},G0=["src"],q0={class:"flex flex-col gap-4"},Q0={class:"flex flex-col gap-2"},J0={class:"text-[13px] font-medium text-black/70"},Y0=["value","placeholder"],X0={class:"flex flex-col gap-2"},Z0=["value"],eb={key:0,class:"space-y-6 mb-12"},tb={class:"grid gap-6"},sb={class:"w-12 h-12 rounded-full bg-zinc-100 overflow-hidden shrink-0 border border-zinc-200 relative group"},nb=["src"],ob=["onChange"],ab={class:"flex-1 flex flex-col gap-2"},lb={class:"text-[10px] text-zinc-400 font-bold uppercase tracking-wider"},ib=["onUpdate:modelValue"],rb=["onUpdate:modelValue"],cb={class:"space-y-4 mb-20"},db={class:"flex items-center justify-between py-2"},ub={class:"relative inline-flex items-center cursor-pointer"},fb={class:"flex items-center justify-between py-2"},pb={class:"relative inline-flex items-center cursor-pointer"},vb={class:"flex items-center justify-between py-2"},bb={class:"flex bg-zinc-100 rounded-lg p-1"},xb={__name:"ChatSettingsIdentity",props:["chatId"],emits:["back"],setup(e,{emit:t}){const s=e,o=B(null),a=B(""),l=ye(()=>I.personas),i=B({showSelfAvatar:!0,showOtherAvatar:!0,avatarShape:"circle",myActivePersonaId:"",myNicknameOverride:"",myAvatarOverride:"",theirNicknameOverride:"",theirAvatarOverride:"",groupNameOverride:"",groupAvatarOverride:""});dt(async()=>{const D=Mn(s.chatId);if(D){o.value=D;const b=I.contacts.find(k=>k.id===D.id);a.value=b?.avatar||D.avatar||"",D.localSettings?(D.localSettings.showAvatars===!1&&(i.value.showSelfAvatar=!1,i.value.showOtherAvatar=!1),i.value={...i.value,...D.localSettings}):i.value.myActivePersonaId=I.activePersonaId}});const r=(D,b)=>{const k=D.target.files[0];if(!k)return;const F=new FileReader;F.onload=Q=>{const ae=Q.target.result;b==="myAvatarOverride"?i.value.myAvatarOverride=ae:b==="remote"&&(o.value.type==="group"||o.value.isGroup?i.value.groupAvatarOverride=ae:i.value.theirAvatarOverride=ae)},F.readAsDataURL(k)};let d=null;const f=async()=>{if(!o.value)return;let D;try{const k=ve(o.value);D=JSON.parse(JSON.stringify(k))}catch(k){console.error("Failed to clone conversation for save",k);return}const b={...D,localSettings:{...ve(i.value)}};(o.value.type==="group"||o.value.isGroup)&&(i.value.groupNameOverride&&(b.title=i.value.groupNameOverride),i.value.groupAvatarOverride&&(b.avatar=i.value.groupAvatarOverride)),await Js(b),Object.assign(o.value,b)};is(i,()=>{d&&clearTimeout(d),d=setTimeout(f,500)},{deep:!0});const c=ye(()=>o.value?I.contacts.find(D=>D.id===o.value.id):null),u=ye(()=>{const D=i.value.myActivePersonaId||I.activePersonaId;return I.personas.find(b=>b.id===D)||I.personas[0]||{}}),h=ye({get(){return o.value?o.value.type==="group"||o.value.isGroup?{name:i.value.groupNameOverride,avatar:i.value.groupAvatarOverride}:{name:i.value.theirNicknameOverride,avatar:i.value.theirAvatarOverride}:{name:"",avatar:""}},set(D){o.value&&(o.value.type==="group"||o.value.isGroup?(i.value.groupNameOverride=D.name,i.value.groupAvatarOverride=D.avatar):(i.value.theirNicknameOverride=D.name,i.value.theirAvatarOverride=D.avatar))}}),$=ye(()=>o.value?.members?o.value.members.map(D=>I.contacts.find(b=>b.id===D)).filter(Boolean):[]),T=D=>(i.value.memberOverrides||(i.value.memberOverrides={}),i.value.memberOverrides[D]||(i.value.memberOverrides[D]={nickname:"",avatar:""}),i.value.memberOverrides[D]),j=(D,b)=>{const k=D.target.files[0];if(!k)return;const F=new FileReader;F.onload=Q=>{const ae=Q.target.result,me=T(b);me.avatar=ae},F.readAsDataURL(k)};return(D,b)=>(p(),x("div",y0,[n("header",k0,[n("div",w0,[n("button",{onClick:b[0]||(b[0]=k=>D.$emit("back")),class:"flex items-center justify-center -ml-2 w-10 h-10 hover:bg-gray-100 rounded-full transition-colors"},[...b[12]||(b[12]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),b[13]||(b[13]=n("h1",{class:"font-serif text-[18px] font-light tracking-[0.15em] uppercase text-center flex-1 pr-8"},"",-1)),b[14]||(b[14]=n("div",{class:"w-8 hidden"},null,-1))])]),o.value?(p(),x("main",_0,[n("section",$0,[n("div",S0,[n("div",C0,[i.value.myAvatarOverride||u.value?.avatar?(p(),x("img",{key:0,src:i.value.myAvatarOverride||u.value?.avatar,class:X(["w-full h-full object-cover",{"rounded-none":i.value.avatarShape==="square"}])},null,10,z0)):R("",!0)]),n("div",I0,[o.value.avatar?(p(),x("img",{key:0,src:o.value.avatar,class:X(["w-full h-full object-cover",{"rounded-none":i.value.avatarShape==="square"}])},null,10,A0)):R("",!0)])])]),n("div",E0,[b[22]||(b[22]=n("h3",{class:"text-[11px] font-bold tracking-[0.25em] uppercase text-black/30 border-b border-black/5 pb-2"}," / Me",-1)),n("div",T0,[b[16]||(b[16]=n("label",{class:"text-[13px] font-medium text-black/70"}," (Persona Mask)",-1)),n("div",j0,[le(n("select",{"onUpdate:modelValue":b[1]||(b[1]=k=>i.value.myActivePersonaId=k),class:"w-full appearance-none bg-zinc-50 border border-zinc-200 rounded-lg px-4 py-3 text-[14px] outline-none focus:border-black transition-colors"},[(p(!0),x(ne,null,fe(l.value,k=>(p(),x("option",{key:k.id,value:k.id},P(k.name)+" ("+P(k.handle)+") ",9,O0))),128))],512),[[Qs,i.value.myActivePersonaId]]),b[15]||(b[15]=n("span",{class:"material-symbols-outlined absolute right-3 top-3.5 text-zinc-400 pointer-events-none text-[18px]"},"expand_more",-1))])]),n("div",M0,[n("div",P0,[n("div",N0,[n("img",{src:i.value.myAvatarOverride||u.value?.avatar,class:X(["w-full h-full object-cover",{"rounded-none":i.value.avatarShape==="square"}])},null,10,L0),b[17]||(b[17]=n("div",{class:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity"},[n("span",{class:"material-symbols-outlined text-white text-[20px]"},"edit")],-1)),n("input",{type:"file",accept:"image/*",onChange:b[2]||(b[2]=k=>r(k,"myAvatarOverride")),class:"absolute inset-0 opacity-0 cursor-pointer",title:"Upload Image"},null,32)]),b[18]||(b[18]=n("span",{class:"text-[10px] text-center text-zinc-400 uppercase tracking-wider"},"Avatar",-1))]),n("div",R0,[n("div",B0,[b[19]||(b[19]=n("label",{class:"text-[13px] font-medium text-black/70"}," (Self Remark)",-1)),le(n("input",{type:"text","onUpdate:modelValue":b[3]||(b[3]=k=>i.value.myNicknameOverride=k),placeholder:u.value?.handle||u.value?.name,class:"w-full bg-transparent border-b border-zinc-200 py-2 text-[15px] outline-none focus:border-black transition-colors placeholder:text-zinc-300"},null,8,D0),[[ue,i.value.myNicknameOverride]]),b[20]||(b[20]=n("p",{class:"text-[10px] text-zinc-400 leading-snug"},"Changed only for this chat window.",-1))]),n("div",U0,[b[21]||(b[21]=n("label",{class:"text-[13px] font-medium text-black/70"}," (Avatar URL)",-1)),le(n("input",{type:"text","onUpdate:modelValue":b[4]||(b[4]=k=>i.value.myAvatarOverride=k),placeholder:"https://...",class:"w-full bg-transparent border-b border-zinc-200 py-2 text-[13px] font-mono text-zinc-600 outline-none focus:border-black transition-colors placeholder:text-zinc-300"},null,512),[[ue,i.value.myAvatarOverride,void 0,{lazy:!0}]])])])])]),n("div",V0,[n("h3",K0,P(o.value.type==="group"||o.value.isGroup?" / Group":" / Them"),1),n("div",F0,[n("div",W0,[n("div",H0,[n("img",{src:h.value.avatar||a.value||o.value.avatar,class:X(["w-full h-full object-cover",{"rounded-none":i.value.avatarShape==="square"}])},null,10,G0),b[23]||(b[23]=n("div",{class:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity"},[n("span",{class:"material-symbols-outlined text-white text-[20px]"},"edit")],-1)),n("input",{type:"file",accept:"image/*",onChange:b[5]||(b[5]=k=>r(k,"remote")),class:"absolute inset-0 opacity-0 cursor-pointer",title:"Upload Image"},null,32)])]),n("div",q0,[n("div",Q0,[n("label",J0,P(o.value.type==="group"||o.value.isGroup?" (Group Name)":" (Remote Remark)"),1),n("input",{type:"text",value:h.value.name,onInput:b[6]||(b[6]=k=>h.value={...h.value,name:k.target.value}),placeholder:c.value?.handle||o.value.title||o.value.name,class:"w-full bg-transparent border-b border-zinc-200 py-2 text-[15px] outline-none focus:border-black transition-colors placeholder:text-zinc-300"},null,40,Y0)]),n("div",X0,[b[24]||(b[24]=n("label",{class:"text-[13px] font-medium text-black/70"}," (Avatar URL)",-1)),n("input",{type:"text",value:h.value.avatar,onChange:b[7]||(b[7]=k=>h.value={...h.value,avatar:k.target.value}),placeholder:"https://...",class:"w-full bg-transparent border-b border-zinc-200 py-2 text-[13px] font-mono text-zinc-600 outline-none focus:border-black transition-colors placeholder:text-zinc-300"},null,40,Z0)])])])]),(o.value.type==="group"||o.value.isGroup)&&o.value.members?.length?(p(),x("div",eb,[b[26]||(b[26]=n("h3",{class:"text-[11px] font-bold tracking-[0.25em] uppercase text-black/30 border-b border-black/5 pb-2"}," / Members",-1)),n("div",tb,[(p(!0),x(ne,null,fe($.value,k=>(p(),x("div",{key:k.id,class:"flex gap-4"},[n("div",sb,[n("img",{src:i.value.memberOverrides?.[k.id]?.avatar||k.avatar,class:"w-full h-full object-cover"},null,8,nb),b[25]||(b[25]=n("div",{class:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity cursor-pointer"},[n("span",{class:"material-symbols-outlined text-white text-[16px]"},"edit")],-1)),n("input",{type:"file",accept:"image/*",onChange:F=>j(F,k.id),class:"absolute inset-0 opacity-0 cursor-pointer",title:"Upload Member Avatar"},null,40,ob)]),n("div",ab,[n("span",lb,P(k.handle),1),le(n("input",{type:"text","onUpdate:modelValue":F=>T(k.id).nickname=F,placeholder:"Nickname in this group",class:"w-full bg-transparent border-b border-zinc-200 py-1 text-[14px] outline-none focus:border-black transition-colors placeholder:text-zinc-300"},null,8,ib),[[ue,T(k.id).nickname]]),le(n("input",{type:"text","onUpdate:modelValue":F=>T(k.id).avatar=F,placeholder:"Avatar URL (https://...)",class:"w-full bg-transparent border-b border-zinc-200 py-1 text-[12px] font-mono text-zinc-500 outline-none focus:border-black transition-colors placeholder:text-zinc-300"},null,8,rb),[[ue,T(k.id).avatar,void 0,{lazy:!0}]])])]))),128))])])):R("",!0),n("div",cb,[b[34]||(b[34]=n("h3",{class:"text-[11px] font-bold tracking-[0.25em] uppercase text-black/30 border-b border-black/5 pb-2"}," / Visuals",-1)),n("div",db,[b[28]||(b[28]=n("span",{class:"text-[14px] font-medium"}," (Show My Avatar)",-1)),n("label",ub,[le(n("input",{"onUpdate:modelValue":b[8]||(b[8]=k=>i.value.showSelfAvatar=k),type:"checkbox",class:"sr-only noir-toggle"},null,512),[[Fs,i.value.showSelfAvatar]]),b[27]||(b[27]=n("div",{class:"noir-toggle-bg w-10 h-5 bg-zinc-100 rounded-full transition-colors duration-500"},[n("div",{class:"noir-toggle-dot absolute top-0.5 left-0.5 size-4 bg-zinc-300 rounded-full transition-transform duration-500"})],-1))])]),n("div",fb,[b[30]||(b[30]=n("span",{class:"text-[14px] font-medium"}," (Show Their Avatar)",-1)),n("label",pb,[le(n("input",{"onUpdate:modelValue":b[9]||(b[9]=k=>i.value.showOtherAvatar=k),type:"checkbox",class:"sr-only noir-toggle"},null,512),[[Fs,i.value.showOtherAvatar]]),b[29]||(b[29]=n("div",{class:"noir-toggle-bg w-10 h-5 bg-zinc-100 rounded-full transition-colors duration-500"},[n("div",{class:"noir-toggle-dot absolute top-0.5 left-0.5 size-4 bg-zinc-300 rounded-full transition-transform duration-500"})],-1))])]),n("div",vb,[b[33]||(b[33]=n("span",{class:"text-[14px] font-medium"}," (Shape)",-1)),n("div",bb,[n("button",{onClick:b[10]||(b[10]=k=>i.value.avatarShape="circle"),class:X(["w-10 h-8 rounded-md flex items-center justify-center transition-all",i.value.avatarShape==="circle"?"bg-white shadow-sm text-black":"text-zinc-400"])},[...b[31]||(b[31]=[n("div",{class:"w-4 h-4 rounded-full border border-current"},null,-1)])],2),n("button",{onClick:b[11]||(b[11]=k=>i.value.avatarShape="square"),class:X(["w-10 h-8 rounded-md flex items-center justify-center transition-all",i.value.avatarShape==="square"?"bg-white shadow-sm text-black":"text-zinc-400"])},[...b[32]||(b[32]=[n("div",{class:"w-4 h-4 border border-current"},null,-1)])],2)])])])])):R("",!0)]))}},gb=Ve(xb,[["__scopeId","data-v-2623e0ca"]]),mb={class:"h-full flex flex-col bg-white text-black font-sans"},hb={class:"sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100"},yb={class:"flex items-center justify-between px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 w-full"},kb={class:"w-full px-8 pb-32 flex-1 overflow-y-auto"},wb={class:"mt-8 mb-10 p-6 bg-gray-50 rounded-xl border border-dashed border-gray-200 text-center"},_b={class:"text-[14px] text-zinc-600"},$b={class:"font-bold text-black"},Sb={class:"flex flex-col gap-10"},Cb={class:"flex items-center justify-between py-2 border-b-2 border-black mb-4"},zb={class:"font-serif text-[18px] tracking-tight font-bold"},Ib={class:"relative inline-flex items-center cursor-pointer"},Ab=["checked","onChange"],Eb={class:"noir-toggle-bg w-8 h-4 bg-zinc-200 rounded-full transition-colors duration-300"},Tb={class:"flex flex-col gap-1"},jb={class:"flex flex-col"},Ob={class:"text-[14px] font-medium group-hover:text-black text-zinc-700 transition-colors"},Mb={class:"text-[10px] text-zinc-400 uppercase tracking-wider"},Pb={class:"relative inline-flex items-center cursor-pointer"},Nb=["checked","disabled","onChange"],Lb={key:0,class:"material-symbols-outlined text-white text-[14px] font-bold"},Rb={key:0,class:"py-2 text-center text-zinc-300 text-[12px] italic"},Bb={__name:"WorldBookSelector",props:["chatId"],emits:["back"],setup(e,{emit:t}){const s=e,o=Pn(),a=ye(()=>Mn(s.chatId)),l=B([]);dt(()=>{a.value?.localSettings?.mountedWorldbooks&&(l.value=[...a.value.localSettings.mountedWorldbooks])});const i=ye(()=>o.state.categories),r=ye(()=>o.state.entries),d=T=>r.value.filter(j=>j.categoryId===T),f=T=>{const j=l.value.indexOf(T);j===-1?l.value.push(T):l.value.splice(j,1),h()},c=T=>l.value.includes(T),u=T=>{f(T)},h=async()=>{if(a.value){const T=a.value.localSettings||{};await Js({id:s.chatId,localSettings:{...T,mountedWorldbooks:l.value}})}},$=ye(()=>r.value.filter(T=>T.scope==="global").length);return(T,j)=>(p(),x("div",mb,[n("header",hb,[n("div",yb,[n("button",{onClick:j[0]||(j[0]=D=>T.$emit("back")),class:"flex items-center justify-center -ml-2 w-10 h-10 hover:bg-gray-100 rounded-full transition-colors"},[...j[1]||(j[1]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),j[2]||(j[2]=n("h1",{class:"font-serif text-[18px] font-light tracking-[0.15em] uppercase text-center flex-1 pr-8"},"",-1)),j[3]||(j[3]=n("div",{class:"w-8 hidden"},null,-1))])]),n("main",kb,[n("div",wb,[j[5]||(j[5]=n("span",{class:"block text-[12px] text-zinc-400 mb-1 tracking-wider uppercase"},"Global Scope",-1)),n("p",_b,[n("span",$b,P($.value),1),j[4]||(j[4]=Gt("  ",-1))])]),n("div",Sb,[(p(!0),x(ne,null,fe(i.value,D=>(p(),x("div",{key:D.id,class:"flex flex-col"},[n("div",Cb,[n("span",zb,P(D.name),1),n("label",Ib,[n("input",{type:"checkbox",class:"sr-only noir-toggle",checked:c(D.id),onChange:b=>u(D.id)},null,40,Ab),n("div",Eb,[n("div",{class:X(["noir-toggle-bg-thumb absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform duration-300 shadow-sm",c(D.id)?"translate-x-4":""])},null,2)])])]),n("div",Tb,[(p(!0),x(ne,null,fe(d(D.id).filter(b=>b.scope==="local"),b=>(p(),x("div",{key:b.id,class:"flex items-center justify-between py-3 px-2 hover:bg-gray-50 rounded-lg transition-colors group"},[n("div",jb,[n("span",Ob,P(b.title),1),n("span",Mb,P(b.isConstant?"Constant":"Trigger")+"  "+P(b.position),1)]),n("label",Pb,[n("input",{type:"checkbox",class:"sr-only",checked:c(D.id)||c(b.id),disabled:c(D.id),onChange:k=>!c(D.id)&&f(b.id)},null,40,Nb),n("div",{class:X(["w-5 h-5 border border-zinc-300 rounded flex items-center justify-center transition-colors",c(D.id)||c(b.id)?"bg-black border-black":"bg-transparent"])},[c(D.id)||c(b.id)?(p(),x("span",Lb,"check")):R("",!0)],2)])]))),128)),d(D.id).filter(b=>b.scope==="local").length===0?(p(),x("div",Rb," No local entries ")):R("",!0)])]))),128))]),j[6]||(j[6]=n("div",{class:"h-20"},null,-1))])]))}},Db=Ve(Bb,[["__scopeId","data-v-623fc9e7"]]),Ub={class:"relationship-network w-full h-full flex flex-col bg-white relative overflow-hidden"},Vb={class:"h-[calc(3.5rem+env(safe-area-inset-top))] pt-[env(safe-area-inset-top)] border-b border-zinc-100 flex items-center justify-between px-6 shrink-0 z-30 bg-white/80 backdrop-blur sticky top-0"},Kb={class:"flex items-center w-full justify-between"},Fb={class:"material-symbols-outlined text-zinc-600 text-[20px]"},Wb=["viewBox"],Hb=["onClick"],Gb=["x1","y1","x2","y2"],qb=["x1","y1","x2","y2","stroke-dasharray"],Qb=["x","y"],Jb={class:"flex justify-center"},Yb={class:"bg-white border border-zinc-200 px-2 py-0.5 rounded-full text-[10px] text-center font-bold text-zinc-500 group-hover:text-black group-hover:border-black transition-colors shadow-sm whitespace-nowrap"},Xb={class:"absolute inset-0 w-full h-full pointer-events-none z-20"},Zb=["title"],ex=["src"],tx={class:"absolute -bottom-6 bg-black text-white text-[10px] px-3 py-1 rounded-full uppercase font-bold tracking-widest whitespace-nowrap shadow-lg z-30"},sx=["title","onClick"],nx=["src"],ox={class:"absolute top-full mt-3 left-1/2 -translate-x-1/2 text-[11px] text-zinc-700 font-bold whitespace-nowrap bg-white/90 backdrop-blur px-2 py-0.5 rounded border border-zinc-100 shadow-sm z-30 pointer-events-none"},ax={class:"bg-white p-8 shadow-2xl rounded-2xl w-96 max-w-full flex flex-col gap-6 animate-in fade-in zoom-in duration-200"},lx={class:"bg-zinc-50 px-4 py-3 rounded-xl border border-zinc-100 focus-within:border-black focus-within:ring-1 focus-within:ring-black transition-all"},ix={class:"bg-white p-6 shadow-2xl rounded-2xl w-[400px] max-w-full flex flex-col gap-4 max-h-[80vh] animate-in fade-in slide-in-from-bottom-4 duration-300"},rx={class:"flex-1 overflow-y-auto custom-scrollbar px-1 space-y-5"},cx={class:"space-y-2"},dx=["onClick"],ux=["src"],fx={class:"flex flex-col flex-1"},px={class:"text-sm font-bold text-zinc-900"},vx={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 bg-black rounded-full flex items-center justify-center text-white"},bx={key:1,class:"ml-2"},xx={key:0,class:"text-[9px] bg-zinc-900 text-white px-2 py-0.5 rounded-full font-bold"},gx={key:0},mx={class:"space-y-2"},hx=["onClick"],yx=["src"],kx={class:"flex flex-col flex-1"},wx={class:"text-sm font-bold text-zinc-900"},_x={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 bg-black rounded-full flex items-center justify-center text-white"},$x={key:1,class:"ml-2"},Sx={key:0,class:"text-[9px] bg-zinc-200 text-zinc-600 px-2 py-0.5 rounded-full font-bold"},Cx={class:"flex gap-3 mt-2 shrink-0 pt-4 border-t border-zinc-50"},zx={key:1,class:"flex-1 py-3 bg-zinc-100 text-zinc-400 font-bold text-sm cursor-default rounded-xl"},Ix={class:"flex flex-col h-full overflow-hidden"},Ax={class:"p-5 border-b border-zinc-50 flex justify-between items-center sm:hidden"},Ex={class:"flex-1 p-5 flex flex-col overflow-hidden"},Tx={class:"font-serif text-xs font-bold tracking-widest text-zinc-400 uppercase mb-6 flex justify-between items-center"},jx={class:"bg-zinc-100 text-zinc-500 px-2 py-0.5 rounded-full text-[10px] font-bold"},Ox={class:"space-y-4 overflow-y-auto flex-1 pr-1 custom-scrollbar pb-10"},Mx=["onClick"],Px=["src"],Nx={class:"text-sm font-bold text-zinc-700 truncate group-hover:text-black transition-colors"},Lx=["onClick"],zs=2e3,Rx={__name:"RelationshipNetwork",emits:["back"],setup(e,{emit:t}){const s=B(!1),o=B(null),a=B(""),l=B(!1),i=B(!1),r=B(null),d=B(null),f=B(0),c=B(0),u=B(!1),h=B(0),$=B(0),T=B(1),j=zs/2,D=_=>{_.target.tagName!=="svg"&&_.target.tagName!=="DIV"&&!_.target.classList.contains("canvas-area")||(u.value=!0,_.type==="touchstart"?(h.value=_.touches[0].clientX,$.value=_.touches[0].clientY):(h.value=_.clientX,$.value=_.clientY))},b=_=>{if(!u.value)return;let m,v;_.type==="touchmove"?(m=_.touches[0].clientX,v=_.touches[0].clientY):(m=_.clientX,v=_.clientY);const S=m-h.value,w=v-$.value;f.value+=S,c.value+=w,h.value=m,$.value=v},k=()=>{u.value=!1};dt(()=>{f.value=-j+window.innerWidth/2,c.value=-j+window.innerHeight/2,window.addEventListener("mousemove",b),window.addEventListener("mouseup",k),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",k)}),ko(()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",k),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",k)});const F=ye(()=>{const _=I.personas,m=I.relationships,v=I.contacts,S=_.map((E,ce)=>{const we=_.length||1,Re=150,_e=ce/we*2*Math.PI-Math.PI/2;return{...E,nodeType:"persona",x:j+Re*Math.cos(_e),y:j+Re*Math.sin(_e)}}),w=new Set;m.forEach(E=>{w.add(E.sourceId),w.add(E.targetId)});const re=v.filter(E=>w.has(E.id)).map(E=>{const ce=m.filter(_e=>_e.sourceId===E.id||_e.targetId===E.id);let we=0,Re=350;if(ce.length>0){let _e=0,Qe=0,Be=0;ce.forEach(Pe=>{const Fe=Pe.sourceId===E.id?Pe.targetId:Pe.sourceId,ke=S.find(g=>g.id===Fe);ke&&(_e+=ke.x-j,Qe+=ke.y-j,Be++)}),Be>0?(we=Math.atan2(Qe,_e),Be>1&&(Re=250)):we=E.id.split("").reduce((Fe,ke)=>Fe+ke.charCodeAt(0),0)%360*(Math.PI/180)}else we=E.id.split("").reduce((Qe,Be)=>Qe+Be.charCodeAt(0),0)%360*(Math.PI/180);return{...E,displayName:E.handle||E.nickname||E.name,nodeType:"contact",idealAngle:we,radius:Re,x:0,y:0}});re.sort((E,ce)=>E.idealAngle-ce.idealAngle);for(let E=0;E<re.length;E++){const ce=re[E];if(E>0){const we=re[E-1],Re=80/ce.radius;let _e=ce.idealAngle-we.idealAngle;for(;_e<0;)_e+=Math.PI*2;_e<Re&&(ce.idealAngle=we.idealAngle+Re)}}re.forEach(E=>{E.x=j+E.radius*Math.cos(E.idealAngle),E.y=j+E.radius*Math.sin(E.idealAngle)});const W=[...S,...re],A=m.map(E=>{const ce=W.find(Re=>Re.id===E.sourceId),we=W.find(Re=>Re.id===E.targetId);return ce&&we?{...E,x1:ce.x,y1:ce.y,x2:we.x,y2:we.y,isCharChar:ce.nodeType==="contact"&&we.nodeType==="contact"}:null}).filter(Boolean);return{personaNodes:S,contactNodes:re,links:A}}),Q=_=>{o.value=_,a.value=_.type,l.value=!0},ae=async()=>{o.value&&a.value.trim()&&(await Ll(o.value.id,a.value.trim()),l.value=!1,o.value=null)},me=async()=>{o.value&&confirm("")&&(await jc(o.value.id),l.value=!1,o.value=null)},xe=_=>{r.value=_,d.value=null,i.value=!0},he=async()=>{if(r.value&&d.value){if(I.relationships.find(v=>v.sourceId===d.value&&v.targetId===r.value||v.sourceId===r.value&&v.targetId===d.value)){alert("");return}const m="";await Nl(d.value,r.value,m),i.value=!1,setTimeout(()=>{const v=I.relationships.find(S=>S.sourceId===d.value&&S.targetId===r.value&&S.type===m);v&&(o.value=v,a.value="",l.value=!0)},100),r.value=null}},Y=(_,m)=>{const v=I.relationships.find(S=>S.sourceId===_&&S.targetId===m||S.sourceId===m&&S.targetId===_);return v?v.type:null},ie=ye(()=>I.contacts),be=ye(()=>r.value?I.contacts.filter(_=>_.id!==r.value):[]),U=_=>_.handle||_.nickname||_.name;return(_,m)=>(p(),x("div",Ub,[n("header",Vb,[n("div",Kb,[n("button",{onClick:m[0]||(m[0]=v=>_.$emit("back")),class:"w-10 h-10 -ml-2 flex items-center justify-center hover:bg-zinc-100/50 rounded-full transition-colors"},[...m[7]||(m[7]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),m[8]||(m[8]=n("span",{class:"font-bold tracking-[0.2em] text-[13px] uppercase text-zinc-900 absolute left-1/2 -translate-x-1/2"}," (NETWORK)",-1)),n("button",{onClick:m[1]||(m[1]=v=>s.value=!s.value),class:"sm:hidden p-2 -mr-2 rounded-full hover:bg-zinc-100"},[n("span",Fb,P(s.value?"close":"group_add"),1)]),m[9]||(m[9]=n("div",{class:"w-10 h-10 hidden sm:block"},null,-1))])]),n("div",{class:"flex-1 overflow-hidden relative bg-zinc-50 cursor-move",onMousedown:D,onTouchstart:D},[n("div",{class:"absolute top-0 left-0 w-full h-full canvas-area",style:Ke({transform:`translate(${f.value}px, ${c.value}px) scale(${T.value})`,transformOrigin:"0 0"})},[n("div",{class:"relative",style:Ke({width:`${zs}px`,height:`${zs}px`})},[m[10]||(m[10]=n("div",{class:"absolute inset-0 opacity-10 pointer-events-none",style:{"background-image":"radial-gradient(#000 1px, transparent 1px)","background-size":"20px 20px"}},null,-1)),(p(),x("svg",{class:"absolute inset-0 w-full h-full pointer-events-none z-10",viewBox:`0 0 ${zs} ${zs}`},[(p(!0),x(ne,null,fe(F.value.links,v=>(p(),x("g",{key:v.id,class:"pointer-events-auto cursor-pointer group",onClick:et(S=>Q(v),["stop"])},[n("line",{x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,stroke:"transparent","stroke-width":"40"},null,8,Gb),n("line",{x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,class:"stroke-zinc-300 stroke-1 group-hover:stroke-black transition-colors","stroke-dasharray":v.isCharChar?"8 4":"0"},null,8,qb),(p(),x("foreignObject",{x:(v.x1+v.x2)/2-50,y:(v.y1+v.y2)/2-12,width:"100",height:"24",class:"overflow-visible pointer-events-none"},[n("div",Jb,[n("span",Yb,P(v.type),1)])],8,Qb))],8,Hb))),128))],8,Wb)),n("div",Xb,[(p(!0),x(ne,null,fe(F.value.personaNodes,v=>(p(),x("div",{key:v.id,class:"absolute w-20 h-20 -ml-10 -mt-10 rounded-full border-4 border-white ring-1 ring-zinc-200 bg-white flex items-center justify-center shadow-xl pointer-events-auto transition-transform hover:scale-110",style:Ke({left:`${v.x}px`,top:`${v.y}px`}),title:v.name},[n("img",{src:v.avatar,class:"w-full h-full rounded-full object-cover"},null,8,ex),n("div",tx,"  ("+P(v.handle)+") ",1)],12,Zb))),128)),(p(!0),x(ne,null,fe(F.value.contactNodes,v=>(p(),x("div",{key:v.id,class:"absolute w-14 h-14 -ml-7 -mt-7 rounded-full border-2 border-white ring-1 ring-zinc-200 bg-white p-0.5 pointer-events-auto cursor-pointer hover:ring-black hover:shadow-xl transition-all flex items-center justify-center group",style:Ke({left:`${v.x}px`,top:`${v.y}px`}),title:v.displayName,onClick:et(S=>xe(v.id),["stop"])},[n("img",{src:v.avatar,class:"w-full h-full rounded-full object-cover"},null,8,nx),n("span",ox,P(v.displayName),1)],12,sx))),128))])],4)],4),m[11]||(m[11]=n("div",{class:"absolute bottom-[calc(1.5rem+env(safe-area-inset-bottom))] right-6 text-zinc-300 text-xs font-serif tracking-widest pointer-events-none select-none z-20"}," UNIFIED NETWORK   ",-1))],32),l.value?(p(),x("div",{key:0,class:"absolute inset-0 z-50 bg-black/40 flex items-center justify-center backdrop-blur-sm px-4",onClick:m[3]||(m[3]=et(v=>l.value=!1,["self"]))},[n("div",ax,[m[12]||(m[12]=n("div",{class:"text-center"},[n("h3",{class:"font-bold text-lg text-zinc-900"}," (Define Link)"),n("p",{class:"text-zinc-500 text-xs mt-1"},"")],-1)),n("div",lx,[le(n("input",{"onUpdate:modelValue":m[2]||(m[2]=v=>a.value=v),ref:"typeInput",placeholder:"...",class:"bg-transparent border-none w-full text-center font-bold text-xl focus:ring-0 p-0 text-zinc-900 placeholder:text-zinc-300",onKeyup:cs(ae,["enter"]),autofocus:""},null,544),[[ue,a.value]])]),n("div",{class:"grid grid-cols-2 gap-3"},[n("button",{onClick:me,class:"py-3 bg-white text-red-500 border border-zinc-200 hover:border-red-200 hover:bg-red-50 font-bold text-sm rounded-xl transition-all shadow-sm"},"  "),n("button",{onClick:ae,class:"py-3 bg-black text-white font-bold text-sm hover:bg-zinc-800 rounded-xl transition-all shadow-lg shadow-zinc-200"},"  ")])])])):R("",!0),i.value?(p(),x("div",{key:1,class:"absolute inset-0 z-50 bg-black/40 flex items-center justify-center backdrop-blur-sm px-4",onClick:m[5]||(m[5]=et(v=>i.value=!1,["self"]))},[n("div",ix,[m[17]||(m[17]=n("div",{class:"shrink-0 text-center pb-2 border-b border-zinc-50"},[n("h3",{class:"font-bold text-base text-zinc-900"}," (Connect)")],-1)),n("div",rx,[n("div",null,[m[14]||(m[14]=n("h4",{class:"text-[10px] text-zinc-400 uppercase font-black tracking-widest mb-3"}," (ME)",-1)),n("div",cx,[(p(!0),x(ne,null,fe(Ne(I).personas,v=>(p(),x("div",{key:v.id,onClick:S=>d.value=v.id,class:X(["flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all relative overflow-hidden group",d.value===v.id?"border-black bg-zinc-50 ring-1 ring-black/5":"border-zinc-100 hover:border-zinc-300 hover:bg-zinc-50"])},[n("img",{src:v.avatar,class:"w-10 h-10 rounded-full object-cover bg-zinc-200 shadow-sm"},null,8,ux),n("div",fx,[n("span",px,P(v.handle),1)]),d.value===v.id?(p(),x("div",vx,[...m[13]||(m[13]=[n("span",{class:"material-symbols-outlined text-[14px] font-bold"},"check",-1)])])):(p(),x("div",bx,[Y(r.value,v.id)?(p(),x("span",xx,P(Y(r.value,v.id)),1)):R("",!0)]))],10,dx))),128))])]),be.value.length>0?(p(),x("div",gx,[m[16]||(m[16]=n("h4",{class:"text-[10px] text-zinc-400 uppercase font-black tracking-widest mb-3"}," (OTHERS)",-1)),n("div",mx,[(p(!0),x(ne,null,fe(be.value,v=>(p(),x("div",{key:v.id,onClick:S=>d.value=v.id,class:X(["flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all relative overflow-hidden group",d.value===v.id?"border-black bg-zinc-50 ring-1 ring-black/5":"border-zinc-100 hover:border-zinc-300 hover:bg-zinc-50"])},[n("img",{src:v.avatar,class:"w-10 h-10 rounded-full object-cover bg-zinc-200 shadow-sm"},null,8,yx),n("div",kx,[n("span",wx,P(U(v)),1)]),d.value===v.id?(p(),x("div",_x,[...m[15]||(m[15]=[n("span",{class:"material-symbols-outlined text-[14px] font-bold"},"check",-1)])])):(p(),x("div",$x,[Y(r.value,v.id)?(p(),x("span",Sx,P(Y(r.value,v.id)),1)):R("",!0)]))],10,hx))),128))])])):R("",!0)]),n("div",Cx,[n("button",{onClick:m[4]||(m[4]=v=>i.value=!1),class:"flex-1 py-3 text-zinc-500 bg-white hover:bg-zinc-50 border border-zinc-200 font-bold text-sm rounded-xl transition-colors"},"  "),d.value&&!Y(r.value,d.value)?(p(),x("button",{key:0,onClick:he,class:"flex-1 py-3 bg-black text-white font-bold text-sm hover:bg-zinc-800 rounded-xl transition-all shadow-lg hover:shadow-xl"},"  ")):d.value?(p(),x("button",zx,"  ")):R("",!0)])])])):R("",!0),n("div",{class:X(["absolute right-0 top-0 bottom-0 pb-[env(safe-area-inset-bottom)] bg-white border-l border-zinc-100 shadow-2xl transition-transform duration-300 transform w-80 z-40 flex flex-col",s.value?"translate-x-0":"translate-x-full sm:translate-x-0"])},[n("div",Ix,[n("div",Ax,[m[19]||(m[19]=n("span",{class:"font-bold text-xs text-zinc-500 uppercase tracking-widest"},"Directory",-1)),n("button",{onClick:m[6]||(m[6]=v=>s.value=!1),class:"p-2 rounded-full hover:bg-zinc-100"},[...m[18]||(m[18]=[n("span",{class:"material-symbols-outlined text-sm"},"close",-1)])])]),n("div",Ex,[n("h3",Tx,[m[20]||(m[20]=n("span",null," (ALL)",-1)),n("span",jx,P(ie.value.length),1)]),n("div",Ox,[(p(!0),x(ne,null,fe(ie.value,v=>(p(),x("div",{key:v.id,class:"flex items-center justify-between group"},[n("div",{class:"flex items-center gap-3 overflow-hidden cursor-pointer",onClick:S=>xe(v.id)},[n("img",{src:v.avatar,class:"w-10 h-10 rounded-full border border-zinc-100 object-cover shadow-sm transition-transform group-hover:scale-105"},null,8,Px),n("span",Nx,P(U(v)),1)],8,Mx),n("button",{onClick:S=>xe(v.id),class:"w-8 h-8 shrink-0 rounded-full border border-zinc-200 hover:border-black hover:bg-black hover:text-white flex items-center justify-center transition-all shadow-sm active:scale-90 opacity-0 group-hover:opacity-100",title:""},[...m[21]||(m[21]=[n("span",{class:"material-symbols-outlined text-[16px]"},"all_inclusive",-1)])],8,Lx)]))),128))])]),m[22]||(m[22]=n("div",{class:"p-4 border-t border-zinc-50 bg-zinc-50/50"},[n("p",{class:"text-[10px] text-zinc-400 leading-relaxed text-center font-medium"},[Gt(" "),n("br"),Gt("   ")])],-1))])],2)]))}},Bx=Ve(Rx,[["__scopeId","data-v-6fb1aa12"]]),Dx={class:"h-full flex flex-col bg-white overflow-hidden relative"},Ux={class:"h-[calc(4rem+env(safe-area-inset-top))] pt-[env(safe-area-inset-top)] border-b border-zinc-50 flex items-center justify-between px-6 shrink-0 bg-white/95 backdrop-blur z-20"},Vx={class:"flex items-center gap-3"},Kx={class:"font-serif text-[17px] font-semibold tracking-tight text-zinc-900"},Fx={class:"flex items-center gap-2"},Wx={class:"flex-1 overflow-y-auto custom-scrollbar p-6"},Hx={key:0},Gx={class:"grid grid-cols-2 sm:grid-cols-3 gap-4"},qx=["onClick"],Qx={class:"font-serif italic text-xl text-zinc-900 group-hover:scale-110 transition-transform mb-2"},Jx={class:"text-[9px] font-bold text-zinc-300 uppercase tracking-widest"},Yx={key:0,class:"absolute top-3 right-3 w-5 h-5 rounded-full border border-black/10 bg-white flex items-center justify-center shadow-sm"},Xx={key:0,class:"w-3 h-3 bg-black rounded-full"},Zx={key:1,class:"pb-[calc(6rem+env(safe-area-inset-bottom))]"},eg={class:"mb-8 flex items-end justify-between border-b border-zinc-50 pb-4"},tg={class:"flex-1 mr-8"},sg=["value"],ng={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-x-3 gap-y-8"},og=["onClick"],ag=["src"],lg={key:0,class:"absolute top-2 right-2 w-5 h-5 rounded-full border border-black/10 bg-white flex items-center justify-center shadow-sm"},ig={key:0,class:"w-3 h-3 bg-black rounded-full"},rg={key:1,class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},cg={class:"text-center px-1"},dg={class:"text-[11px] font-medium text-zinc-600 truncate leading-tight"},ug={key:0,class:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-black text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-6 z-40 animate-in slide-in-from-bottom-4 duration-200"},fg={class:"text-[11px] font-bold uppercase tracking-wider text-white/50"},pg={class:"w-full max-w-sm flex flex-col gap-6 animate-in fade-in zoom-in duration-300"},vg={class:"grid grid-cols-2 gap-3"},bg={class:"w-full max-w-sm flex flex-col gap-6 animate-in fade-in zoom-in duration-300"},xg={class:"max-h-60 overflow-y-auto custom-scrollbar bg-zinc-50 rounded-2xl p-2"},gg=["onClick"],mg={key:0,class:"material-symbols-outlined text-sm"},hg={key:0,class:"text-center py-4 text-zinc-400 text-xs"},yg={class:"grid grid-cols-2 gap-3"},kg=["disabled"],wg={class:"bg-white border border-zinc-100 p-8 rounded-3xl w-[420px] max-w-full shadow-2xl flex flex-col max-h-[85vh] animate-in fade-in slide-in-from-bottom-8 duration-300"},_g={class:"text-center mb-8"},$g={class:"text-[10px] text-zinc-400 uppercase tracking-widest"},Sg={class:"flex-1 overflow-y-auto custom-scrollbar -mx-2 px-2 space-y-6"},Cg={class:"flex items-center justify-center w-full h-32 border border-dashed border-zinc-200 rounded-2xl cursor-pointer hover:border-black hover:bg-zinc-50 transition-all group"},zg={class:"mt-8 grid grid-cols-2 gap-3"},Ig=["disabled"],Ag={__name:"StickerLibrary",emits:["back"],setup(e,{emit:t}){const s=B(null),o=B(!1),a=B(""),l=B(!1),i=B(""),r=B(!1),d=B(!1),f=B(new Set),c=B(!1),u=B(""),h=B(null),$=ye(()=>I.stickerCategories),T=async()=>{a.value.trim()&&(await ma(a.value.trim(),""),a.value="",o.value=!1)},j=_=>{if(d.value){ae(_.id);return}s.value=_,d.value=!1,f.value=new Set},D=async()=>{confirm("")&&(await ha(s.value.id),s.value=null)},b=async _=>{const m=_.target.value.trim();m&&m!==s.value.name&&await Mc(s.value.id,{name:m})},k=ye(()=>s.value?ms(s.value.id):[]),F=async()=>{if(!i.value.trim())return;r.value=!0;const _=i.value.split(`
`);for(const m of _){const v=m.split(/:(.+)/);let S="sticker",w=m.trim();v.length>1&&(S=v[0].trim(),w=v[1].trim()),w&&await nn(s.value.id,w,S)}r.value=!1,i.value="",l.value=!1},Q=async _=>{const m=_.target.files;if(!(!m||m.length===0)){r.value=!0;for(const v of m)if(v.type.startsWith("image/")){const S=new FileReader;await new Promise(w=>{S.onload=async z=>{const re=z.target.result,W=v.name.replace(/\.[^/.]+$/,"");await nn(s.value.id,re,W),w()},S.readAsDataURL(v)})}r.value=!1,l.value=!1}},ae=_=>{f.value.has(_)?f.value.delete(_):f.value.add(_)},me=()=>{const _=s.value?k.value:$.value;f.value.size===_.length?f.value.clear():_.forEach(m=>f.value.add(m.id))},xe=async()=>{if(f.value.size===0)return;const _=f.value.size,m=s.value?"":"";if(confirm(` ${_} ${m}`)){for(const v of f.value)s.value?await ro(v):await ha(v);f.value.clear(),s.value||(d.value=!1)}},he=()=>{f.value.size!==0&&(c.value=!0,u.value="")},Y=async()=>{if(u.value){for(const _ of f.value){const m=I.stickers.find(v=>v.id===_);m&&(await ro(_),await nn(u.value,m.url,m.keyword))}f.value.clear(),d.value=!1,c.value=!1,s.value=null}},ie=()=>{if(f.value.size===0)return;const _={version:1,packs:[]};for(const w of f.value){const z=$.value.find(re=>re.id===w);if(z){const re=ms(w);_.packs.push({name:z.name,stickers:re.map(W=>({keyword:W.keyword,url:W.url}))})}}const m=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),v=URL.createObjectURL(m),S=document.createElement("a");S.href=v,S.download=`Roche_stickers_export_${Date.now()}.json`,S.click(),URL.revokeObjectURL(v),f.value.clear(),d.value=!1},be=()=>{h.value.click()},U=async _=>{const m=_.target.files[0];if(!m)return;const v=new FileReader;v.onload=async S=>{try{const w=JSON.parse(S.target.result),z=w.packs||(w.name?[w]:[]);if(z.length>0){let re=0;for(const W of z)if(W.name&&Array.isArray(W.stickers)){const A=await ma(W.name+" (Import)","");for(const E of W.stickers)await nn(A.id,E.url,E.keyword);re++}alert(`Successfully imported ${re} packs.`)}else alert("Invalid sticker pack format.")}catch(w){console.error(w),alert("Failed to parse sticker pack.")}_.target.value=""},v.readAsText(m)};return(_,m)=>(p(),x("div",Dx,[n("div",Ux,[n("div",Vx,[n("button",{onClick:m[0]||(m[0]=v=>s.value?s.value=null:_.$emit("back")),class:"w-10 h-10 flex items-center justify-center hover:bg-zinc-50 rounded-full transition-colors -ml-2"},[...m[14]||(m[14]=[n("span",{class:"material-symbols-outlined text-zinc-900 text-[18px]"},"arrow_back_ios_new",-1)])]),n("span",Kx,P(s.value?s.value.name:"Sticker Packs"),1)]),n("div",Fx,[!s.value&&!d.value?(p(),x(ne,{key:0},[n("button",{onClick:be,class:"text-[10px] font-bold uppercase tracking-widest px-4 py-2 hover:bg-zinc-50 rounded-full border border-zinc-100 transition-colors flex items-center gap-2"},[...m[15]||(m[15]=[n("span",{class:"material-symbols-outlined text-[16px]"},"download",-1),n("span",null,"Import",-1)])]),n("input",{ref_key:"fileInputRef",ref:h,type:"file",accept:".json",class:"hidden",onChange:U},null,544),n("button",{onClick:m[1]||(m[1]=v=>d.value=!0),class:"p-2 rounded-full hover:bg-zinc-50 text-zinc-400 hover:text-black transition-colors",title:"Select Packs"},[...m[16]||(m[16]=[n("span",{class:"material-symbols-outlined text-[20px]"},"checklist",-1)])])],64)):d.value?(p(),x(ne,{key:1},[n("button",{onClick:me,class:"text-[10px] font-bold uppercase tracking-wider px-3 py-1.5 hover:bg-zinc-50 rounded-lg"},"All"),n("button",{onClick:m[2]||(m[2]=v=>{d.value=!1,f.value.clear()}),class:"text-[10px] font-bold uppercase tracking-wider px-3 py-1.5 hover:bg-zinc-50 rounded-lg text-red-500"},"Cancel")],64)):(p(),x("button",{key:2,onClick:m[3]||(m[3]=v=>d.value=!0),class:"p-2 rounded-full hover:bg-zinc-50 text-zinc-400 hover:text-black transition-colors",title:"Select Stickers"},[...m[17]||(m[17]=[n("span",{class:"material-symbols-outlined text-[20px]"},"checklist",-1)])]))])]),n("div",Wx,[s.value?(p(),x("div",Zx,[n("div",eg,[n("div",tg,[n("input",{value:s.value.name,onChange:b,class:"text-3xl font-serif italic bg-transparent focus:outline-none w-full placeholder-zinc-300 p-0 m-0 border-none ring-0",placeholder:"Pack Name"},null,40,sg)]),n("button",{onClick:D,class:"shrink-0 w-8 h-8 flex items-center justify-center rounded-full hover:bg-red-50 text-zinc-300 hover:text-red-500 transition-colors",title:"Delete Pack"},[...m[19]||(m[19]=[n("span",{class:"material-symbols-outlined text-[18px]"},"delete",-1)])])]),n("div",ng,[(p(!0),x(ne,null,fe(k.value,v=>(p(),x("div",{key:v.id,class:"relative group flex flex-col gap-2",onClick:S=>d.value?ae(v.id):null},[n("div",{class:X(["aspect-square bg-zinc-50 rounded-2xl overflow-hidden border transition-all cursor-pointer relative",f.value.has(v.id)?"border-black ring-2 ring-black ring-offset-2":"border-zinc-50 hover:border-zinc-200"])},[n("img",{src:v.url,class:"w-full h-full object-cover"},null,8,ag),d.value?(p(),x("div",lg,[f.value.has(v.id)?(p(),x("div",ig)):R("",!0)])):(p(),x("div",rg,[...m[20]||(m[20]=[n("span",{class:"material-symbols-outlined text-white"},"visibility",-1)])]))],2),n("div",cg,[n("p",dg,P(v.keyword),1)])],8,og))),128)),d.value?R("",!0):(p(),x("button",{key:0,onClick:m[5]||(m[5]=v=>l.value=!0),class:"aspect-square rounded-2xl border border-dashed border-zinc-200 flex flex-col items-center justify-center hover:bg-zinc-50 hover:border-zinc-400 transition-all gap-1"},[...m[21]||(m[21]=[n("span",{class:"material-symbols-outlined text-zinc-300 text-[20px]"},"add",-1),n("span",{class:"text-[9px] font-bold text-zinc-300 uppercase"},"Add",-1)])]))])])):(p(),x("div",Hx,[n("div",Gx,[(p(!0),x(ne,null,fe($.value,v=>(p(),x("div",{key:v.id,class:X(["aspect-[4/3] bg-zinc-50 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:bg-zinc-100 transition-all group relative p-6 text-center select-none border-2",f.value.has(v.id)?"border-black bg-zinc-100":"border-transparent"]),onClick:S=>j(v)},[n("span",Qx,P(v.name),1),n("div",Jx,P(Ne(ms)(v.id).length)+" stickers",1),d.value?(p(),x("div",Yx,[f.value.has(v.id)?(p(),x("div",Xx)):R("",!0)])):R("",!0)],10,qx))),128)),d.value?R("",!0):(p(),x("button",{key:0,onClick:m[4]||(m[4]=v=>o.value=!0),class:"aspect-[4/3] border border-dashed border-zinc-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-zinc-400 hover:bg-zinc-50 transition-all group"},[...m[18]||(m[18]=[n("span",{class:"material-symbols-outlined text-zinc-300 group-hover:text-black transition-colors mb-2"},"add",-1),n("span",{class:"text-[10px] font-bold text-zinc-300 uppercase tracking-widest group-hover:text-black"},"New Pack",-1)])]))])]))]),d.value&&f.value.size>0?(p(),x("div",ug,[n("span",fg,P(f.value.size)+" Selected",1),m[25]||(m[25]=n("div",{class:"h-4 w-px bg-white/20"},null,-1)),s.value?(p(),x("button",{key:1,onClick:he,class:"flex items-center gap-2 hover:opacity-80 transition-opacity"},[...m[23]||(m[23]=[n("span",{class:"material-symbols-outlined text-[18px]"},"drive_file_move",-1),n("span",{class:"text-[11px] font-bold"},"Move",-1)])])):(p(),x("button",{key:0,onClick:ie,class:"flex items-center gap-2 hover:opacity-80 transition-opacity"},[...m[22]||(m[22]=[n("span",{class:"material-symbols-outlined text-[18px]"},"ios_share",-1),n("span",{class:"text-[11px] font-bold"},"Export Items",-1)])])),m[26]||(m[26]=n("div",{class:"h-4 w-px bg-white/20"},null,-1)),n("button",{onClick:xe,class:"flex items-center gap-2 hover:text-red-300 transition-colors"},[...m[24]||(m[24]=[n("span",{class:"material-symbols-outlined text-[18px]"},"delete",-1),n("span",{class:"text-[11px] font-bold"},"Delete",-1)])])])):R("",!0),o.value?(p(),x("div",{key:1,class:"absolute inset-0 bg-white/90 backdrop-blur-md z-50 flex items-center justify-center px-8",onClick:m[8]||(m[8]=et(v=>o.value=!1,["self"]))},[n("div",pg,[m[27]||(m[27]=n("div",{class:"text-center"},[n("h3",{class:"font-serif italic text-2xl mb-1"},"New Sticker Pack"),n("p",{class:"text-[10px] text-zinc-400 uppercase tracking-widest"},"Create a new collection")],-1)),le(n("input",{"onUpdate:modelValue":m[6]||(m[6]=v=>a.value=v),placeholder:"Name your pack...",class:"w-full bg-zinc-50 border-none rounded-2xl py-4 px-6 text-center text-lg font-medium focus:ring-1 focus:ring-black placeholder:text-zinc-300 transition-all outline-none",autofocus:"",onKeyup:cs(T,["enter"])},null,544),[[ue,a.value]]),n("div",vg,[n("button",{onClick:m[7]||(m[7]=v=>o.value=!1),class:"py-3.5 rounded-full font-bold text-xs uppercase tracking-widest bg-zinc-100 text-zinc-500 hover:bg-zinc-200 transition-colors"}," Cancel "),n("button",{onClick:T,class:"py-3.5 rounded-full font-bold text-xs uppercase tracking-widest bg-black text-white hover:bg-zinc-800 transition-colors shadow-lg"}," Create ")])])])):R("",!0),c.value?(p(),x("div",{key:2,class:"absolute inset-0 bg-white/90 backdrop-blur-md z-50 flex items-center justify-center px-8",onClick:m[10]||(m[10]=et(v=>c.value=!1,["self"]))},[n("div",bg,[m[28]||(m[28]=n("div",{class:"text-center"},[n("h3",{class:"font-serif italic text-2xl mb-1"},"Move to..."),n("p",{class:"text-[10px] text-zinc-400 uppercase tracking-widest"},"Select destination pack")],-1)),n("div",xg,[(p(!0),x(ne,null,fe($.value.filter(v=>v.id!==s.value.id),v=>(p(),x("button",{key:v.id,onClick:S=>u.value=v.id,class:X(["w-full text-left px-4 py-3 rounded-xl text-sm font-medium transition-colors flex items-center justify-between",u.value===v.id?"bg-black text-white":"hover:bg-zinc-200 text-zinc-600"])},[n("span",null,P(v.name),1),u.value===v.id?(p(),x("span",mg,"check")):R("",!0)],10,gg))),128)),$.value.length<=1?(p(),x("div",hg,"No other packs available")):R("",!0)]),n("div",yg,[n("button",{onClick:m[9]||(m[9]=v=>c.value=!1),class:"py-3.5 rounded-full font-bold text-xs uppercase tracking-widest bg-zinc-100 text-zinc-500 hover:bg-zinc-200 transition-colors"}," Cancel "),n("button",{onClick:Y,class:"py-3.5 rounded-full font-bold text-xs uppercase tracking-widest bg-black text-white hover:bg-zinc-800 transition-colors shadow-lg",disabled:!u.value}," Move ",8,kg)])])])):R("",!0),l.value?(p(),x("div",{key:3,class:"absolute inset-0 bg-white/80 backdrop-blur-md z-50 flex items-center justify-center px-6",onClick:m[13]||(m[13]=et(v=>l.value=!1,["self"]))},[n("div",wg,[n("div",_g,[m[29]||(m[29]=n("h3",{class:"font-serif italic text-2xl mb-1"},"Add Stickers",-1)),n("p",$g,P(s.value.name),1)]),n("div",Sg,[n("div",null,[n("label",Cg,[m[30]||(m[30]=n("div",{class:"flex flex-col items-center gap-2"},[n("div",{class:"w-10 h-10 rounded-full bg-zinc-100 flex items-center justify-center group-hover:bg-white group-hover:shadow-md transition-all"},[n("span",{class:"material-symbols-outlined text-zinc-400 group-hover:text-black"},"cloud_upload")]),n("span",{class:"text-[10px] font-bold text-zinc-400 group-hover:text-black uppercase tracking-widest"},"Upload Images")],-1)),n("input",{type:"file",class:"hidden",multiple:"",accept:"image/*",onChange:Q},null,32)])]),m[32]||(m[32]=n("div",{class:"flex items-center gap-4"},[n("div",{class:"h-px bg-zinc-100 flex-1"}),n("span",{class:"text-[9px] font-bold text-zinc-300 uppercase"},"OR"),n("div",{class:"h-px bg-zinc-100 flex-1"})],-1)),n("div",null,[m[31]||(m[31]=n("label",{class:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest mb-3 block"},"Batch Import URLs",-1)),le(n("textarea",{"onUpdate:modelValue":m[11]||(m[11]=v=>i.value=v),rows:"4",class:"w-full bg-zinc-50 rounded-2xl p-4 text-xs font-mono border-none focus:ring-1 focus:ring-black resize-none placeholder:text-zinc-300 outline-none",placeholder:`happy:http://example.com/happy.jpg
sad:http://example.com/sad.jpg`},null,512),[[ue,i.value]])])]),n("div",zg,[n("button",{onClick:m[12]||(m[12]=v=>l.value=!1),class:"py-3.5 rounded-full font-bold text-xs uppercase tracking-widest bg-zinc-100 text-zinc-500 hover:bg-zinc-200 transition-colors"}," Cancel "),n("button",{onClick:F,class:"py-3.5 rounded-full font-bold text-xs uppercase tracking-widest bg-black text-white hover:bg-zinc-800 transition-colors shadow-lg",disabled:r.value},P(r.value?"Processing...":"Confirm"),9,Ig)])])])):R("",!0)]))}},Eg={class:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t border-gray-100 pb-[calc(1rem+env(safe-area-inset-bottom))] z-[60]"},Tg={class:"max-w-7xl mx-auto flex items-center justify-around h-16 px-4 w-full"},jg=["onClick"],Og={key:0,class:"w-10 h-10 bg-zinc-50 rounded-lg text-black hover:bg-zinc-100 flex items-center justify-center"},Mg={__name:"Navigation",props:["activeTab"],emits:["change"],setup(e,{emit:t}){const s=t,o=[{id:"feed",icon:"home"},{id:"inbox",icon:"mail"},{id:"compose",icon:"add",isAction:!0},{id:"activity",icon:"favorite"},{id:"profile",icon:"person"}],a=l=>{s("change",l)};return(l,i)=>(p(),x("nav",Eg,[n("div",Tg,[(p(),x(ne,null,fe(o,r=>n("button",{key:r.id,onClick:d=>a(r.id),class:X(["flex items-center justify-center w-12 transition-colors",[r.isAction?"":e.activeTab===r.id?"text-black":"text-zinc-400 hover:text-black"]])},[r.isAction?(p(),x("div",Og,[...i[0]||(i[0]=[n("span",{class:"material-symbols-outlined text-[24px]"},"add",-1)])])):(p(),x("span",{key:1,class:X(["material-symbols-outlined text-[26px]",{"active-icon":e.activeTab===r.id}])},P(r.icon),3))],10,jg)),64))])]))}},Pg=Ve(Mg,[["__scopeId","data-v-8cbb0360"]]),Ng={class:"noir-app-container w-full h-full bg-white relative font-sans text-black overflow-hidden flex flex-col"},Lg={key:9,class:"flex-1 flex items-center justify-center h-full"},Rg={__name:"NoirApp",emits:["close"],setup(e,{emit:t}){const s=B("feed"),o=B(null);dt(()=>{Sc()});const a=(i,r=null)=>{o.value=r,s.value=i},l=i=>{s.value=i};return(i,r)=>(p(),x("div",Ng,[s.value==="feed"?(p(),De(Fc,{key:0,onClose:r[0]||(r[0]=d=>i.$emit("close")),onNavigate:a})):R("",!0),s.value==="post"?(p(),De(ep,{key:1,postId:o.value?.id,onBack:r[1]||(r[1]=d=>a("feed"))},null,8,["postId"])):R("",!0),s.value==="inbox"?(p(),De(nu,{key:2,onNavigate:a,onClose:r[2]||(r[2]=d=>i.$emit("close"))})):R("",!0),s.value==="chat"?(p(),De(yf,{key:3,chatId:o.value?.id,onBack:r[3]||(r[3]=d=>a("inbox")),onNavigate:a},null,8,["chatId"])):R("",!0),s.value==="chat-settings"?(p(),De(h0,{key:4,chatId:o.value?.id,onBack:r[4]||(r[4]=d=>a("chat",{id:o.value?.id})),onNavigate:a},null,8,["chatId"])):R("",!0),s.value==="chat-settings-identity"?(p(),De(gb,{key:5,chatId:o.value?.id,onBack:r[5]||(r[5]=d=>a("chat-settings",{id:o.value?.id}))},null,8,["chatId"])):R("",!0),s.value==="worldbook-selector"?(p(),De(Db,{key:6,chatId:o.value?.id,onBack:r[6]||(r[6]=d=>a("chat-settings",{id:o.value?.id}))},null,8,["chatId"])):R("",!0),s.value==="profile"?(p(),De(Kf,{key:7,onBack:r[7]||(r[7]=d=>i.$emit("close")),onNavigate:a})):R("",!0),s.value==="compose"?(p(),De(Qf,{key:8,onClose:r[8]||(r[8]=d=>a("feed"))})):R("",!0),s.value==="activity"?(p(),x("div",Lg,[...r[24]||(r[24]=[n("span",{class:"text-zinc-400 font-serif italic text-xl"},"Coming soon...",-1)])])):R("",!0),s.value==="persona-archive"?(p(),De(fp,{key:10,onBack:r[9]||(r[9]=d=>a("profile")),onAdd:r[10]||(r[10]=d=>a("persona-edit")),onEdit:r[11]||(r[11]=d=>a("persona-edit",{id:d})),onSelect:r[12]||(r[12]=d=>a("profile"))})):R("",!0),s.value==="persona-edit"?(p(),De(Sp,{key:11,personaId:o.value?.id,onBack:r[13]||(r[13]=d=>a("persona-archive")),onSave:r[14]||(r[14]=d=>a("persona-archive"))},null,8,["personaId"])):R("",!0),s.value==="following"?(p(),De(Bp,{key:12,onBack:r[15]||(r[15]=d=>a("feed")),onAdd:r[16]||(r[16]=d=>a("contact-edit")),onEdit:r[17]||(r[17]=d=>a("contact-edit",{id:d}))})):R("",!0),s.value==="contact-edit"?(p(),De(wa,{key:13,contactId:o.value?.id,onBack:r[18]||(r[18]=d=>a("following")),onSave:r[19]||(r[19]=d=>a("following"))},null,8,["contactId"])):R("",!0),s.value==="contact-edit"?(p(),De(wa,{key:14,contactId:o.value?.id,onBack:r[20]||(r[20]=d=>a("following")),onSave:r[21]||(r[21]=d=>a("following"))},null,8,["contactId"])):R("",!0),s.value==="relationship-network"?(p(),De(Bx,{key:15,myPersonaId:o.value?.id,onBack:r[22]||(r[22]=d=>a("profile"))},null,8,["myPersonaId"])):R("",!0),s.value==="sticker-library"?(p(),De(Ag,{key:16,onBack:r[23]||(r[23]=d=>a("profile"))})):R("",!0),["feed","inbox","profile","activity"].includes(s.value)?(p(),De(Pg,{key:17,activeTab:s.value,onChange:l},null,8,["activeTab"])):R("",!0)]))}},Bg=Ve(Rg,[["__scopeId","data-v-cca3e70c"]]),Dg={class:"h-full flex flex-col bg-background-light dark:bg-background-dark overflow-y-auto"},Ug={class:"sticky top-0 z-50 bg-background-light/90 dark:bg-background-dark/90 backdrop-blur-md border-b border-neutral-100 dark:border-neutral-900 px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 flex items-center justify-between"},Vg={class:"w-full pb-12"},Kg={class:"divide-y divide-neutral-100 dark:divide-neutral-900"},Fg={__name:"SettingsHome",emits:["close","navigate"],setup(e,{emit:t}){return(s,o)=>(p(),x("div",Dg,[n("nav",Ug,[n("button",{onClick:o[0]||(o[0]=a=>s.$emit("close")),class:"-ml-2 size-10 flex items-center justify-center hover:bg-neutral-50 rounded-full transition-colors"},[...o[2]||(o[2]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),o[3]||(o[3]=n("h1",{class:"font-display text-lg tracking-[0.2em] uppercase font-bold"},"Settings",-1)),o[4]||(o[4]=n("div",{class:"w-8"},null,-1))]),n("main",Vg,[o[7]||(o[7]=n("header",{class:"px-6 py-10 border-b border-neutral-100 dark:border-neutral-900"},[n("span",{class:"text-[10px] uppercase tracking-[0.3em] font-medium text-neutral-400 dark:text-neutral-500 block mb-2"},"Preferences"),n("h2",{class:"text-4xl font-display italic leading-tight"},"Curation & Control")],-1)),n("section",Kg,[n("button",{onClick:o[1]||(o[1]=a=>s.$emit("navigate","api-setup")),class:"w-full px-6 py-8 flex items-center justify-between group transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/50 text-left"},[...o[5]||(o[5]=[n("div",{class:"text-left"},[n("div",{class:"flex items-center gap-3 mb-1"},[n("span",{class:"text-xs uppercase tracking-[0.15em] font-bold"},"API ")])],-1),n("span",{class:"material-symbols-outlined text-lg opacity-30 group-hover:opacity-100 transition-opacity"},"chevron_right",-1)])]),o[6]||(o[6]=lt('<button class="w-full px-6 py-6 flex items-center justify-between group transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/50 text-left" data-v-fc500d22><span class="text-xs uppercase tracking-[0.15em] font-medium" data-v-fc500d22></span><div class="flex items-center gap-3" data-v-fc500d22><span class="text-[10px] font-mono opacity-40 uppercase" data-v-fc500d22></span><span class="material-symbols-outlined text-lg opacity-30" data-v-fc500d22>chevron_right</span></div></button><button class="w-full px-6 py-6 flex items-center justify-between group transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/50 text-left" data-v-fc500d22><span class="text-xs uppercase tracking-[0.15em] font-medium" data-v-fc500d22></span><span class="material-symbols-outlined text-lg opacity-30" data-v-fc500d22>chevron_right</span></button><button class="w-full px-6 py-6 flex items-center justify-between group transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/50 text-left" data-v-fc500d22><span class="text-xs uppercase tracking-[0.15em] font-medium" data-v-fc500d22></span><div class="flex items-center gap-3" data-v-fc500d22><span class="material-symbols-outlined text-lg opacity-30" data-v-fc500d22>lock</span><span class="material-symbols-outlined text-lg opacity-30" data-v-fc500d22>chevron_right</span></div></button><button class="w-full px-6 py-6 flex items-center justify-between group transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/50 text-left" data-v-fc500d22><span class="text-xs uppercase tracking-[0.15em] font-medium" data-v-fc500d22></span><div class="flex items-center gap-3" data-v-fc500d22><div class="w-2 h-2 bg-neutral-200 dark:bg-neutral-800 rounded-full" data-v-fc500d22></div><span class="material-symbols-outlined text-lg opacity-30" data-v-fc500d22>chevron_right</span></div></button>',4))]),o[8]||(o[8]=lt('<section class="mt-12" data-v-fc500d22><div class="px-6 mb-4" data-v-fc500d22><h3 class="text-[10px] uppercase tracking-[0.3em] font-bold text-neutral-400" data-v-fc500d22></h3></div><div class="divide-y divide-neutral-100 dark:divide-neutral-900 border-t border-neutral-100 dark:border-neutral-900" data-v-fc500d22><button class="w-full px-6 py-5 flex items-center justify-between group hover:bg-neutral-50 dark:hover:bg-neutral-900/50 transition-colors text-left" data-v-fc500d22><span class="text-xs uppercase tracking-widest font-medium opacity-60" data-v-fc500d22></span><span class="material-symbols-outlined text-lg opacity-30" data-v-fc500d22>chevron_right</span></button><button class="w-full px-6 py-5 flex items-center justify-between group hover:bg-neutral-50 dark:hover:bg-neutral-900/50 transition-colors text-left" data-v-fc500d22><span class="text-xs uppercase tracking-widest font-medium opacity-60" data-v-fc500d22></span><span class="material-symbols-outlined text-lg opacity-30" data-v-fc500d22>chevron_right</span></button><div class="px-6 py-10 text-center" data-v-fc500d22><p class="text-[9px] font-mono uppercase tracking-[0.4em] text-neutral-400 italic" data-v-fc500d22>Settings  v2.4.0 (Build 992)</p></div></div></section><section class="px-6 mt-4" data-v-fc500d22><button class="w-full border border-neutral-200 dark:border-neutral-800 py-4 text-[10px] uppercase tracking-[0.2em] font-bold hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black transition-all" data-v-fc500d22>  </button></section>',2))])]))}},Wg=Ve(Fg,[["__scopeId","data-v-fc500d22"]]),Hg={class:"h-full flex flex-col bg-background-light dark:bg-background-dark overflow-y-auto w-full relative"},Gg={class:"sticky top-0 z-50 bg-background-light/90 dark:bg-background-dark/90 backdrop-blur-md border-b border-neutral-100 dark:border-neutral-900 px-6 pt-[calc(10px_+_env(safe-area-inset-top))] pb-3 flex items-center justify-between"},qg={class:"w-full pb-40"},Qg={class:"border-b border-neutral-100 dark:border-neutral-900 overflow-x-auto no-scrollbar"},Jg={class:"flex px-6 space-x-8"},Yg=["onClick"],Xg={class:"px-6 py-8"},Zg={class:"flex items-center justify-between border-b border-neutral-100 dark:border-neutral-900 pb-4"},em={class:"flex gap-4"},tm={class:"px-6 py-4 mb-8"},sm={class:"flex justify-between items-end mb-4"},nm={class:"w-full mr-4"},om={class:"group relative"},am={class:"relative w-full"},lm=["value"],im={class:"w-full flex items-center justify-between py-4 border-y border-neutral-100 dark:border-neutral-900 group-hover:border-black dark:group-hover:border-white transition-colors pointer-events-none"},rm={class:"text-xs font-mono uppercase tracking-widest text-neutral-600 dark:text-neutral-400"},cm={class:"px-6 space-y-10"},dm={class:"group"},um={class:"group"},fm={class:"relative"},pm=["type"],vm={class:"material-symbols-outlined text-lg"},bm={class:"flex justify-between items-baseline mb-8"},xm={class:"text-2xl font-display italic"},gm={class:"flex items-center justify-between"},mm={class:"px-6 py-12"},hm={class:"flex items-center justify-between py-6 border-t border-neutral-100 dark:border-neutral-900"},ym={class:"flex items-center gap-4"},km={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm p-6"},wm={class:"bg-white dark:bg-black p-6 w-full max-w-sm shadow-2xl border border-neutral-100"},_m={class:"flex justify-end gap-4"},$m={__name:"ApiSetup",emits:["back"],setup(e,{emit:t}){const s=t,{provider:o,endpoint:a,apiKey:l,model:i,temperature:r,stream:d,modelsList:f,presetState:c,init:u,getPresetById:h,saveCurrentAsPreset:$,deleteCurrentPreset:T,fetchModels:j,commitSettings:D}=Rl(),b=Jt({provider:"openai",endpoint:"",apiKey:"",model:"",temperature:.7,stream:!1,currentPresetId:"custom"}),k=B(!1),F=B(!1),Q=B(""),ae=B(!1);dt(async()=>{await u(),me()});const me=()=>{b.provider=o.value,b.endpoint=a.value,b.apiKey=l.value,b.model=i.value,b.temperature=r.value,b.stream=d.value!==void 0?d.value:!1,b.currentPresetId=c.currentPresetId},xe=async()=>{await D({provider:b.provider,endpoint:b.endpoint,apiKey:b.apiKey,model:b.model,temperature:b.temperature,stream:b.stream,currentPresetId:b.currentPresetId}),s("back")},he=async()=>{k.value=!0,await j({endpoint:b.endpoint,apiKey:b.apiKey}),k.value=!1},Y=async()=>{if(Q.value)try{await $(Q.value,b),F.value=!1,Q.value="",me()}catch(m){console.error(m),alert(": "+m)}},ie=async()=>{confirm("")&&(await T(),me())},be=m=>{if(m==="custom"){b.currentPresetId="custom";return}const v=h(m);v&&(b.provider=v.provider,b.endpoint=v.endpoint,v.apiKey&&(b.apiKey=v.apiKey),b.model=v.model,b.temperature=v.temperature,b.stream=v.stream!==void 0?v.stream:!1,b.currentPresetId=m)},U=m=>{b.provider=m,m==="gemini"?(b.endpoint="https://generativelanguage.googleapis.com/v1beta/openai/",b.model.includes("gpt")&&(b.model="gemini-1.5-flash")):b.endpoint="https://api.openai.com/v1",b.currentPresetId!=="custom"&&(b.currentPresetId="custom")},_=()=>{ae.value=!ae.value};return(m,v)=>(p(),x("div",Hg,[n("nav",Gg,[n("button",{onClick:v[0]||(v[0]=S=>m.$emit("back")),class:"-ml-2 size-10 flex items-center justify-center hover:bg-neutral-50 rounded-full transition-colors"},[...v[13]||(v[13]=[n("span",{class:"material-symbols-outlined text-[18px]"},"arrow_back_ios_new",-1)])]),v[14]||(v[14]=n("h1",{class:"font-display text-xl tracking-tight"},"API Setup",-1)),v[15]||(v[15]=n("div",{class:"w-8 h-8 flex items-center justify-end"},[n("span",{class:"material-symbols-outlined text-xl text-neutral-400"},"tune")],-1))]),n("main",qg,[n("section",Qg,[n("div",Jg,[(p(!0),x(ne,null,fe(Ne(c).list,S=>(p(),x("button",{key:S.id,onClick:w=>be(S.id),class:X(["py-4 border-b-2 whitespace-nowrap transition-colors",b.currentPresetId===S.id?"border-black dark:border-white":"border-transparent text-neutral-400"])},[n("span",{class:X(["text-[10px] uppercase tracking-[0.2em] font-medium",{"font-bold":b.currentPresetId===S.id}])},P(S.name),3)],10,Yg))),128)),n("button",{onClick:v[1]||(v[1]=S=>be("custom")),class:X(["py-4 border-b-2 whitespace-nowrap transition-colors",b.currentPresetId==="custom"?"border-black dark:border-white !text-black dark:!text-white":"border-transparent text-neutral-400"])},[...v[16]||(v[16]=[n("span",{class:"text-[10px] uppercase tracking-[0.2em] font-medium"},"Custom",-1)])],2)])]),n("section",Xg,[n("div",Zg,[v[17]||(v[17]=n("span",{class:"text-[10px] uppercase tracking-[0.2em] font-medium text-neutral-500 dark:text-neutral-400"},"",-1)),n("div",em,[n("button",{onClick:v[2]||(v[2]=S=>U("openai")),class:X(["text-[10px] uppercase tracking-widest transition-all",b.provider==="openai"?"font-bold border-b border-black dark:border-white":"font-medium text-neutral-400 dark:text-neutral-600"])},"OpenAI",2),n("button",{onClick:v[3]||(v[3]=S=>U("gemini")),class:X(["text-[10px] uppercase tracking-widest transition-all",b.provider==="gemini"?"font-bold border-b border-black dark:border-white":"font-medium text-neutral-400 dark:text-neutral-600"])},"Gemini",2)])])]),n("section",tm,[n("div",sm,[n("div",nm,[v[18]||(v[18]=n("span",{class:"text-[10px] uppercase tracking-[0.3em] font-bold text-neutral-600 dark:text-neutral-400 block mb-1"},"",-1)),le(n("input",{"onUpdate:modelValue":v[4]||(v[4]=S=>b.model=S),class:"text-3xl font-display italic tracking-tight bg-transparent border-none p-0 pr-10 pl-6 focus:ring-0 w-full placeholder:text-neutral-300",placeholder:""},null,512),[[ue,b.model]])]),n("button",{onClick:he,class:"shrink-0 text-[10px] uppercase tracking-widest font-bold text-neutral-500 flex items-center gap-1 border border-neutral-200 dark:border-neutral-800 px-3 py-1 mb-1 hover:bg-neutral-50 active:scale-95 transition-all"},[v[19]||(v[19]=Gt("  ",-1)),n("span",{class:X(["material-symbols-outlined text-xs",{"animate-spin":k.value}])},"sync",2)])]),n("div",om,[n("div",am,[le(n("select",{id:"modelSelect","onUpdate:modelValue":v[5]||(v[5]=S=>b.model=S),class:"appearance-none w-full bg-transparent py-4 border-y border-neutral-100 dark:border-neutral-900 text-transparent absolute inset-0 z-10 cursor-pointer outline-none"},[(p(!0),x(ne,null,fe(Ne(f),S=>(p(),x("option",{key:S,value:S,class:"text-black dark:text-white bg-white dark:bg-black"},P(S),9,lm))),128))],512),[[Qs,b.model]]),n("div",im,[n("span",rm," ("+P(Ne(f).length)+")",1),v[20]||(v[20]=n("span",{class:"material-symbols-outlined text-lg"},"expand_more",-1))])])])]),n("section",cm,[n("div",dm,[v[21]||(v[21]=n("label",{class:"text-[10px] uppercase tracking-[0.2em] font-medium text-neutral-500 block mb-2"},"",-1)),le(n("input",{"onUpdate:modelValue":v[6]||(v[6]=S=>b.endpoint=S),class:"w-full bg-transparent border-0 border-b border-neutral-100 dark:border-neutral-900 px-0 py-2 focus:ring-0 focus:border-black dark:focus:border-white transition-colors font-mono text-sm placeholder:text-neutral-300 dark:placeholder:text-neutral-700",type:"text",placeholder:"https://api.openai.com/v1"},null,512),[[ue,b.endpoint]])]),n("div",um,[v[22]||(v[22]=n("label",{class:"text-[10px] uppercase tracking-[0.2em] font-medium text-neutral-500 block mb-2"},"API  ( Key  , )",-1)),n("div",fm,[le(n("input",{"onUpdate:modelValue":v[7]||(v[7]=S=>b.apiKey=S),type:ae.value?"text":"password",class:"w-full bg-transparent border-0 border-b border-neutral-100 dark:border-neutral-900 px-0 py-2 focus:ring-0 focus:border-black dark:focus:border-white transition-colors font-mono text-sm resize-none text-black dark:text-white",placeholder:"sk-..., sk-..."},null,8,pm),[[fc,b.apiKey]]),n("button",{onClick:_,class:"absolute right-0 top-2 text-neutral-400 hover:text-black dark:hover:text-white transition-colors"},[n("span",vm,P(ae.value?"visibility_off":"visibility"),1)])])]),n("div",null,[n("div",bm,[v[23]||(v[23]=n("h3",{class:"text-[10px] uppercase tracking-[0.2em] font-medium text-neutral-500"},"",-1)),n("span",xm,P(b.temperature),1)]),le(n("input",{"onUpdate:modelValue":v[8]||(v[8]=S=>b.temperature=S),class:"w-full",max:"2",min:"0",step:"0.1",type:"range"},null,512),[[ue,b.temperature,void 0,{number:!0}]]),v[24]||(v[24]=n("div",{class:"mt-4 flex justify-between text-[9px] font-mono uppercase text-neutral-300 dark:text-neutral-700 tracking-widest"},[n("span",null," (0.0)"),n("span",null," (2.0)")],-1))]),n("div",gm,[v[25]||(v[25]=n("label",{class:"text-[10px] uppercase tracking-[0.2em] font-medium text-neutral-500"}," (Streaming)",-1)),n("button",{onClick:v[9]||(v[9]=S=>b.stream=!b.stream),class:X(["w-12 h-6 rounded-full relative transition-colors duration-200",b.stream?"bg-black dark:bg-white":"bg-neutral-200 dark:bg-neutral-800"])},[n("div",{class:X(["absolute top-1 left-1 w-4 h-4 rounded-full bg-white dark:bg-black transition-transform duration-200 shadow-sm",b.stream?"translate-x-6":"translate-x-0"])},null,2)],2)])]),n("section",mm,[n("div",hm,[v[26]||(v[26]=n("span",{class:"text-[10px] uppercase tracking-[0.2em] font-medium text-neutral-400"},"Preset Management",-1)),n("div",ym,[b.currentPresetId!=="custom"?(p(),x("button",{key:0,onClick:ie,class:"text-[10px] uppercase tracking-wider font-bold text-neutral-400 hover:text-red-500 transition-colors"},"  ")):R("",!0),n("button",{onClick:v[10]||(v[10]=S=>F.value=!0),class:"text-[10px] uppercase tracking-wider font-bold underline underline-offset-4 hover:opacity-70"},"")])])]),F.value?(p(),x("div",km,[n("div",wm,[v[27]||(v[27]=n("h3",{class:"font-display italic text-2xl mb-4"},"Save Preset",-1)),le(n("input",{"onUpdate:modelValue":v[11]||(v[11]=S=>Q.value=S),placeholder:"Preset Name (e.g. Coding)",class:"w-full border-b border-neutral-200 mb-6 py-2 focus:outline-none font-mono text-sm"},null,512),[[ue,Q.value]]),n("div",_m,[n("button",{onClick:v[12]||(v[12]=S=>F.value=!1),class:"text-[10px] uppercase font-bold text-neutral-400"},"Cancel"),n("button",{onClick:Y,class:"text-[10px] uppercase font-bold text-black dark:text-white"},"Save")])])])):R("",!0),n("div",{class:"fixed bottom-10 left-0 right-0 px-6 flex justify-center z-50 pointer-events-none"},[n("button",{onClick:xe,class:"bg-black text-white dark:bg-white dark:text-black w-full max-w-xs py-4 px-8 flex items-center justify-between transition-transform active:scale-95 shadow-[0_20px_40px_rgba(0,0,0,0.1)] pointer-events-auto"},[...v[28]||(v[28]=[n("span",{class:"text-[10px] uppercase tracking-[0.3em] font-bold"},"",-1),n("span",{class:"material-symbols-outlined text-lg"},"check",-1)])])])])]))}},Sm=Ve($m,[["__scopeId","data-v-0c56b2c6"]]),Cm={class:"h-full w-full bg-background-light dark:bg-background-dark text-black dark:text-white font-sans overflow-hidden relative"},zm={__name:"SettingsApp",emits:["close"],setup(e,{emit:t}){const s=t,o=B("home"),a=i=>{o.value=i},l=()=>{o.value==="home"?s("close"):o.value="home"};return(i,r)=>(p(),x("div",Cm,[Le(rs,{name:"slide"},{default:Ft(()=>[o.value==="home"?(p(),De(Wg,{onClose:r[0]||(r[0]=d=>i.$emit("close")),onNavigate:a,key:"home"})):o.value==="api-setup"?(p(),De(Sm,{onBack:l,key:"api-setup"})):R("",!0)]),_:1})]))}},Im=Ve(zm,[["__scopeId","data-v-49131ef6"]]),Am={class:"h-full w-full bg-white flex flex-col font-display text-black"},Em={class:"flex items-center justify-between px-6 py-6 pt-[calc(20px_+_env(safe-area-inset-top))] bg-white z-10"},Tm={class:"flex gap-4"},jm={class:"flex-grow overflow-y-auto px-6 pb-32 no-scrollbar"},Om={class:"mb-8"},Mm={class:"relative"},Pm=["value"],Nm={class:"mb-10"},Lm={class:"mb-12"},Rm={class:"mb-10"},Bm={class:"flex gap-8"},Dm={key:0,class:"material-symbols-outlined text-white text-[16px] font-bold"},Um={key:0,class:"material-symbols-outlined text-white text-[16px] font-bold"},Vm={key:0,class:"mb-10 animate-fade-in"},Km={class:"mb-10"},Fm={class:"flex border border-black h-12"},Wm={class:"mb-10 flex items-center justify-between"},Hm={__name:"EntryEdit",props:{entryId:{type:String,default:null},initialCategoryId:{type:String,required:!0},initialScope:{type:String,default:"global"}},emits:["back","save"],setup(e,{emit:t}){const s=e,o=t,a=Pn(),l=B(""),i=B(""),r=B(s.initialCategoryId),d=B(s.initialScope),f=B(!1),c=B(""),u=B("front"),h=B(4),$=a.getCategories(),T=!s.entryId;dt(()=>{if(!T&&s.entryId){const b=a.getEntry(s.entryId);b&&(l.value=b.title,i.value=b.content,r.value=b.categoryId,d.value=b.scope||"global",f.value=b.isConstant,c.value=b.keywords.join(", "),u.value=b.position,h.value=b.depth)}});const j=()=>{if(!l.value.trim()||!i.value.trim())return;const b={title:l.value,content:i.value,categoryId:r.value,scope:d.value,isConstant:f.value,keywords:f.value?[]:c.value.split(",").map(k=>k.trim()).filter(Boolean),position:u.value,depth:Number(h.value)};T?a.addEntry(b):s.entryId&&a.updateEntry(s.entryId,b),o("save")},D=()=>{!T&&s.entryId&&(a.deleteEntry(s.entryId),o("back"))};return(b,k)=>(p(),x("div",Am,[n("div",Em,[n("button",{onClick:k[0]||(k[0]=F=>o("back")),class:"material-symbols-outlined text-[24px]"},"arrow_back"),n("div",Tm,[T?R("",!0):(p(),x("button",{key:0,onClick:D,class:"material-symbols-outlined text-[24px]"},"delete")),k[11]||(k[11]=n("button",{class:"material-symbols-outlined text-[24px]"},"more_horiz",-1))])]),n("div",jm,[n("div",Om,[k[13]||(k[13]=n("div",{class:"text-[10px] text-gray-400 uppercase tracking-widest mb-1 font-bold"}," / Category",-1)),n("div",Mm,[le(n("select",{"onUpdate:modelValue":k[1]||(k[1]=F=>r.value=F),class:"w-full text-2xl font-serif font-black italic bg-transparent border-none outline-none appearance-none pr-8 cursor-pointer z-10 relative"},[(p(!0),x(ne,null,fe(Ne($),F=>(p(),x("option",{key:F.id,value:F.id},P(F.name),9,Pm))),128))],512),[[Qs,r.value]]),k[12]||(k[12]=n("span",{class:"material-symbols-outlined absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none z-0"},"expand_more",-1))])]),n("div",Nm,[k[14]||(k[14]=n("div",{class:"text-[10px] text-gray-400 uppercase tracking-widest mb-2 font-bold"}," / Title",-1)),le(n("input",{"onUpdate:modelValue":k[2]||(k[2]=F=>l.value=F),type:"text",placeholder:"Enter Title",class:"w-full text-[40px] leading-tight font-serif font-medium bg-transparent border-none outline-none placeholder:text-gray-200"},null,512),[[ue,l.value]])]),n("div",Lm,[k[15]||(k[15]=n("div",{class:"text-[10px] text-gray-400 uppercase tracking-widest mb-4 font-bold"}," / Content",-1)),le(n("textarea",{"onUpdate:modelValue":k[3]||(k[3]=F=>i.value=F),placeholder:"Enter lore content...",class:"w-full min-h-[120px] text-base font-sans font-medium text-black/80 bg-transparent border-none outline-none resize-none placeholder:text-gray-200"},null,512),[[ue,i.value]])]),k[23]||(k[23]=n("div",{class:"w-full border-b border-gray-100 mb-8"},null,-1)),n("div",Rm,[k[16]||(k[16]=n("div",{class:"text-[10px] text-gray-400 uppercase tracking-widest mb-4 font-bold"}," / Mode",-1)),n("div",Bm,[n("div",{onClick:k[4]||(k[4]=F=>f.value=!1),class:"flex items-center gap-3 cursor-pointer group"},[n("div",{class:X(["w-5 h-5 border-2 border-black flex items-center justify-center transition-colors",f.value?"":"bg-black"])},[f.value?R("",!0):(p(),x("span",Dm,"check"))],2),n("span",{class:X(["text-sm font-bold",f.value?"text-gray-400":"text-black"])}," (Trigger)",2)]),n("div",{onClick:k[5]||(k[5]=F=>f.value=!0),class:"flex items-center gap-3 cursor-pointer group"},[n("div",{class:X(["w-5 h-5 border-2 border-black flex items-center justify-center transition-colors",f.value?"bg-black":""])},[f.value?(p(),x("span",Um,"check")):R("",!0)],2),n("span",{class:X(["text-sm font-bold",f.value?"text-black":"text-gray-400"])}," (Global)",2)])])]),k[24]||(k[24]=n("div",{class:"w-full border-b border-gray-100 mb-8"},null,-1)),f.value?R("",!0):(p(),x("div",Vm,[k[17]||(k[17]=n("div",{class:"text-[10px] text-gray-400 uppercase tracking-widest mb-2 font-bold"}," / Keywords",-1)),le(n("input",{"onUpdate:modelValue":k[6]||(k[6]=F=>c.value=F),type:"text",placeholder:"tag1, tag2...",class:"w-full text-xl font-sans font-medium bg-transparent border-none outline-none placeholder:text-gray-200"},null,512),[[ue,c.value]])])),n("div",Km,[k[20]||(k[20]=n("div",{class:"text-[10px] text-gray-400 uppercase tracking-widest mb-4 font-bold"}," / Injection Position",-1)),n("div",Fm,[n("div",{onClick:k[7]||(k[7]=F=>u.value="front"),class:X(["flex-1 flex items-center justify-center font-bold text-sm uppercase cursor-pointer transition-colors",u.value==="front"?"bg-black text-white":"bg-white text-black hover:bg-gray-50"])},"  (Front) ",2),k[18]||(k[18]=n("div",{class:"w-[1px] bg-black"},null,-1)),n("div",{onClick:k[8]||(k[8]=F=>u.value="mid"),class:X(["flex-1 flex items-center justify-center font-bold text-sm uppercase cursor-pointer transition-colors",u.value==="mid"?"bg-black text-white":"bg-white text-black hover:bg-gray-50"])},"  (Mid) ",2),k[19]||(k[19]=n("div",{class:"w-[1px] bg-black"},null,-1)),n("div",{onClick:k[9]||(k[9]=F=>u.value="back"),class:X(["flex-1 flex items-center justify-center font-bold text-sm uppercase cursor-pointer transition-colors",u.value==="back"?"bg-black text-white":"bg-white text-black hover:bg-gray-50"])},"  (Back) ",2)])]),n("div",Wm,[k[21]||(k[21]=n("div",null,[n("div",{class:"text-[10px] text-gray-400 uppercase tracking-widest mb-1 font-bold"}," / Logic Depth"),n("div",{class:"text-[10px] text-gray-300 italic"},"Range: 1 - 10")],-1)),n("div",null,[le(n("input",{"onUpdate:modelValue":k[10]||(k[10]=F=>h.value=F),type:"number",min:"1",max:"10",class:"w-24 text-right text-4xl font-serif font-black italic bg-transparent border-none outline-none transition-colors input-clean cursor-default"},null,512),[[ue,h.value]])])]),k[25]||(k[25]=n("div",{class:"w-full border-b border-gray-100 mb-8"},null,-1)),n("div",{onClick:j,class:"w-full bg-black text-white h-14 flex items-center justify-center gap-2 cursor-pointer active:scale-95 transition-transform mt-4"},[...k[22]||(k[22]=[n("span",{class:"text-[10px] font-bold uppercase tracking-[0.2em]"},"Save & Sync",-1)])])])]))}},Gm=Ve(Hm,[["__scopeId","data-v-f095e035"]]),qm={class:"h-full w-full bg-white flex flex-col font-display text-black relative"},Qm={key:0,class:"absolute inset-0 z-20 bg-white"},Jm={key:1,class:"absolute inset-0 z-50 bg-black/50 flex items-center justify-center p-6"},Ym={class:"bg-white w-full max-w-sm p-6 rounded-none shadow-2xl animate-fade-in"},Xm={class:"mb-8"},Zm={class:"relative"},e1=["value"],t1={class:"flex gap-4"},s1={key:2,class:"flex flex-col h-full"},n1={class:"px-6 py-4 pt-[calc(20px_+_env(safe-area-inset-top))] flex flex-col bg-white/90 backdrop-blur-sm z-10 sticky top-0 border-b border-gray-100"},o1={class:"flex items-center justify-between mb-4 mt-2"},a1={class:"flex gap-6 mt-0"},l1={class:"flex-grow overflow-y-auto px-6 pb-24 no-scrollbar pt-6"},i1={key:0,class:"flex flex-col gap-10"},r1={key:0,class:"animate-fade-in mb-8"},c1={key:0,class:"sticky top-0 bg-white z-20 py-4 border-b border-gray-100 flex items-center justify-between mb-4 animate-fade-in"},d1={class:"text-xs font-bold"},u1={class:"flex flex-col gap-3"},f1={class:"flex items-center gap-2"},p1=["onUpdate:modelValue","onChange"],v1=["onClick"],b1={class:"pl-4 border-l-2 border-gray-100 flex flex-col gap-2 mt-2"},x1=["onClick"],g1={key:0,class:"material-symbols-outlined text-white text-[10px] font-bold"},m1={class:"flex items-center gap-2 mt-6"},h1=["disabled"],y1={key:1},k1={class:"flex items-center justify-between mb-4 cursor-pointer"},w1={class:"text-2xl font-serif font-black italic"},_1={class:"pl-4 border-l-2 border-black/5 flex flex-col gap-4"},$1=["onClick"],S1={class:"font-bold text-sm group-hover/entry:underline decoration-1 underline-offset-4"},C1={class:"text-[10px] text-gray-400 line-clamp-1 mt-0.5"},z1=["onClick"],I1={key:1,class:"mt-2"},A1={class:"relative mb-8"},E1={class:"flex flex-col gap-6"},T1=["onClick"],j1={class:"flex items-center gap-2 mb-1"},O1={class:"text-[8px] font-bold px-1.5 py-0.5 bg-gray-100 rounded text-gray-500 uppercase"},M1={class:"text-[8px] text-gray-400 uppercase tracking-widest"},P1={class:"text-lg font-bold mb-1"},N1={class:"text-xs text-gray-500 line-clamp-2"},L1={class:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-100 py-4 pb-8 flex justify-around items-center z-10"},R1={__name:"WorldBookApp",emits:["close"],setup(e,{emit:t}){const s=t,o=Pn(),a=B("home"),l=B("global"),i=B("main"),r=B(!1),d=B(""),f=B(new Set),c=B(!1),u=B(""),h=B(null),$=B(""),T=ye(()=>o.getCategories()),j=B(""),D=ye(()=>j.value?o.searchEntries(j.value):[]),b=U=>{if(r.value){he(U);return}h.value=U,$.value="",i.value="edit"},k=U=>{h.value=null,$.value=U||T.value[0]?.id,i.value="edit"},F=()=>{i.value="main",h.value=null},Q=()=>{i.value="main",h.value=null},ae=()=>{d.value.trim()&&(o.addCategory(d.value.trim()),d.value="")},me=U=>{confirm("Are you sure? This will delete all entries in this category.")&&o.deleteCategory(U)},xe=()=>{r.value=!r.value,r.value&&(a.value="home"),f.value.clear()},he=U=>{f.value.has(U)?f.value.delete(U):f.value.add(U),f.value=new Set(f.value)},Y=()=>{f.value.size!==0&&(u.value=T.value[0]?.id,c.value=!0)},ie=()=>{u.value&&(f.value.forEach(U=>{o.updateEntry(U,{categoryId:u.value})}),f.value.clear(),c.value=!1,r.value=!1)},be=U=>o.getEntriesByCategory(U,l.value);return(U,_)=>(p(),x("div",qm,[i.value==="edit"?(p(),x("div",Qm,[Le(Gm,{"entry-id":h.value,"initial-category-id":$.value,"initial-scope":l.value,onBack:F,onSave:Q},null,8,["entry-id","initial-category-id","initial-scope"])])):R("",!0),c.value?(p(),x("div",Jm,[n("div",Ym,[_[11]||(_[11]=n("h3",{class:"text-xl font-bold uppercase tracking-widest mb-6"},"Move Entries",-1)),n("div",Xm,[_[10]||(_[10]=n("div",{class:"text-[10px] text-gray-400 uppercase tracking-widest mb-2 font-bold"},"To Category",-1)),n("div",Zm,[le(n("select",{"onUpdate:modelValue":_[0]||(_[0]=m=>u.value=m),class:"w-full text-xl font-serif font-bold italic bg-transparent border-b border-black outline-none appearance-none py-2 pr-8"},[(p(!0),x(ne,null,fe(T.value,m=>(p(),x("option",{key:m.id,value:m.id},P(m.name),9,e1))),128))],512),[[Qs,u.value]]),_[9]||(_[9]=n("span",{class:"material-symbols-outlined absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none"},"expand_more",-1))])]),n("div",t1,[n("button",{onClick:_[1]||(_[1]=m=>c.value=!1),class:"flex-1 py-3 border border-black font-bold uppercase text-xs tracking-widest hover:bg-gray-50"},"Cancel"),n("button",{onClick:ie,class:"flex-1 py-3 bg-black text-white font-bold uppercase text-xs tracking-widest hover:opacity-90"},"Confirm")])])])):(p(),x("div",s1,[n("div",n1,[n("div",o1,[n("button",{onClick:_[2]||(_[2]=m=>s("close")),class:"material-symbols-outlined text-[18px] -ml-2 w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors"},"arrow_back_ios_new"),_[12]||(_[12]=n("div",{class:"text-xl font-extrabold tracking-[0.2em] uppercase text-center"},"World Book",-1)),_[13]||(_[13]=n("div",{class:"w-10"},null,-1))]),n("div",a1,[n("div",{onClick:_[3]||(_[3]=m=>l.value="global"),class:X(["pb-2 cursor-pointer font-bold text-sm tracking-widest uppercase transition-all duration-300 border-b-2",l.value==="global"?"text-black border-black":"text-gray-300 border-transparent hover:text-gray-500"])}," Global ",2),n("div",{onClick:_[4]||(_[4]=m=>l.value="local"),class:X(["pb-2 cursor-pointer font-bold text-sm tracking-widest uppercase transition-all duration-300 border-b-2",l.value==="local"?"text-black border-black":"text-gray-300 border-transparent hover:text-gray-500"])}," Local ",2)])]),n("div",l1,[a.value==="home"?(p(),x("div",i1,[r.value?(p(),x("div",r1,[f.value.size>0?(p(),x("div",c1,[n("span",d1,P(f.value.size)+" selected",1),n("button",{onClick:Y,class:"px-4 py-2 bg-black text-white text-[10px] font-bold uppercase tracking-widest hover:opacity-90"}," Move to... ")])):R("",!0),_[15]||(_[15]=n("div",{class:"text-xs font-bold uppercase tracking-widest text-black mb-4 flex items-center gap-2"},[n("span",{class:"material-symbols-outlined text-sm"},"edit"),Gt(" Manage Categories ")],-1)),n("div",u1,[(p(!0),x(ne,null,fe(T.value,m=>(p(),x("div",{key:m.id,class:"flex flex-col gap-2 group"},[n("div",f1,[le(n("input",{"onUpdate:modelValue":v=>m.name=v,onChange:v=>Ne(o).updateCategory(m.id,m.name),class:"flex-grow border-b border-gray-200 py-1 font-serif text-lg italic outline-none focus:border-black bg-transparent"},null,40,p1),[[ue,m.name]]),n("button",{onClick:v=>me(m.id),class:"opacity-0 group-hover:opacity-100 transition-opacity text-red-500 material-symbols-outlined text-[20px]"},"delete",8,v1)]),n("div",b1,[(p(!0),x(ne,null,fe(be(m.id),v=>(p(),x("div",{key:v.id,onClick:S=>he(v.id),class:"py-2 flex items-center gap-3 cursor-pointer"},[n("div",{class:X(["w-4 h-4 border border-black flex items-center justify-center transition-colors",f.value.has(v.id)?"bg-black":"bg-transparent"])},[f.value.has(v.id)?(p(),x("span",g1,"check")):R("",!0)],2),n("div",{class:X(["font-bold text-sm",f.value.has(v.id)?"opacity-100":"opacity-60"])},P(v.title),3)],8,x1))),128))])]))),128)),n("div",m1,[le(n("input",{"onUpdate:modelValue":_[5]||(_[5]=m=>d.value=m),onKeyup:cs(ae,["enter"]),placeholder:"New Category...",class:"flex-grow border-b border-gray-100 py-1 font-serif text-lg italic outline-none focus:border-black bg-transparent placeholder:text-gray-200"},null,544),[[ue,d.value]]),n("button",{onClick:ae,class:"w-8 h-8 flex items-center justify-center bg-black text-white rounded-full hover:scale-105 transition-transform",disabled:!d.value.trim()},[..._[14]||(_[14]=[n("span",{class:"material-symbols-outlined text-sm"},"add",-1)])],8,h1)])])])):(p(),x("div",y1,[(p(!0),x(ne,null,fe(T.value,m=>(p(),x("div",{key:m.id,class:"group mb-8"},[n("div",k1,[n("h2",w1,P(m.name),1),_[16]||(_[16]=n("span",{class:"material-symbols-outlined text-gray-300 text-sm group-hover:text-black transition-colors transform group-hover:translate-x-1"},"arrow_forward",-1))]),n("div",_1,[(p(!0),x(ne,null,fe(be(m.id),v=>(p(),x("div",{key:v.id,onClick:S=>b(v.id),class:"py-1 cursor-pointer hover:translate-x-1 transition-transform group/entry"},[n("div",S1,P(v.title),1),n("div",C1,P(v.content),1)],8,$1))),128)),n("div",{onClick:v=>k(m.id),class:"py-2 opacity-30 hover:opacity-100 cursor-pointer text-[10px] uppercase tracking-wider font-bold flex items-center gap-1 transition-opacity"},[_[17]||(_[17]=n("span",{class:"material-symbols-outlined text-[12px]"},"add",-1)),Gt(" Add "+P(l.value)+" Entry ",1)],8,z1)])]))),128))]))])):R("",!0),a.value==="search"?(p(),x("div",I1,[n("div",A1,[_[18]||(_[18]=n("span",{class:"material-symbols-outlined absolute left-0 top-1/2 -translate-y-1/2 text-gray-400"},"search",-1)),le(n("input",{"onUpdate:modelValue":_[6]||(_[6]=m=>j.value=m),type:"text",placeholder:"Search...",class:"w-full pl-8 py-2 text-xl font-serif border-b border-gray-200 outline-none focus:border-black bg-transparent placeholder:italic placeholder:text-gray-200",autofocus:""},null,512),[[ue,j.value]])]),n("div",E1,[(p(!0),x(ne,null,fe(D.value,m=>(p(),x("div",{key:m.id,onClick:v=>b(m.id),class:"cursor-pointer"},[n("div",j1,[n("span",O1,P(m.scope),1),n("span",M1,P(T.value.find(v=>v.id===m.categoryId)?.name),1)]),n("div",P1,P(m.title),1),n("div",N1,P(m.content),1)],8,T1))),128))])])):R("",!0)]),n("div",L1,[n("button",{onClick:xe,class:X(["flex flex-col items-center gap-1 transition-colors",r.value?"text-black":"text-gray-300"])},[n("span",{class:X(["material-symbols-outlined text-[28px] fill-current",r.value?"font-variation-fill":""])},"grid_view",2)],2),n("button",{onClick:_[7]||(_[7]=m=>k()),class:"flex flex-col items-center justify-center w-12 h-12 bg-black rounded-full shadow-lg active:scale-95 transition-transform"},[..._[19]||(_[19]=[n("span",{class:"material-symbols-outlined text-white text-[24px]"},"add",-1)])]),n("button",{onClick:_[8]||(_[8]=m=>a.value="search"),class:X(["flex flex-col items-center gap-1 transition-colors",a.value==="search"?"text-black":"text-gray-300"])},[..._[20]||(_[20]=[n("span",{class:"material-symbols-outlined text-[28px]"},"search",-1)])],2)])]))]))}},B1=Ve(R1,[["__scopeId","data-v-2f02bc39"]]),D1={class:"relative h-screen w-full flex flex-col overflow-hidden bg-black font-display text-bw-text"},U1={class:"relative z-10 flex-grow px-6 pt-16 pb-32 overflow-y-auto no-scrollbar flex flex-col items-center"},V1={class:"grid grid-cols-2 gap-6 mb-10 w-full max-w-sm"},K1={class:"grid grid-cols-2 gap-3"},F1={__name:"Desktop",emits:["open-app"],setup(e,{emit:t}){const s=t,o=()=>{s("open-app","noir")};return(a,l)=>(p(),x("div",D1,[l[12]||(l[12]=n("div",{class:"raindrops-overlay"},null,-1)),n("div",U1,[n("div",V1,[l[6]||(l[6]=lt('<div class="p-2 flex flex-col justify-center" data-v-4f2b010a><div class="flex items-center gap-2 mb-2" data-v-4f2b010a><span class="material-symbols-outlined text-black text-lg fill-current" data-v-4f2b010a>favorite</span><span class="text-xl font-bold text-black" data-v-4f2b010a>15</span></div><div class="flex flex-col gap-2" data-v-4f2b010a><div class="text-[11px] font-serif text-black font-medium tracking-tight" data-v-4f2b010a> % - </div><div class="w-full border-b border-dashed border-black/20" data-v-4f2b010a></div><div class="text-[11px] font-serif text-black font-medium italic tracking-tight" data-v-4f2b010a> </div><div class="w-full border-b border-dashed border-black/20" data-v-4f2b010a></div><div class="flex gap-2 items-center mt-0.5 text-black/70" data-v-4f2b010a><span class="material-symbols-outlined text-[12px]" data-v-4f2b010a>waves</span><span class="material-symbols-outlined text-[12px]" data-v-4f2b010a>flare</span><span class="material-symbols-outlined text-[12px] fill-current" data-v-4f2b010a>favorite</span><span class="material-symbols-outlined text-[12px]" data-v-4f2b010a>radio_button_unchecked</span></div></div></div>',1)),n("div",K1,[n("div",{onClick:l[0]||(l[0]=i=>s("open-app","settings")),class:"flex flex-col items-center gap-1.5 py-0.5 group cursor-pointer hover:opacity-70 transition-opacity"},[...l[2]||(l[2]=[n("div",{class:"w-11 h-11 bg-white/30 rounded-2xl flex items-center justify-center"},[n("span",{class:"material-symbols-outlined text-black text-2xl icon-3d"},"settings")],-1),n("span",{class:"text-[8px] font-bold text-black uppercase tracking-tighter"},"Settings",-1)])]),l[4]||(l[4]=n("div",{class:"flex flex-col items-center gap-1.5 py-0.5 group cursor-pointer hover:opacity-70 transition-opacity"},[n("div",{class:"w-11 h-11 bg-white/30 rounded-2xl flex items-center justify-center"},[n("span",{class:"material-symbols-outlined text-black text-2xl icon-3d"},"pets")]),n("span",{class:"text-[8px] font-bold text-black uppercase tracking-tighter"},"Stocks")],-1)),n("div",{onClick:l[1]||(l[1]=i=>s("open-app","worldbook")),class:"flex flex-col items-center gap-1.5 py-0.5 group cursor-pointer hover:opacity-70 transition-opacity"},[...l[3]||(l[3]=[n("div",{class:"w-11 h-11 bg-white/30 rounded-2xl flex items-center justify-center"},[n("span",{class:"material-symbols-outlined text-black text-2xl icon-3d"},"menu_book")],-1),n("span",{class:"text-[8px] font-bold text-black uppercase tracking-tighter"},"WorldBook",-1)])]),l[5]||(l[5]=n("div",{class:"flex flex-col items-center gap-1.5 py-0.5 group cursor-pointer hover:opacity-70 transition-opacity"},[n("div",{class:"w-11 h-11 bg-white/30 rounded-2xl flex items-center justify-center"},[n("span",{class:"material-symbols-outlined text-black text-2xl icon-3d"},"alarm")]),n("span",{class:"text-[8px] font-bold text-black uppercase tracking-tighter"},"Clock")],-1))])]),l[7]||(l[7]=lt('<div class="relative flex justify-center items-center py-4 mb-10 w-full max-w-sm" data-v-4f2b010a><div class="absolute left-0 flex flex-col gap-5" data-v-4f2b010a><div class="glass-pill rounded-full px-4 py-1.5 flex items-center gap-2" data-v-4f2b010a><span class="material-symbols-outlined text-[9px] text-black" data-v-4f2b010a>link</span><span class="text-[9px] font-bold text-black uppercase tracking-wider" data-v-4f2b010a>Jaehyun</span></div><div class="glass-pill rounded-full px-4 py-1.5 flex items-center gap-2" data-v-4f2b010a><span class="material-symbols-outlined text-[9px] fill-current text-black" data-v-4f2b010a>favorite</span><span class="text-[9px] font-bold text-black uppercase tracking-wider" data-v-4f2b010a>LOVE is..?</span></div></div><div class="w-28 h-28 rounded-full border-[3px] border-white/60 shadow-2xl overflow-hidden bg-white/20 backdrop-blur-sm p-1.5 ring-1 ring-black/5" data-v-4f2b010a><div class="w-full h-full rounded-full bg-cover bg-center border border-white/30" style="background-image:url(&#39;https://lh3.googleusercontent.com/aida-public/AB6AXuANVyuKhkYadkm8bKboPb-6xmU6Na1kM1v46Sk6i-Nx8JU-WRwIrxsUzvlscwaAZBSUQuyZk5hy9LYzEK83Ocu9TPApy8HtdLHTcXqtGj-WxddCwujoFe2oyErtxOVO9kuUnkHfXjRtgygHK3CzgxU9irt0imIq5oziTBvhHIzSzE1mLBP5X84ByB3tYD4Vxz29vTIB-ON7MLEJyWULJrpSmtiS59MLKrh-QPpuexpk5tmWoXI9g6UNHr4kbwv53Zg7mD5cvJqlOsI&#39;);filter:grayscale(100%) contrast(1.1);" data-v-4f2b010a></div></div><div class="absolute right-0 flex flex-col gap-5" data-v-4f2b010a><div class="glass-pill rounded-full px-4 py-1.5 flex items-center gap-2" data-v-4f2b010a><span class="material-symbols-outlined text-[9px] text-black" data-v-4f2b010a>movie</span><span class="text-[9px] font-bold text-black uppercase tracking-wider" data-v-4f2b010a>Juyeon</span></div><div class="glass-pill rounded-full px-4 py-1.5 flex items-center gap-2" data-v-4f2b010a><span class="material-symbols-outlined text-[9px] text-black" data-v-4f2b010a>cloudy_snowing</span><span class="text-[9px] font-bold text-black uppercase tracking-wider" data-v-4f2b010a>Jaewyeon</span></div></div></div><div class="flex gap-6 items-center w-full max-w-sm" data-v-4f2b010a><div class="w-1/2 grid grid-cols-2 gap-3" data-v-4f2b010a><div class="flex flex-col items-center gap-1.5 group cursor-pointer hover:opacity-70 transition-opacity" data-v-4f2b010a><div class="w-11 h-11 bg-white/30 rounded-2xl flex items-center justify-center" data-v-4f2b010a><span class="material-symbols-outlined text-black text-2xl icon-3d" data-v-4f2b010a>calendar_today</span></div><span class="text-[10px] font-bold text-black tracking-wide" data-v-4f2b010a></span></div><div class="flex flex-col items-center gap-1.5 group cursor-pointer hover:opacity-70 transition-opacity" data-v-4f2b010a><div class="w-11 h-11 bg-white/30 rounded-2xl flex items-center justify-center" data-v-4f2b010a><span class="material-symbols-outlined text-black text-2xl icon-3d" data-v-4f2b010a>headphones</span></div><span class="text-[10px] font-bold text-black tracking-wide" data-v-4f2b010a></span></div><div class="flex flex-col items-center gap-1.5 group cursor-pointer hover:opacity-70 transition-opacity" data-v-4f2b010a><div class="w-11 h-11 bg-white/30 rounded-2xl flex items-center justify-center" data-v-4f2b010a><span class="material-symbols-outlined text-black text-2xl icon-3d" data-v-4f2b010a>key</span></div><span class="text-[10px] font-bold text-black tracking-wide" data-v-4f2b010a></span></div><div class="flex flex-col items-center gap-1.5 group cursor-pointer hover:opacity-70 transition-opacity" data-v-4f2b010a><div class="w-11 h-11 bg-white/30 rounded-2xl flex items-center justify-center" data-v-4f2b010a><span class="material-symbols-outlined text-black text-2xl icon-3d" data-v-4f2b010a>keyboard_voice</span></div><span class="text-[10px] font-bold text-black tracking-wide text-center leading-tight" data-v-4f2b010a><br data-v-4f2b010a></span></div></div><div class="w-1/2 flex flex-col gap-4 items-center self-center" data-v-4f2b010a><div class="flex justify-around w-full px-1" data-v-4f2b010a><div class="w-14 h-14 rounded-full overflow-hidden circular-widget bg-white/30 p-0.5 group cursor-pointer hover:opacity-80 transition-opacity" data-v-4f2b010a><div class="w-full h-full rounded-full bg-cover bg-center" style="background-image:url(&#39;https://lh3.googleusercontent.com/aida-public/AB6AXuANVyuKhkYadkm8bKboPb-6xmU6Na1kM1v46Sk6i-Nx8JU-WRwIrxsUzvlscwaAZBSUQuyZk5hy9LYzEK83Ocu9TPApy8HtdLHTcXqtGj-WxddCwujoFe2oyErtxOVO9kuUnkHfXjRtgygHK3CzgxU9irt0imIq5oziTBvhHIzSzE1mLBP5X84ByB3tYD4Vxz29vTIB-ON7MLEJyWULJrpSmtiS59MLKrh-QPpuexpk5tmWoXI9g6UNHr4kbwv53Zg7mD5cvJqlOsI&#39;);filter:grayscale(100%);" data-v-4f2b010a></div></div><div class="w-14 h-14 rounded-full overflow-hidden circular-widget bg-white/30 p-0.5 group cursor-pointer hover:opacity-80 transition-opacity" data-v-4f2b010a><div class="w-full h-full rounded-full bg-cover bg-center" style="background-image:url(&#39;https://lh3.googleusercontent.com/aida-public/AB6AXuANVyuKhkYadkm8bKboPb-6xmU6Na1kM1v46Sk6i-Nx8JU-WRwIrxsUzvlscwaAZBSUQuyZk5hy9LYzEK83Ocu9TPApy8HtdLHTcXqtGj-WxddCwujoFe2oyErtxOVO9kuUnkHfXjRtgygHK3CzgxU9irt0imIq5oziTBvhHIzSzE1mLBP5X84ByB3tYD4Vxz29vTIB-ON7MLEJyWULJrpSmtiS59MLKrh-QPpuexpk5tmWoXI9g6UNHr4kbwv53Zg7mD5cvJqlOsI&#39;);filter:grayscale(100%);" data-v-4f2b010a></div></div></div><div class="translucent-pill w-full h-11 rounded-full flex items-center px-4 gap-2 cursor-pointer hover:bg-white/40 transition-colors" data-v-4f2b010a><div class="w-2 h-2 bg-black/80 rounded-[1px]" data-v-4f2b010a></div><span class="text-[11px] font-serif text-black font-bold tracking-tight" data-v-4f2b010a>/ </span></div></div></div>',2))]),n("div",{class:"fixed bottom-8 left-1/2 -translate-x-1/2 w-[90%] max-w-sm z-50"},[n("div",{class:"dock px-8 py-4 flex justify-between items-center shadow-xl"},[l[9]||(l[9]=n("div",{class:"w-10 h-10 flex items-center justify-center cursor-pointer hover:scale-110 transition-transform"},[n("span",{class:"material-symbols-outlined text-black text-2xl opacity-90"},"phone_iphone")],-1)),n("div",{onClick:o,class:"w-10 h-10 flex items-center justify-center cursor-pointer hover:scale-110 transition-transform"},[...l[8]||(l[8]=[n("span",{class:"material-symbols-outlined text-black text-2xl opacity-90"},"chat_bubble",-1)])]),l[10]||(l[10]=n("div",{class:"w-10 h-10 flex items-center justify-center cursor-pointer hover:scale-110 transition-transform"},[n("span",{class:"material-symbols-outlined text-black text-2xl opacity-90"},"explore")],-1)),l[11]||(l[11]=n("div",{class:"w-10 h-10 flex items-center justify-center cursor-pointer hover:scale-110 transition-transform"},[n("span",{class:"material-symbols-outlined text-black text-2xl opacity-90"},"photo_camera")],-1))])])]))}},W1=Ve(F1,[["__scopeId","data-v-4f2b010a"]]),H1={class:"w-full min-h-[100dvh] relative"},G1={key:0,class:"fixed inset-0 z-50 bg-white"},q1={key:0,class:"fixed inset-0 z-50 bg-white"},Q1={key:0,class:"fixed inset-0 z-50 bg-white"},J1={__name:"App",setup(e){const t=B(!1),s=B(!1),o=B(!1),a=d=>{d==="noir"?t.value=!0:d==="settings"?s.value=!0:d==="worldbook"&&(o.value=!0)},l=()=>{t.value=!1},i=()=>{s.value=!1},r=()=>{o.value=!1};return(d,f)=>(p(),x("div",H1,[!t.value&&!s.value&&!o.value?(p(),De(W1,{key:0,onOpenApp:a})):R("",!0),Le(rs,{name:"app-launch"},{default:Ft(()=>[t.value?(p(),x("div",G1,[Le(Bg,{onClose:l})])):R("",!0)]),_:1}),Le(rs,{name:"app-launch"},{default:Ft(()=>[s.value?(p(),x("div",q1,[Le(Im,{onClose:i})])):R("",!0)]),_:1}),Le(rs,{name:"app-launch"},{default:Ft(()=>[o.value?(p(),x("div",Q1,[Le(B1,{onClose:r})])):R("",!0)]),_:1})]))}};hc(J1).mount("#app");
